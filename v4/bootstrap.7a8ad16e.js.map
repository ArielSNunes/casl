{"version":3,"file":"bootstrap.7a8ad16e.js","sources":["../node_modules/core-js/internals/global.js","../node_modules/core-js/internals/fails.js","../node_modules/core-js/internals/descriptors.js","../node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/core-js/internals/create-property-descriptor.js","../node_modules/core-js/internals/classof-raw.js","../node_modules/core-js/internals/indexed-object.js","../node_modules/core-js/internals/to-indexed-object.js","../node_modules/core-js/internals/require-object-coercible.js","../node_modules/core-js/internals/is-object.js","../node_modules/core-js/internals/to-primitive.js","../node_modules/core-js/internals/has.js","../node_modules/core-js/internals/document-create-element.js","../node_modules/core-js/internals/ie8-dom-define.js","../node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/core-js/internals/an-object.js","../node_modules/core-js/internals/object-define-property.js","../node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/core-js/internals/set-global.js","../node_modules/core-js/internals/shared-store.js","../node_modules/core-js/internals/inspect-source.js","../node_modules/core-js/internals/internal-state.js","../node_modules/core-js/internals/shared-key.js","../node_modules/core-js/internals/native-weak-map.js","../node_modules/core-js/internals/shared.js","../node_modules/core-js/internals/uid.js","../node_modules/core-js/internals/hidden-keys.js","../node_modules/core-js/internals/task.js","../node_modules/core-js/internals/redefine.js","../node_modules/core-js/internals/path.js","../node_modules/core-js/internals/get-built-in.js","../node_modules/core-js/internals/to-integer.js","../node_modules/core-js/internals/to-length.js","../node_modules/core-js/internals/to-absolute-index.js","../node_modules/core-js/internals/array-includes.js","../node_modules/core-js/internals/object-keys-internal.js","../node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/core-js/internals/enum-bug-keys.js","../node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/core-js/internals/own-keys.js","../node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/core-js/internals/is-forced.js","../node_modules/core-js/internals/export.js","../node_modules/core-js/internals/html.js","../node_modules/core-js/internals/engine-user-agent.js","../node_modules/core-js/internals/engine-is-ios.js","../node_modules/core-js/internals/function-bind-context.js","../node_modules/core-js/internals/a-function.js","../node_modules/core-js/modules/web.immediate.js","../node_modules/lit-html/lib/dom.js","../node_modules/lit-html/lib/template.js","../node_modules/lit-html/lib/modify-template.js","../node_modules/lit-html/lib/directive.js","../node_modules/lit-html/lib/part.js","../node_modules/lit-html/lib/template-instance.js","../node_modules/lit-html/lib/template-result.js","../node_modules/lit-html/lib/parts.js","../node_modules/lit-html/lib/template-factory.js","../node_modules/lit-html/lib/render.js","../node_modules/lit-html/lib/default-template-processor.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-html/lib/shady-render.js","../node_modules/lit-element/lib/updating-element.js","../node_modules/lit-element/lib/css-tag.js","../node_modules/lit-element/lit-element.js","../node_modules/lit-html/directives/cache.js","../node_modules/path-to-regexp/index.js","../node_modules/@curi/router/dist/curi-router.es.js","../node_modules/@hickory/location-utils/dist/hickory-location-utils.es.js","../node_modules/@hickory/root/dist/hickory-root.es.js","../node_modules/@hickory/dom-utils/dist/hickory-dom-utils.es.js","../node_modules/@hickory/browser/dist/hickory-browser.es.js","../src/config/app.js","../node_modules/lit-translate/helpers.js","../node_modules/lit-translate/util.js","../node_modules/lit-translate/config.js","../node_modules/lit-translate/cleanup.js","../node_modules/lit-translate/directive.js","../node_modules/lit-html/directives/unsafe-html.js","../src/services/utils.js","../src/services/http.js","../CONTENT_1:/home/runner/work/casl/casl/docs-src/src/content/app","../src/services/i18n.js","../node_modules/minisearch/dist/es/index.js","../src/config/search.js","../CONTENT_2:/home/runner/work/casl/casl/docs-src/src/content/pages","../src/services/content.js","../src/services/ContentType.js","../src/services/error.js","../src/services/pageController.js","../src/services/querystring.js","../src/services/router.js","../node_modules/@curi/interactions/dist/curi-interactions.es.js","../src/hooks/watchMedia.js","../src/directives/i18n.js","../node_modules/lit-translate/directives/translate.js","../src/components/App.js","../src/styles/grid.js","../src/components/AppRoot.js","../src/styles/md.js","../src/styles/page.js","../src/styles/btn.js","../src/styles/code.js","../src/styles/alert.js","../src/components/AppFooter.js","../src/components/AppHeader.js","../src/assets/icons/menu.png","../src/components/AppLink.js","../src/components/AppMenu.js","../src/components/ArticleDetails.js","../src/components/I18nElement.js","../src/services/meta.js","../src/hooks/scrollToSection.js","../src/components/Page.js","../src/components/PageNav.js","../src/partials/caslFeatures.js","../src/components/HomePage.js","../src/assets/casl-shield.png","../node_modules/github-buttons/dist/buttons.esm.js","../src/components/GithubButton.js","../src/components/QuickSearch.js","../src/components/LangPicker.js","../src/components/OneTimeDonations.js","../src/assets/payment-options/liqpay.svg","../src/assets/payment-options/liqpay-qrcode.png","../src/components/PagesByCategories.js","../src/components/AppNotification.js","../node_modules/menu-drawer.js/dist/es/index.js","../src/components/MenuDrawer.js","../src/services/version.js","../src/components/VersionsSelect.js","../src/components/OldVersionAlert.js","../src/app.js","../src/serviceWorker.js","../src/bootstrap.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar task = require('../internals/task');\n\nvar FORCED = !global.setImmediate || !global.clearImmediate;\n\n// http://w3c.github.io/setImmediate/\n$({ global: true, bind: true, enumerable: true, forced: FORCED }, {\n  // `setImmediate` method\n  // http://w3c.github.io/setImmediate/#si-setImmediate\n  setImmediate: task.set,\n  // `clearImmediate` method\n  // http://w3c.github.io/setImmediate/#si-clearImmediate\n  clearImmediate: task.clear\n});\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module shady-render\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        if (this.startNode.parentNode === null) {\n            return;\n        }\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // event options not supported\n    }\n})();\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.2.1');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this._updateState = 0;\n        this._instanceProperties = undefined;\n        // Initialize to an unresolved Promise so we can make sure the element has\n        // connected before first update.\n        this._updatePromise = new Promise((res) => this._enableUpdatingResolver = res);\n        /**\n         * Map with keys for any properties that have changed since the last\n         * update cycle with previous values.\n         */\n        this._changedProperties = new Map();\n        /**\n         * Map with keys of properties that should be reflected when updated.\n         */\n        this._reflectingProperties = undefined;\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a PropertyDeclaration for the property with the given options.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     *\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        const descriptor = this.getPropertyDescriptor(name, key, options);\n        if (descriptor !== undefined) {\n            Object.defineProperty(this.prototype, name, descriptor);\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     *   class MyElement extends LitElement {\n     *     static getPropertyDescriptor(name, key, options) {\n     *       const defaultDescriptor =\n     *           super.getPropertyDescriptor(name, key, options);\n     *       const setter = defaultDescriptor.set;\n     *       return {\n     *         get: defaultDescriptor.get,\n     *         set(value) {\n     *           setter.call(this, value);\n     *           // custom action.\n     *         },\n     *         configurable: true,\n     *         enumerable: true\n     *       }\n     *     }\n     *   }\n     *\n     * @nocollapse\n     */\n    static getPropertyDescriptor(name, key, _options) {\n        return {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this._requestUpdate(name, oldValue);\n            },\n            configurable: true,\n            enumerable: true\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a PropertyDeclaration via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override `createProperty`.\n     *\n     * @nocollapse\n     * @final\n     */\n    static getPropertyOptions(name) {\n        return this._classProperties && this._classProperties.get(name) ||\n            defaultPropertyDeclaration;\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this._requestUpdate();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection.\n        this.enableUpdating();\n    }\n    enableUpdating() {\n        if (this._enableUpdatingResolver !== undefined) {\n            this._enableUpdatingResolver();\n            this._enableUpdatingResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        // tslint:disable-next-line:no-unnecessary-type-assertion\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor.getPropertyOptions(propName);\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This private version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    _requestUpdate(name, oldValue) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            const options = ctor.getPropertyOptions(name);\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._updatePromise = this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this._requestUpdate(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this._updatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        const result = this.performUpdate();\n        // If `performUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this._hasRequestedUpdate;\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n            else {\n                this._markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n            throw e;\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n        this._markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nexport const supportsAdoptingStyleSheets = ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n            // is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.3.1');\n/**\n * Sentinal value used to avoid calling lit-html's render function when\n * subclasses do not implement `render`\n */\nconst renderNotImplemented = {};\nexport class LitElement extends UpdatingElement {\n    /**\n     * Return the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * @nocollapse\n     */\n    static getStyles() {\n        return this.styles;\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Only gather styles once per class\n        if (this.hasOwnProperty(JSCompiler_renameProperty('_styles', this))) {\n            return;\n        }\n        // Take care not to call `this.getStyles()` multiple times since this\n        // generates new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.getStyles();\n        if (userStyles === undefined) {\n            this._styles = [];\n        }\n        else if (Array.isArray(userStyles)) {\n            // De-duplicate styles preserving the _last_ instance in the set.\n            // This is a performance optimization to avoid duplicated styles that can\n            // occur especially when composing via subclassing.\n            // The last item is kept to try to preserve the cascade order with the\n            // assumption that it's most important that last added styles override\n            // previous styles.\n            const addStyles = (styles, set) => styles.reduceRight((set, s) => \n            // Note: On IE set.add() does not return the set\n            Array.isArray(s) ? addStyles(s, set) : (set.add(s), set), set);\n            // Array.from does not work on Set in IE, otherwise return\n            // Array.from(addStyles(userStyles, new Set<CSSResult>())).reverse()\n            const set = addStyles(userStyles, new Set());\n            const styles = [];\n            set.forEach((v) => styles.unshift(v));\n            this._styles = styles;\n        }\n        else {\n            this._styles = [userStyles];\n        }\n    }\n    /**\n     * Performs element initialization. By default this calls `createRenderRoot`\n     * to create the element `renderRoot` node and captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.constructor._getUniqueStyles();\n        this.renderRoot =\n            this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the `static get styles`\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it.\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const templateResult = this.render();\n        super.update(changedProperties);\n        // If render is not implemented by the component, don't call lit-html render\n        if (templateResult !== renderNotImplemented) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's NodePart - typically a TemplateResult.\n     * Setting properties inside this method will *not* trigger the element to\n     * update.\n     */\n    render() {\n        return renderNotImplemented;\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Render method used to render the value to the element's DOM.\n * @param result The value to render.\n * @param container Node into which to render.\n * @param options Element name.\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { TemplateInstance } from '../lib/template-instance.js';\nimport { directive, NodePart, reparentNodes, TemplateResult } from '../lit-html.js';\nconst templateCaches = new WeakMap();\n/**\n * Enables fast switching between multiple templates by caching the DOM nodes\n * and TemplateInstances produced by the templates.\n *\n * Example:\n *\n * ```\n * let checked = false;\n *\n * html`\n *   ${cache(checked ? html`input is checked` : html`input is not checked`)}\n * `\n * ```\n */\nexport const cache = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('cache can only be used in text bindings');\n    }\n    let templateCache = templateCaches.get(part);\n    if (templateCache === undefined) {\n        templateCache = new WeakMap();\n        templateCaches.set(part, templateCache);\n    }\n    const previousValue = part.value;\n    // First, can we update the current TemplateInstance, or do we need to move\n    // the current nodes into the cache?\n    if (previousValue instanceof TemplateInstance) {\n        if (value instanceof TemplateResult &&\n            previousValue.template === part.options.templateFactory(value)) {\n            // Same Template, just trigger an update of the TemplateInstance\n            part.setValue(value);\n            return;\n        }\n        else {\n            // Not the same Template, move the nodes from the DOM into the cache.\n            let cachedTemplate = templateCache.get(previousValue.template);\n            if (cachedTemplate === undefined) {\n                cachedTemplate = {\n                    instance: previousValue,\n                    nodes: document.createDocumentFragment(),\n                };\n                templateCache.set(previousValue.template, cachedTemplate);\n            }\n            reparentNodes(cachedTemplate.nodes, part.startNode.nextSibling, part.endNode);\n        }\n    }\n    // Next, can we reuse nodes from the cache?\n    if (value instanceof TemplateResult) {\n        const template = part.options.templateFactory(value);\n        const cachedTemplate = templateCache.get(template);\n        if (cachedTemplate !== undefined) {\n            // Move nodes out of cache\n            part.setValue(cachedTemplate.nodes);\n            part.commit();\n            // Set the Part value to the TemplateInstance so it'll update it.\n            part.value = cachedTemplate.instance;\n        }\n    }\n    part.setValue(value);\n});\n//# sourceMappingURL=cache.js.map","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\nvar DEFAULT_DELIMITERS = './'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var next = str[index]\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k]\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = prev || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER)\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n  var isEndDelimited = tokens.length === 0\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","import { pathname } from '@curi/interactions';\nimport PathToRegexp from 'path-to-regexp';\n\nvar isAsyncRoute = function (route) {\r\n    return typeof route.methods.resolve !== \"undefined\";\r\n};\r\nvar isExternalRedirect = function (redirect) {\r\n    return \"externalURL\" in redirect;\r\n};\r\nvar createRedirect = function (redirect, router) {\r\n    if (isExternalRedirect(redirect)) {\r\n        return redirect;\r\n    }\r\n    var name = redirect.name, params = redirect.params, query = redirect.query, hash = redirect.hash, state = redirect.state;\r\n    var url = \"url\" in redirect\r\n        ? redirect.url\r\n        : router.url({ name: name, params: params, query: query, hash: hash });\r\n    return {\r\n        name: name,\r\n        params: params,\r\n        query: query,\r\n        hash: hash,\r\n        state: state,\r\n        url: url\r\n    };\r\n};\r\nvar finishResponse = function (route, match, resolvedResults, router, external) {\r\n    var _a = resolvedResults || {}, _b = _a.resolved, resolved = _b === void 0 ? null : _b, _c = _a.error, error = _c === void 0 ? null : _c;\r\n    var response = {\r\n        data: undefined,\r\n        body: undefined,\r\n        meta: undefined\r\n    };\r\n    for (var key in match) {\r\n        response[key] = match[key];\r\n    }\r\n    if (!route.methods.respond) {\r\n        return response;\r\n    }\r\n    var results = route.methods.respond({\r\n        resolved: resolved,\r\n        error: error,\r\n        match: match,\r\n        external: external\r\n    });\r\n    if (!results) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            console.warn(\"\\\"\" + match.name + \"\\\"'s response function did not return anything. Did you forget to include a return statement?\");\r\n        }\r\n        return response;\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        var validProperties_1 = {\r\n            meta: true,\r\n            body: true,\r\n            data: true,\r\n            redirect: true\r\n        };\r\n        Object.keys(results).forEach(function (property) {\r\n            if (!(property in validProperties_1)) {\r\n                console.warn(\"\\\"\" + property + \"\\\" is not a valid response property. The valid properties are:\\n\\n  \" + Object.keys(validProperties_1).join(\", \"));\r\n            }\r\n        });\r\n    }\r\n    response[\"meta\"] = results[\"meta\"];\r\n    response[\"body\"] = results[\"body\"];\r\n    response[\"data\"] = results[\"data\"];\r\n    if (results[\"redirect\"]) {\r\n        response[\"redirect\"] = createRedirect(results[\"redirect\"], router);\r\n    }\r\n    return response;\r\n};\r\nvar createRouter = function (historyConstructor, routes, options) {\r\n    var _a, _b;\r\n    if (options === void 0) { options = {}; }\r\n    var historyOptions = (_a = options.history, _a === void 0 ? {} : _a), sideEffects = options.sideEffects, external = options.external, invisibleRedirects = (_b = options.invisibleRedirects, _b === void 0 ? false : _b);\r\n    var history;\r\n    var router;\r\n    var latestResponse;\r\n    var latestNavigation;\r\n    var cancelWith;\r\n    var asyncNavNotifiers = [];\r\n    var observers = [];\r\n    var oneTimers = [];\r\n    var cancelCallback;\r\n    var finishCallback;\r\n    var resetCallbacks = function () {\r\n        cancelCallback = undefined;\r\n        finishCallback = undefined;\r\n    };\r\n    var cancelAndResetNavCallbacks = function () {\r\n        if (cancelCallback) {\r\n            cancelCallback();\r\n        }\r\n        resetCallbacks();\r\n    };\r\n    var finishAndResetNavCallbacks = function () {\r\n        if (finishCallback) {\r\n            finishCallback();\r\n        }\r\n        resetCallbacks();\r\n    };\r\n    var assignCallbacks = function (cancelled, finished) {\r\n        cancelCallback = cancelled;\r\n        finishCallback = finished;\r\n        return resetCallbacks;\r\n    };\r\n    var asyncNavComplete = function () {\r\n        if (cancelWith) {\r\n            cancelWith = undefined;\r\n            asyncNavNotifiers.forEach(function (fn) {\r\n                fn();\r\n            });\r\n        }\r\n    };\r\n    var callObservers = function (emitted) {\r\n        observers.forEach(function (fn) {\r\n            fn(emitted);\r\n        });\r\n    };\r\n    var callOneTimersAndSideEffects = function (emitted) {\r\n        oneTimers.splice(0).forEach(function (fn) {\r\n            fn(emitted);\r\n        });\r\n        if (sideEffects) {\r\n            sideEffects.forEach(function (fn) {\r\n                fn(emitted);\r\n            });\r\n        }\r\n    };\r\n    var emitImmediate = function (response, navigation) {\r\n        if (!response.redirect ||\r\n            !invisibleRedirects ||\r\n            isExternalRedirect(response.redirect)) {\r\n            latestResponse = response;\r\n            latestNavigation = navigation;\r\n            var emit = { response: response, navigation: navigation, router: router };\r\n            callObservers(emit);\r\n            callOneTimersAndSideEffects(emit);\r\n        }\r\n        if (response.redirect !== undefined &&\r\n            !isExternalRedirect(response.redirect)) {\r\n            history.navigate(response.redirect, \"replace\");\r\n        }\r\n    };\r\n    var finalizeResponseAndEmit = function (route, match, pending, navigation, resolved) {\r\n        asyncNavComplete();\r\n        pending.finish();\r\n        var response = finishResponse(route, match, resolved, router, external);\r\n        finishAndResetNavCallbacks();\r\n        emitImmediate(response, navigation);\r\n    };\r\n    // let any async navigation listeners (observers from router.cancel)\r\n    // know that there is an asynchronous navigation happening\r\n    var announceAsyncNav = function () {\r\n        if (asyncNavNotifiers.length && cancelWith === undefined) {\r\n            cancelWith = function () {\r\n                history.cancel();\r\n                asyncNavComplete();\r\n                cancelAndResetNavCallbacks();\r\n            };\r\n            asyncNavNotifiers.forEach(function (fn) {\r\n                fn(cancelWith);\r\n            });\r\n        }\r\n    };\r\n    history = historyConstructor(function (pendingNav) {\r\n        var navigation = {\r\n            action: pendingNav.action,\r\n            previous: latestResponse\r\n        };\r\n        var matched = routes.match(pendingNav.location);\r\n        if (!matched) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                console.warn(\"The current location (\" + pendingNav.location.pathname + \") has no matching route, \" +\r\n                    'so a response could not be emitted. A catch-all route ({ path: \"(.*)\" }) ' +\r\n                    \"can be used to match locations with no other matching route.\");\r\n            }\r\n            pendingNav.finish();\r\n            finishAndResetNavCallbacks();\r\n            return;\r\n        }\r\n        var route = matched.route, match = matched.match;\r\n        if (!isAsyncRoute(route)) {\r\n            finalizeResponseAndEmit(route, match, pendingNav, navigation, null);\r\n        }\r\n        else {\r\n            announceAsyncNav();\r\n            route.methods\r\n                .resolve(match, external)\r\n                .then(function (resolved) { return ({ resolved: resolved, error: null }); }, function (error) { return ({ error: error, resolved: null }); })\r\n                .then(function (resolved) {\r\n                if (pendingNav.cancelled) {\r\n                    return;\r\n                }\r\n                finalizeResponseAndEmit(route, match, pendingNav, navigation, resolved);\r\n            });\r\n        }\r\n    }, historyOptions);\r\n    router = {\r\n        route: routes.route,\r\n        history: history,\r\n        external: external,\r\n        observe: function (fn, options) {\r\n            var _a;\r\n            var initial = (_a = (options || {}).initial, _a === void 0 ? true : _a);\r\n            observers.push(fn);\r\n            if (latestResponse && initial) {\r\n                fn({\r\n                    response: latestResponse,\r\n                    navigation: latestNavigation,\r\n                    router: router\r\n                });\r\n            }\r\n            return function () {\r\n                observers = observers.filter(function (obs) {\r\n                    return obs !== fn;\r\n                });\r\n            };\r\n        },\r\n        once: function (fn, options) {\r\n            var _a;\r\n            var initial = (_a = (options || {}).initial, _a === void 0 ? true : _a);\r\n            if (latestResponse && initial) {\r\n                fn({\r\n                    response: latestResponse,\r\n                    navigation: latestNavigation,\r\n                    router: router\r\n                });\r\n            }\r\n            else {\r\n                oneTimers.push(fn);\r\n            }\r\n        },\r\n        cancel: function (fn) {\r\n            asyncNavNotifiers.push(fn);\r\n            return function () {\r\n                asyncNavNotifiers = asyncNavNotifiers.filter(function (can) {\r\n                    return can !== fn;\r\n                });\r\n            };\r\n        },\r\n        url: function (details) {\r\n            var name = details.name, params = details.params, hash = details.hash, query = details.query;\r\n            var pathname$1;\r\n            if (name) {\r\n                var route = router.route(name);\r\n                if (route) {\r\n                    pathname$1 = pathname(route, params);\r\n                }\r\n            }\r\n            return history.url({ pathname: pathname$1, hash: hash, query: query });\r\n        },\r\n        navigate: function (details) {\r\n            cancelAndResetNavCallbacks();\r\n            var url = details.url, state = details.state, method = details.method;\r\n            history.navigate({ url: url, state: state }, method);\r\n            if (details.cancelled || details.finished) {\r\n                return assignCallbacks(details.cancelled, details.finished);\r\n            }\r\n        },\r\n        current: function () {\r\n            return {\r\n                response: latestResponse,\r\n                navigation: latestNavigation\r\n            };\r\n        },\r\n        destroy: function () {\r\n            history.destroy();\r\n        }\r\n    };\r\n    history.current();\r\n    return router;\r\n};\n\nvar withLeadingSlash = function (path) {\r\n    return path.charAt(0) === \"/\" ? path : \"/\" + path;\r\n};\r\nvar withTrailingSlash = function (path) {\r\n    return path.charAt(path.length - 1) === \"/\" ? path : path + \"/\";\r\n};\r\nvar join = function (beginning, end) {\r\n    return withTrailingSlash(beginning) + end;\r\n};\r\nvar createRoute = function (props, map, parent) {\r\n    if (parent === void 0) { parent = {\r\n        path: \"\",\r\n        keys: []\r\n    }; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (props.name in map) {\r\n            throw new Error(\"Multiple routes have the name \\\"\" + props.name + \"\\\". Route names must be unique.\");\r\n        }\r\n        if (props.path.charAt(0) === \"/\") {\r\n            throw new Error(\"Route paths cannot start with a forward slash (/). (Received \\\"\" + props.path + \"\\\")\");\r\n        }\r\n    }\r\n    var fullPath = withLeadingSlash(join(parent.path, props.path));\r\n    var _a = props.pathOptions || {}, _b = _a.match, matchOptions = _b === void 0 ? {} : _b, _c = _a.compile, compileOptions = _c === void 0 ? {} : _c;\r\n    // end must be false for routes with children, but we want to track its original value\r\n    var exact = matchOptions.end == null || matchOptions.end;\r\n    if (props.children && props.children.length) {\r\n        matchOptions.end = false;\r\n    }\r\n    var keys = [];\r\n    var re = PathToRegexp(withLeadingSlash(props.path), keys, matchOptions);\r\n    var keyNames = keys.map(function (key) { return key.name; });\r\n    if (parent.keys.length) {\r\n        keyNames = parent.keys.concat(keyNames);\r\n    }\r\n    var childRoutes = [];\r\n    var children = [];\r\n    if (props.children) {\r\n        for (var _i = 0, _d = props.children; _i < _d.length; _i++) {\r\n            var child = _d[_i];\r\n            var childRoute = createRoute(child, map, {\r\n                path: fullPath,\r\n                keys: keyNames\r\n            });\r\n            childRoutes.push(childRoute);\r\n            children.push(childRoute.public);\r\n        }\r\n    }\r\n    var compiled = PathToRegexp.compile(fullPath);\r\n    var route = {\r\n        public: {\r\n            name: props.name,\r\n            keys: keyNames,\r\n            parent: undefined,\r\n            children: children,\r\n            methods: {\r\n                resolve: props.resolve,\r\n                respond: props.respond,\r\n                pathname: function (params) {\r\n                    return compiled(params, compileOptions);\r\n                }\r\n            },\r\n            extra: props.extra\r\n        },\r\n        matching: {\r\n            re: re,\r\n            keys: keys,\r\n            exact: exact,\r\n            parsers: props.params || {},\r\n            children: childRoutes\r\n        }\r\n    };\r\n    map[props.name] = route.public;\r\n    if (childRoutes.length) {\r\n        childRoutes.forEach(function (child) {\r\n            child.public.parent = route.public;\r\n        });\r\n    }\r\n    return route;\r\n};\r\nvar matchRoute = function (route, pathname) {\r\n    var _a = route.matching, re = _a.re, children = _a.children, exact = _a.exact;\r\n    var regExpMatch = re.exec(pathname);\r\n    if (!regExpMatch) {\r\n        return [];\r\n    }\r\n    var matchedSegment = regExpMatch[0], parsed = regExpMatch.slice(1);\r\n    var matches = [{ route: route, parsed: parsed }];\r\n    var remainder = pathname.slice(matchedSegment.length);\r\n    if (!children.length || remainder === \"\") {\r\n        return matches;\r\n    }\r\n    // match that ends with a trailing slash strips it from the remainder\r\n    var fullSegments = withLeadingSlash(remainder);\r\n    for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\r\n        var child = children_1[_i];\r\n        var matched = matchRoute(child, fullSegments);\r\n        if (matched.length) {\r\n            return matches.concat(matched);\r\n        }\r\n    }\r\n    return exact ? [] : matches;\r\n};\r\nvar createMatch = function (routeMatches, location) {\r\n    var route = routeMatches[routeMatches.length - 1].route.public;\r\n    var params = {};\r\n    for (var _i = 0, routeMatches_1 = routeMatches; _i < routeMatches_1.length; _i++) {\r\n        var _a = routeMatches_1[_i], route_1 = _a.route, parsed = _a.parsed;\r\n        var _b = route_1.matching, keys = _b.keys, parsers = _b.parsers;\r\n        for (var i = 0, len = parsed.length; i < len; i++) {\r\n            var name_1 = keys[i].name;\r\n            var fn = parsers[name_1] || decodeURIComponent;\r\n            params[name_1] = fn(parsed[i]);\r\n        }\r\n    }\r\n    return {\r\n        route: route,\r\n        match: {\r\n            location: location,\r\n            name: route.name,\r\n            params: params\r\n        }\r\n    };\r\n};\r\nvar prepareRoutes = function (routes) {\r\n    var mappedRoutes = {};\r\n    var prepared = routes.map(function (route) { return createRoute(route, mappedRoutes); });\r\n    return {\r\n        match: function (location) {\r\n            for (var _i = 0, prepared_1 = prepared; _i < prepared_1.length; _i++) {\r\n                var route = prepared_1[_i];\r\n                var routeMatches = matchRoute(route, location.pathname);\r\n                if (routeMatches.length) {\r\n                    return createMatch(routeMatches, location);\r\n                }\r\n            }\r\n        },\r\n        route: function (name) {\r\n            if (process.env.NODE_ENV !== \"production\" && !(name in mappedRoutes)) {\r\n                console.warn(\"Attempting to use route \\\"\" + name + \"\\\", but no route with that name exists.\");\r\n            }\r\n            return mappedRoutes[name];\r\n        }\r\n    };\r\n};\n\nvar announce = function (fmt, mode) {\r\n    if (mode === void 0) { mode = \"assertive\"; }\r\n    var announcer = document.createElement(\"div\");\r\n    announcer.setAttribute(\"aria-live\", mode);\r\n    // https://hugogiraudel.com/2016/10/13/css-hide-and-seek/\r\n    announcer.setAttribute(\"style\", [\r\n        \"border: 0 !important;\",\r\n        \"clip: rect(1px, 1px, 1px, 1px) !important;\",\r\n        \"-webkit-clip-path: inset(50%) !important;\",\r\n        \"clip-path: inset(50%) !important;\",\r\n        \"height: 1px !important;\",\r\n        \"overflow: hidden !important;\",\r\n        \"padding: 0 !important;\",\r\n        \"position: absolute !important;\",\r\n        \"width: 1px !important;\",\r\n        \"white-space: nowrap !important;\",\r\n        \"top: 0;\"\r\n    ].join(\" \"));\r\n    document.body.appendChild(announcer);\r\n    return function (emitted) {\r\n        announcer.textContent = fmt(emitted);\r\n    };\r\n};\r\nvar scroll = function () {\r\n    return function (_a) {\r\n        var response = _a.response, navigation = _a.navigation;\r\n        if (navigation.action === \"pop\") {\r\n            return;\r\n        }\r\n        // wait until after the re-render to scroll\r\n        setTimeout(function () {\r\n            var hash = response.location.hash;\r\n            if (hash !== \"\") {\r\n                var element = document.getElementById(hash);\r\n                if (element && element.scrollIntoView) {\r\n                    element.scrollIntoView();\r\n                    return;\r\n                }\r\n            }\r\n            // if there is no hash, no element matching the hash,\r\n            // or the browser doesn't support, we will just scroll\r\n            // to the top of the page\r\n            window.scrollTo(0, 0);\r\n        }, 0);\r\n    };\r\n};\r\nvar title = function (callback) {\r\n    return function (emitted) {\r\n        document.title = callback(emitted);\r\n    };\r\n};\n\nexport { announce, createRouter, prepareRoutes, scroll, title };\n","function ensureBeginsWith(str, prefix) {\r\n    if (!str) {\r\n        return \"\";\r\n    }\r\n    return str.indexOf(prefix) === 0 ? str : prefix + str;\r\n}\r\nfunction stripPrefix(str, prefix) {\r\n    return str.indexOf(prefix) === 0 ? str.slice(prefix.length) : str;\r\n}\n\nexport { ensureBeginsWith, stripPrefix };\n","import { ensureBeginsWith } from '@hickory/location-utils';\n\nfunction defaultParseQuery(query) {\r\n    return query ? query : \"\";\r\n}\r\nfunction defaultStringifyQuery(query) {\r\n    return query ? query : \"\";\r\n}\r\nfunction locationUtils(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _a = options.query, _b = _a === void 0 ? {} : _a, _c = _b.parse, parseQuery = _c === void 0 ? defaultParseQuery : _c, _d = _b.stringify, stringifyQuery = _d === void 0 ? defaultStringifyQuery : _d, base = options.base;\r\n    return {\r\n        location: function (value, current) {\r\n            var url = value.url, state = value.state;\r\n            // special cases for empty/hash URLs\r\n            if (url === \"\" || url.charAt(0) === \"#\") {\r\n                if (!current) {\r\n                    current = { pathname: \"/\", hash: \"\", query: parseQuery() };\r\n                }\r\n                var details_1 = {\r\n                    pathname: current.pathname,\r\n                    hash: url.charAt(0) === \"#\" ? url.substring(1) : current.hash,\r\n                    query: current.query\r\n                };\r\n                if (state) {\r\n                    details_1.state = state;\r\n                }\r\n                return details_1;\r\n            }\r\n            // hash is always after query, so split it off first\r\n            var hashIndex = url.indexOf(\"#\");\r\n            var hash;\r\n            if (hashIndex !== -1) {\r\n                hash = url.substring(hashIndex + 1);\r\n                url = url.substring(0, hashIndex);\r\n            }\r\n            else {\r\n                hash = \"\";\r\n            }\r\n            var queryIndex = url.indexOf(\"?\");\r\n            var rawQuery;\r\n            if (queryIndex !== -1) {\r\n                rawQuery = url.substring(queryIndex + 1);\r\n                url = url.substring(0, queryIndex);\r\n            }\r\n            var query = parseQuery(rawQuery);\r\n            var pathname = base ? base.remove(url) : url;\r\n            if (pathname === \"\") {\r\n                pathname = \"/\";\r\n            }\r\n            var details = {\r\n                hash: hash,\r\n                query: query,\r\n                pathname: pathname\r\n            };\r\n            if (state) {\r\n                details.state = state;\r\n            }\r\n            return details;\r\n        },\r\n        keyed: function (location, key) {\r\n            location.key = key;\r\n            return location;\r\n        },\r\n        stringify: function (location) {\r\n            if (typeof location === \"string\") {\r\n                var firstChar = location.charAt(0);\r\n                if (firstChar === \"#\" || firstChar === \"?\") {\r\n                    return location;\r\n                }\r\n                return base ? base.add(location) : location;\r\n            }\r\n            var pathname = location.pathname !== undefined\r\n                ? base\r\n                    ? base.add(location.pathname)\r\n                    : location.pathname\r\n                : \"\";\r\n            return (pathname +\r\n                ensureBeginsWith(stringifyQuery(location.query), \"?\") +\r\n                ensureBeginsWith(location.hash, \"#\"));\r\n        }\r\n    };\r\n}\n\nfunction createKeyGenerator() {\r\n    var major = 0;\r\n    return {\r\n        major: function (previous) {\r\n            if (previous) {\r\n                major = previous[0] + 1;\r\n            }\r\n            return [major++, 0];\r\n        },\r\n        minor: function (current) {\r\n            return [current[0], current[1] + 1];\r\n        }\r\n    };\r\n}\n\nfunction navigateWith(args) {\r\n    var responseHandler = args.responseHandler, utils = args.utils, keygen = args.keygen, current = args.current, push = args.push, replace = args.replace;\r\n    var pending;\r\n    function createNavigation(location, action, finish, cancel) {\r\n        var navigation = {\r\n            location: location,\r\n            action: action,\r\n            finish: function () {\r\n                if (pending !== navigation) {\r\n                    return;\r\n                }\r\n                finish();\r\n                pending = undefined;\r\n            },\r\n            cancel: function (nextAction) {\r\n                if (pending !== navigation) {\r\n                    return;\r\n                }\r\n                cancel(nextAction);\r\n                navigation.cancelled = true;\r\n                pending = undefined;\r\n            },\r\n            cancelled: false\r\n        };\r\n        return navigation;\r\n    }\r\n    function emitNavigation(nav) {\r\n        pending = nav;\r\n        responseHandler(nav);\r\n    }\r\n    function cancelPending(action) {\r\n        if (pending) {\r\n            pending.cancel(action);\r\n            pending = undefined;\r\n        }\r\n    }\r\n    function prepare(to, navType) {\r\n        var currentLocation = current();\r\n        var location = utils.location(to, currentLocation);\r\n        switch (navType) {\r\n            case \"anchor\":\r\n                return utils.stringify(location) === utils.stringify(currentLocation)\r\n                    ? replaceNav(location)\r\n                    : pushNav(location);\r\n            case \"push\":\r\n                return pushNav(location);\r\n            case \"replace\":\r\n                return replaceNav(location);\r\n            default:\r\n                throw new Error(\"Invalid navigation type: \" + navType);\r\n        }\r\n    }\r\n    function replaceNav(location) {\r\n        var keyed = utils.keyed(location, keygen.minor(current().key));\r\n        return createNavigation(keyed, \"replace\", replace.finish(keyed), replace.cancel);\r\n    }\r\n    function pushNav(location) {\r\n        var keyed = utils.keyed(location, keygen.major(current().key));\r\n        return createNavigation(keyed, \"push\", push.finish(keyed), push.cancel);\r\n    }\r\n    return {\r\n        prepare: prepare,\r\n        emitNavigation: emitNavigation,\r\n        createNavigation: createNavigation,\r\n        cancelPending: cancelPending\r\n    };\r\n}\n\nfunction noop() { }\r\nfunction confirmation() {\r\n    var confirmFn;\r\n    return {\r\n        confirmNavigation: function (info, allow, prevent) {\r\n            if (!confirmFn) {\r\n                allow();\r\n            }\r\n            else {\r\n                confirmFn(info, allow, prevent || noop);\r\n            }\r\n        },\r\n        confirm: function (fn) {\r\n            confirmFn = fn ? fn : null;\r\n        }\r\n    };\r\n}\n\nfunction hasBase(path, prefix) {\r\n    return new RegExp(\"^\" + prefix + \"(\\\\/|\\\\?|#|$)\", \"i\").test(path);\r\n}\r\nfunction createBase(base, options) {\r\n    if (typeof base !== \"string\" ||\r\n        base.charAt(0) !== \"/\" ||\r\n        base.charAt(base.length - 1) === \"/\") {\r\n        throw new Error('The base segment \"' +\r\n            base +\r\n            '\" is not valid.' +\r\n            ' The \"base\" option must begin with a forward slash and end with a' +\r\n            \" non-forward slash character.\");\r\n    }\r\n    var _a = options || {}, _b = _a.emptyRoot, emptyRoot = _b === void 0 ? false : _b, _c = _a.strict, strict = _c === void 0 ? false : _c;\r\n    return {\r\n        add: function (path) {\r\n            if (emptyRoot) {\r\n                if (path === \"/\") {\r\n                    return base;\r\n                }\r\n                else if (path.startsWith(\"/?\") || path.startsWith(\"/#\")) {\r\n                    return \"\" + base + path.substr(1);\r\n                }\r\n            }\r\n            else if (path.charAt(0) === \"?\" || path.charAt(0) === \"#\") {\r\n                return path;\r\n            }\r\n            return \"\" + base + path;\r\n        },\r\n        remove: function (pathname) {\r\n            if (pathname === \"\") {\r\n                return \"\";\r\n            }\r\n            var exists = hasBase(pathname, base);\r\n            if (!exists) {\r\n                if (strict) {\r\n                    throw new Error(\"Expected a string that begins with \\\"\" + base + \"\\\", but received \\\"\" + pathname + \"\\\".\");\r\n                }\r\n                else {\r\n                    return pathname;\r\n                }\r\n            }\r\n            if (pathname === base) {\r\n                if (strict && !emptyRoot) {\r\n                    throw new Error(\"Received string \\\"\" + base + \"\\\", which is the same as the base, but \\\"emptyRoot\\\" is not true.\");\r\n                }\r\n                return \"/\";\r\n            }\r\n            return pathname.substr(base.length);\r\n        }\r\n    };\r\n}\n\n// deprecated name\r\nvar navigationConfirmation = confirmation;\n\nexport { locationUtils, createKeyGenerator as keyGenerator, confirmation, navigationConfirmation, navigateWith, createBase };\n","function domExists() {\r\n    return !!(window && window.location);\r\n}\r\n/*\r\n * Ignore popstate events that don't define event.state\r\n * unless they come from Chrome on iOS (because it emits\r\n * events where event.state is undefined when you click\r\n * the back button)\r\n */\r\nfunction ignorablePopstateEvent(event) {\r\n    return (event.state === undefined && navigator.userAgent.indexOf(\"CriOS\") === -1);\r\n}\r\n/*\r\n * IE 11 might throw, so just catch and return empty object when that happens\r\n */\r\nfunction getStateFromHistory() {\r\n    try {\r\n        return window.history.state || {};\r\n    }\r\n    catch (e) {\r\n        return {};\r\n    }\r\n}\n\nexport { domExists, ignorablePopstateEvent, getStateFromHistory };\n","import { locationUtils, keyGenerator, confirmation, navigateWith } from '@hickory/root';\nexport { createBase } from '@hickory/root';\nimport { domExists, getStateFromHistory, ignorablePopstateEvent } from '@hickory/dom-utils';\n\nfunction noop() { }\r\nfunction browser(fn, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (!domExists()) {\r\n        throw new Error(\"Cannot use @hickory/browser without a DOM\");\r\n    }\r\n    var utils = locationUtils(options);\r\n    var keygen = keyGenerator();\r\n    var _a = confirmation(), confirm = _a.confirm, confirmNavigation = _a.confirmNavigation;\r\n    function fromBrowser(providedState) {\r\n        var _a = window.location, pathname = _a.pathname, search = _a.search, hash = _a.hash;\r\n        var url = pathname + search + hash;\r\n        var _b = providedState || getStateFromHistory(), key = _b.key, state = _b.state;\r\n        if (!key) {\r\n            key = keygen.major();\r\n            window.history.replaceState({ key: key, state: state }, \"\", url);\r\n        }\r\n        var location = utils.location({ url: url, state: state });\r\n        return utils.keyed(location, key);\r\n    }\r\n    function url(location) {\r\n        return utils.stringify(location);\r\n    }\r\n    // set action before location because fromBrowser enforces\r\n    // that the location has a key\r\n    var lastAction = getStateFromHistory().key !== undefined ? \"pop\" : \"push\";\r\n    var _b = navigateWith({\r\n        responseHandler: fn,\r\n        utils: utils,\r\n        keygen: keygen,\r\n        current: function () { return browserHistory.location; },\r\n        push: {\r\n            finish: function (location) {\r\n                return function () {\r\n                    var path = url(location);\r\n                    var key = location.key, state = location.state;\r\n                    try {\r\n                        window.history.pushState({ key: key, state: state }, \"\", path);\r\n                    }\r\n                    catch (e) {\r\n                        window.location.assign(path);\r\n                    }\r\n                    browserHistory.location = location;\r\n                    lastAction = \"push\";\r\n                };\r\n            },\r\n            cancel: noop\r\n        },\r\n        replace: {\r\n            finish: function (location) {\r\n                return function () {\r\n                    var path = url(location);\r\n                    var key = location.key, state = location.state;\r\n                    try {\r\n                        window.history.replaceState({ key: key, state: state }, \"\", path);\r\n                    }\r\n                    catch (e) {\r\n                        window.location.replace(path);\r\n                    }\r\n                    browserHistory.location = location;\r\n                    lastAction = \"replace\";\r\n                };\r\n            },\r\n            cancel: noop\r\n        }\r\n    }), emitNavigation = _b.emitNavigation, cancelPending = _b.cancelPending, createNavigation = _b.createNavigation, prepare = _b.prepare;\r\n    // when true, pop will ignore the navigation\r\n    var reverting = false;\r\n    function popstate(event) {\r\n        if (reverting) {\r\n            reverting = false;\r\n            return;\r\n        }\r\n        if (ignorablePopstateEvent(event)) {\r\n            return;\r\n        }\r\n        cancelPending(\"pop\");\r\n        var location = fromBrowser(event.state);\r\n        var diff = browserHistory.location.key[0] - location.key[0];\r\n        var revert = function () {\r\n            reverting = true;\r\n            window.history.go(diff);\r\n        };\r\n        confirmNavigation({\r\n            to: location,\r\n            from: browserHistory.location,\r\n            action: \"pop\"\r\n        }, function () {\r\n            emitNavigation(createNavigation(location, \"pop\", function () {\r\n                browserHistory.location = location;\r\n                lastAction = \"pop\";\r\n            }, function (nextAction) {\r\n                if (nextAction !== \"pop\") {\r\n                    revert();\r\n                }\r\n            }));\r\n        }, revert);\r\n    }\r\n    window.addEventListener(\"popstate\", popstate, false);\r\n    var browserHistory = {\r\n        location: fromBrowser(),\r\n        current: function () {\r\n            emitNavigation(createNavigation(browserHistory.location, lastAction, noop, noop));\r\n        },\r\n        url: url,\r\n        navigate: function (to, navType) {\r\n            if (navType === void 0) { navType = \"anchor\"; }\r\n            var navigation = prepare(to, navType);\r\n            cancelPending(navigation.action);\r\n            confirmNavigation({\r\n                to: navigation.location,\r\n                from: browserHistory.location,\r\n                action: navigation.action\r\n            }, function () {\r\n                emitNavigation(navigation);\r\n            });\r\n        },\r\n        go: function (num) {\r\n            window.history.go(num);\r\n        },\r\n        confirm: confirm,\r\n        cancel: function () {\r\n            cancelPending();\r\n        },\r\n        destroy: function () {\r\n            window.removeEventListener(\"popstate\", popstate);\r\n            emitNavigation = noop;\r\n        }\r\n    };\r\n    return browserHistory;\r\n}\n\nexport { browser };\n","export default {\n  repoURL: process.env.REPO_URL,\n  baseUrl: process.env.BASE_URL,\n};\n","/**\n * Interpolates the values into the string.\n * @param text\n * @param values\n * @param config\n */\nexport function interpolate(text, values, config) {\n    return Object.entries(extract(values || {})).reduce((text, [key, value]) => text.replace(new RegExp(`{{[  ]*${key}[  ]*}}`, `gm`), String(extract(value))), text);\n}\n/**\n * Returns a string based on a chain of keys using the dot notation.\n * @param key\n * @param config\n */\nexport function lookup(key, config) {\n    // Split the key in parts (example: hello.world)\n    const parts = key.split(\".\");\n    // Find the string by traversing through the strings matching the chain of keys\n    let string = config.strings;\n    // Shift through all of the parts of the key while matching with the strings.\n    // Do not continue if the string is not defined or if we have traversed all of the key parts\n    while (string != null && parts.length > 0) {\n        string = string[parts.shift()];\n    }\n    // Make sure the string is in fact a string!\n    return string != null ? string.toString() : null;\n}\n/**\n * Extracts either the value from the function or returns the value that was passed in.\n * @param obj\n */\nexport function extract(obj) {\n    return (typeof obj === \"function\") ? obj() : obj;\n}\n//# sourceMappingURL=helpers.js.map","import { LANG_CHANGED_EVENT } from \"./config\";\nimport { extract, interpolate, lookup } from \"./helpers\";\n/**\n * Default configuration object.\n */\nexport const defaultTranslateConfig = () => {\n    return {\n        loader: () => Promise.resolve({}),\n        empty: key => `[${key}]`,\n        lookup: lookup,\n        interpolate: interpolate,\n        translationCache: {}\n    };\n};\n// The current configuration.\nexport let translateConfig = defaultTranslateConfig();\n/**\n * Registers a translation config.\n * @param config\n */\nexport function registerTranslateConfig(config) {\n    return (translateConfig = Object.assign(Object.assign({}, translateConfig), config));\n}\n/**\n * Dispatches a language changed event.\n * @param detail\n */\nexport function dispatchLangChanged(detail) {\n    window.dispatchEvent(new CustomEvent(LANG_CHANGED_EVENT, { detail }));\n}\n/**\n * Updates the configuration object with a new language and strings.\n * Then dispatches that the language has changed.\n * @param newLang\n * @param newStrings\n * @param config\n */\nexport function updateLang(newLang, newStrings, config = translateConfig) {\n    dispatchLangChanged({\n        previousStrings: config.strings,\n        previousLang: config.lang,\n        lang: (config.lang = newLang),\n        strings: (config.strings = newStrings)\n    });\n}\n/**\n * Listens for changes in the language.\n * Returns a method for unsubscribing from the event.\n * @param callback\n * @param options\n */\nexport function listenForLangChanged(callback, options) {\n    const handler = (e) => callback(e.detail);\n    window.addEventListener(LANG_CHANGED_EVENT, handler, options);\n    return () => window.removeEventListener(LANG_CHANGED_EVENT, handler);\n}\n/**\n * Sets a new current language and dispatches a global language changed event.\n * @param lang\n * @param config\n */\nexport async function use(lang, config = translateConfig) {\n    // Load the translations and set the cache\n    const strings = await config.loader(lang, config);\n    config.translationCache = {};\n    // Dispatch global language changed event while setting the new values\n    updateLang(lang, strings, config);\n}\n/**\n * Translates a key and interpolates if values are defined.\n * Uses the current strings and translation cache to fetch the translation.\n * @param key (eg. \"common.get_started\")\n * @param values (eg. { count: 42 })\n * @param config\n */\nexport function get(key, values, config = translateConfig) {\n    // Either use the translation from the cache or get it and add it to the cache\n    let translation = config.translationCache[key]\n        || (config.translationCache[key] = config.lookup(key, config) || config.empty(key, config));\n    // Extract the values\n    values = values != null ? extract(values) : null;\n    // Interpolate the values and return the translation\n    return values != null ? config.interpolate(translation, values, config) : translation;\n}\n//# sourceMappingURL=util.js.map","export const CLEANUP_PARTS_MS = 1000 * 60;\nexport const LANG_CHANGED_EVENT = \"langChanged\";\n//# sourceMappingURL=config.js.map","import { NodePart, AttributePart } from \"lit-html\";\n/** #################################################################################\n ** The purpose of this module is to provide an API to clean up the node parts cache.\n ** This is to avoid memory leaks from parts being added and removed to the template.\n ** This is necessary since lit-html currently do not provide a way of cleaning up after a directive.\n ** In the ideal world we would be able to cache the parts in a weakmap, however that makes\n ** us unable to loop over the map which is required for updating the translations when the lang changes.\n ** This module will be obsolete the day lit-html provides a way of cleaning up after a directive\n ** ##################################################################################\n\n/**\n * Check whether the part is still connected / has been removed from the DOM.\n * @param part\n */\nexport function isConnected(part) {\n    if (part instanceof NodePart) {\n        return part.startNode.isConnected;\n    }\n    else if (part instanceof AttributePart) {\n        return part.committer.element.isConnected;\n    }\n    else {\n        return part.element.isConnected;\n    }\n}\n/**\n * Removes the disconnected parts from the cache.\n */\nexport function removeDisconnectedParts(map) {\n    for (const [part] of map) {\n        if (!isConnected(part)) {\n            map.delete(part);\n        }\n    }\n}\n/**\n * Invokes a callback when the browser is idle.\n * Fallback to setTimeout.\n * @param cb\n */\nexport function whenIdle(cb) {\n    \"requestIdleCallback\" in window ? window.requestIdleCallback(cb) : setTimeout(cb);\n}\n/**\n * Starts an interval that cleans up the part cache map each X ms.\n * @param map\n * @param ms\n */\nexport function attachPartsGarbageCollector(map, ms) {\n    setInterval(() => whenIdle(() => removeDisconnectedParts(map)), ms);\n}\n//# sourceMappingURL=cleanup.js.map","import { directive } from \"lit-html\";\nimport { attachPartsGarbageCollector, isConnected } from \"./cleanup\";\nimport { CLEANUP_PARTS_MS } from \"./config\";\nimport { listenForLangChanged } from \"./util\";\n// Caches the parts and the translations.\n// In the ideal world this would be a weakmap, but it is not possible to loop over weakmaps.\n// This is the best solution until lit-html provides an API to clean up after directives.\nexport const partCache = new Map();\n/**\n * Listens for changes in the language and updates all of the cached parts if necessary\n */\nfunction attachTranslateListener() {\n    listenForLangChanged((e) => {\n        for (const [part, cb] of partCache) {\n            if (isConnected(part)) {\n                updatePart(part, cb, e);\n            }\n        }\n    });\n}\nattachTranslateListener();\nattachPartsGarbageCollector(partCache, CLEANUP_PARTS_MS);\n/**\n * Handles the translation.\n * @param part\n * @param cb\n * @param e\n */\nfunction updatePart(part, cb, e) {\n    // Grab the new value\n    const newValue = cb(e);\n    // Only set the value if it has changed\n    if (part.value === newValue) {\n        return;\n    }\n    // Set the new value\n    part.setValue(newValue);\n    part.commit();\n}\n/**\n * A lit directive that invokes the callback when the language changes.\n * @param key\n * @param values\n * @param listen\n */\nexport const langChanged = directive((cb) => (part) => {\n    partCache.set(part, cb);\n    updatePart(part, cb);\n});\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isPrimitive } from '../lib/parts.js';\nimport { directive, NodePart } from '../lit-html.js';\n// For each part, remember the value that was last rendered to the part by the\n// unsafeHTML directive, and the DocumentFragment that was last set as a value.\n// The DocumentFragment is used as a unique key to check if the last value\n// rendered to the part was with unsafeHTML. If not, we'll always re-render the\n// value passed to unsafeHTML.\nconst previousValues = new WeakMap();\n/**\n * Renders the result as HTML, rather than text.\n *\n * Note, this is unsafe to use with any user-provided input that hasn't been\n * sanitized or escaped, as it may lead to cross-site-scripting\n * vulnerabilities.\n */\nexport const unsafeHTML = directive((value) => (part) => {\n    if (!(part instanceof NodePart)) {\n        throw new Error('unsafeHTML can only be used in text bindings');\n    }\n    const previousValue = previousValues.get(part);\n    if (previousValue !== undefined && isPrimitive(value) &&\n        value === previousValue.value && part.value === previousValue.fragment) {\n        return;\n    }\n    const template = document.createElement('template');\n    template.innerHTML = value; // innerHTML casts to string internally\n    const fragment = document.importNode(template.content, true);\n    part.setValue(fragment);\n    previousValues.set(part, { value, fragment });\n});\n//# sourceMappingURL=unsafe-html.js.map","const json = (...args) => JSON.stringify(args);\n\nexport function memoize(fn, generateKey = json) {\n  const cache = new Map();\n  const memoized = function (...args) {\n    const key = generateKey(...args);\n\n    if (!cache.has(key)) {\n      cache.set(key, fn.apply(this, args));\n    }\n\n    return cache.get(key);\n  };\n  memoized.cache = cache;\n\n  return memoized;\n}\n\nexport function debounce(fn, timeout) {\n  let timerId;\n  return function (...args) {\n    clearTimeout(timerId);\n    timerId = setTimeout(() => fn.apply(this, args), timeout);\n  };\n}\n","import config from '../config/app';\n\nconst identity = x => x;\nconst FORMATS = {\n  json: JSON,\n  raw: {\n    parse: identity,\n    stringify: identity,\n  },\n  txtArrayJSON: {\n    parse(value) {\n      const values = value.trim().replace(/[\\r\\n]+/g, ',');\n      return JSON.parse(`[${values}]`);\n    },\n    stringify() {\n      throw new Error('\"txtArrayJSON\" format is not serializable');\n    },\n  },\n};\n\nfunction http(url, options = {}) {\n  const format = FORMATS[options.format || 'json'];\n\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.open(options.method || 'GET', url);\n\n    if (options.headers) {\n      Object.keys(options.headers).forEach((name) => {\n        xhr.setRequestHeader(name, options.headers[name]);\n      });\n    }\n\n    xhr.onload = () => resolve({\n      status: xhr.status,\n      headers: {\n        'content-type': xhr.getResponseHeader('Content-Type'),\n      },\n      body: format.parse(xhr.responseText),\n    });\n    xhr.ontimeout = xhr.onerror = reject; // eslint-disable-line no-multi-assign\n    xhr.send(options.data ? format.stringify(options.data) : null);\n  });\n}\n\nconst inflightRequests = Object.create(null);\nexport function fetch(rawUrl, options = {}) {\n  const url = options.absoluteUrl ? rawUrl : config.baseUrl + rawUrl;\n  const method = options.method || 'GET';\n\n  if (method !== 'GET') {\n    return http(url, options);\n  }\n\n  inflightRequests[url] = inflightRequests[url] || http(url, options);\n\n  if (options.cache === true) {\n    return inflightRequests[url];\n  }\n\n  return inflightRequests[url]\n    .then((response) => {\n      delete inflightRequests[url];\n      return response;\n    })\n    .catch((error) => {\n      delete inflightRequests[url];\n      return Promise.reject(error);\n    });\n}\n","export var pages = {\"en\": {\"default\": import.meta.ROLLUP_FILE_URL_6025a122}};\n","import { registerTranslateConfig, use, get, listenForLangChanged } from 'lit-translate';\nimport { memoize } from './utils';\nimport { fetch } from './http';\nimport { pages as langUrls } from '../content/app.i18n';\n\nfunction lookup(path, config) {\n  const keys = path.split('.');\n  let pointer = config.strings;\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n\n    if (!pointer || !pointer[key]) {\n      return undefined;\n    }\n\n    pointer = pointer[key];\n  }\n\n  return pointer;\n}\n\nfunction missingKey(path) {\n  console.warn(`missing i18n key: ${path}`); // eslint-disable-line no-console\n  return path;\n}\n\nconst VAR_REGEXP = /%\\{(\\w+)\\}/g;\n\nexport function interpolate(string, vars) {\n  return string.replace(VAR_REGEXP, (_, varName) => vars[varName]);\n}\n\nconst i18n = registerTranslateConfig({\n  async loader(lang) {\n    const response = await fetch(langUrls[lang].default);\n    return response.body;\n  },\n  lookup,\n  interpolate,\n  empty: missingKey,\n});\n\nconst dateTime = memoize((locale, format) => new Intl.DateTimeFormat(locale, get(`dateTimeFormats.${format}`)));\n\nexport const LOCALES = process.env.SUPPORTED_LANGS;\n\nexport const defaultLocale = LOCALES[0];\n\nexport const locale = () => i18n.lang;\n\nexport const t = get;\n\nexport const translationExists = key => !!lookup(key, i18n);\n\nexport function setLocale(lang) {\n  if (!LOCALES.includes(lang)) {\n    throw new Error(`Locale ${lang} is not supported. Supported: ${LOCALES.join(', ')}`);\n  }\n\n  return use(lang);\n}\n\nexport function d(date, format = 'default') {\n  const actualDate = typeof date === 'string' ? new Date(date) : date;\n  return dateTime(i18n.lang, format).format(actualDate);\n}\n\nexport {\n  listenForLangChanged\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n* @private\n*/\nclass TreeIterator {\n  constructor(set, type) {\n    const node = set._tree;\n    const keys = Object.keys(node);\n    this.set = set;\n    this.type = type;\n    this.path = keys.length > 0 ? [{\n      node,\n      keys\n    }] : [];\n  }\n\n  next() {\n    const value = this.dive();\n    this.backtrack();\n    return value;\n  }\n\n  dive() {\n    if (this.path.length === 0) {\n      return {\n        done: true\n      };\n    }\n\n    const {\n      node,\n      keys\n    } = last(this.path);\n\n    if (last(keys) === LEAF) {\n      return {\n        done: false,\n        value: this.result()\n      };\n    }\n\n    this.path.push({\n      node: node[last(keys)],\n      keys: Object.keys(node[last(keys)])\n    });\n    return this.dive();\n  }\n\n  backtrack() {\n    if (this.path.length === 0) {\n      return;\n    }\n\n    last(this.path).keys.pop();\n\n    if (last(this.path).keys.length > 0) {\n      return;\n    }\n\n    this.path.pop();\n    this.backtrack();\n  }\n\n  key() {\n    return this.set._prefix + this.path.map(({\n      keys\n    }) => last(keys)).filter(key => key !== LEAF).join('');\n  }\n\n  value() {\n    return last(this.path).node[LEAF];\n  }\n\n  result() {\n    if (this.type === VALUES) {\n      return this.value();\n    }\n\n    if (this.type === KEYS) {\n      return this.key();\n    }\n\n    return [this.key(), this.value()];\n  }\n\n  [Symbol.iterator]() {\n    return this;\n  }\n\n}\n/** @ignore */\n\n\nconst ENTRIES = 'ENTRIES';\n/** @ignore */\n\nconst KEYS = 'KEYS';\n/** @ignore */\n\nconst VALUES = 'VALUES';\n/** @ignore */\n\nconst LEAF = '';\n\nconst last = function (array) {\n  return array[array.length - 1];\n};\n\n/**\n* @ignore\n*/\n\nconst fuzzySearch = function (node, query, maxDistance) {\n  const stack = [{\n    distance: 0,\n    i: 0,\n    key: '',\n    node\n  }];\n  const results = {};\n  const innerStack = [];\n\n  while (stack.length > 0) {\n    const {\n      node,\n      distance,\n      key,\n      i,\n      edit\n    } = stack.pop();\n    Object.keys(node).forEach(k => {\n      if (k === LEAF) {\n        const totDistance = distance + (query.length - i);\n        const [, d] = results[key] || [null, Infinity];\n\n        if (totDistance <= maxDistance && totDistance < d) {\n          results[key] = [node[k], totDistance];\n        }\n      } else {\n        withinDistance(query, k, maxDistance - distance, i, edit, innerStack).forEach(({\n          distance: d,\n          i,\n          edit\n        }) => {\n          stack.push({\n            node: node[k],\n            distance: distance + d,\n            key: key + k,\n            i,\n            edit\n          });\n        });\n      }\n    });\n  }\n\n  return results;\n};\n/**\n* @ignore\n*/\n\nconst withinDistance = function (a, b, maxDistance, i, edit, stack) {\n  stack.push({\n    distance: 0,\n    ia: i,\n    ib: 0,\n    edit\n  });\n  const results = [];\n\n  while (stack.length > 0) {\n    const {\n      distance,\n      ia,\n      ib,\n      edit\n    } = stack.pop();\n\n    if (ib === b.length) {\n      results.push({\n        distance,\n        i: ia,\n        edit\n      });\n      continue;\n    }\n\n    if (a[ia] === b[ib]) {\n      stack.push({\n        distance,\n        ia: ia + 1,\n        ib: ib + 1,\n        edit: NONE\n      });\n    } else {\n      if (distance >= maxDistance) {\n        continue;\n      }\n\n      if (edit !== ADD) {\n        stack.push({\n          distance: distance + 1,\n          ia,\n          ib: ib + 1,\n          edit: DELETE\n        });\n      }\n\n      if (ia < a.length) {\n        if (edit !== DELETE) {\n          stack.push({\n            distance: distance + 1,\n            ia: ia + 1,\n            ib,\n            edit: ADD\n          });\n        }\n\n        if (edit !== DELETE && edit !== ADD) {\n          stack.push({\n            distance: distance + 1,\n            ia: ia + 1,\n            ib: ib + 1,\n            edit: CHANGE\n          });\n        }\n      }\n    }\n  }\n\n  return results;\n};\nconst NONE = 0;\nconst CHANGE = 1;\nconst ADD = 2;\nconst DELETE = 3;\n\n/**\n* A class implementing the same interface as a standard JavaScript `Map` with\n* string keys, but adding support for efficiently searching entries with prefix\n* or fuzzy search. This is the class internally used by `MiniSearch` as the\n* inverted index data structure. The implementation is a radix tree (compressed\n* prefix tree).\n*\n* @implements {Map}\n*/\n\nclass SearchableMap {\n  constructor(tree = {}, prefix = '') {\n    /** @private */\n    this._tree = tree;\n    /** @private */\n\n    this._prefix = prefix;\n  }\n  /**\n  * Creates and returns a mutable view of this `SearchableMap`, containing only\n  * entries that share the given prefix.\n  *\n  * @example\n  * let map = new SearchableMap()\n  * map.set(\"unicorn\", 1)\n  * map.set(\"universe\", 2)\n  * map.set(\"university\", 3)\n  * map.set(\"unique\", 4)\n  * map.set(\"hello\", 5)\n  *\n  * let uni = map.atPrefix(\"uni\")\n  * uni.get(\"unique\") // => 4\n  * uni.get(\"unicorn\") // => 1\n  * uni.get(\"hello\") // => undefined\n  *\n  * let univer = map.atPrefix(\"univer\")\n  * univer.get(\"unique\") // => undefined\n  * univer.get(\"universe\") // => 2\n  * univer.get(\"university\") // => 3\n  *\n  * @param {string} prefix - The prefix\n  * @return {SearchableMap} A `SearchableMap` representing a mutable view of the original Map at the given prefix\n  */\n\n\n  atPrefix(prefix) {\n    if (!prefix.startsWith(this._prefix)) {\n      throw new Error('Mismatched prefix');\n    }\n\n    const [node, path] = trackDown(this._tree, prefix.slice(this._prefix.length));\n\n    if (node === undefined) {\n      const [parentNode, key] = last$1(path);\n      const nodeKey = Object.keys(parentNode).find(k => k !== LEAF && k.startsWith(key));\n\n      if (nodeKey !== undefined) {\n        return new SearchableMap({\n          [nodeKey.slice(key.length)]: parentNode[nodeKey]\n        }, prefix);\n      }\n    }\n\n    return new SearchableMap(node || {}, prefix);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/clear\n  * @return {undefined}\n  */\n\n\n  clear() {\n    delete this._size;\n    this._tree = {};\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/delete\n  * @param {string} key\n  * @return {undefined}\n  */\n\n\n  delete(key) {\n    delete this._size;\n    return remove(this._tree, key);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/entries\n  * @return {Iterator}\n  */\n\n\n  entries() {\n    return new TreeIterator(this, ENTRIES);\n  }\n  /**\n   * @callback SearchableMap~forEachFn\n   * @param {string} key - Key\n   * @param {any} value - Value associated to key\n   * @return any\n   */\n\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach\n  * @param {SearchableMap~forEachFn} fn\n  * @return {undefined}\n  */\n\n\n  forEach(fn) {\n    for (const [key, value] of this) {\n      fn(key, value, this);\n    }\n  }\n  /**\n  * Returns a key-value object of all the entries that have a key within the\n  * given edit distance from the search key. The keys of the returned object are\n  * the matching keys, while the values are two-elements arrays where the first\n  * element is the value associated to the key, and the second is the edit\n  * distance of the key to the search key.\n  *\n  * @example\n  * let map = new SearchableMap()\n  * map.set('hello', 'world')\n  * map.set('hell', 'yeah')\n  * map.set('ciao', 'mondo')\n  *\n  * // Get all entries that match the key 'hallo' with a maximum edit distance of 2\n  * map.fuzzyGet('hallo', 2)\n  * // => { \"hello\": [\"world\", 1], \"hell\": [\"yeah\", 2] }\n  *\n  * // In the example, the \"hello\" key has value \"world\" and edit distance of 1\n  * // (change \"e\" to \"a\"), the key \"hell\" has value \"yeah\" and edit distance of 2\n  * // (change \"e\" to \"a\", delete \"o\")\n  *\n  * @param {string} key - The search key\n  * @param {number} maxEditDistance - The maximum edit distance\n  * @return {Object<string, Array>} A key-value object of the matching keys to their value and edit distance\n  */\n\n\n  fuzzyGet(key, maxEditDistance) {\n    return fuzzySearch(this._tree, key, maxEditDistance);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get\n  * @param {string} key\n  * @return {any}\n  */\n\n\n  get(key) {\n    const node = lookup(this._tree, key);\n    return node !== undefined ? node[LEAF] : undefined;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/has\n  * @param {string} key\n  * @return {boolean}\n  */\n\n\n  has(key) {\n    const node = lookup(this._tree, key);\n    return node !== undefined && node.hasOwnProperty(LEAF);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/keys\n  * @return {Iterator}\n  */\n\n\n  keys() {\n    return new TreeIterator(this, KEYS);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/set\n  * @param {string} key\n  * @param {any} value\n  * @return {SearchableMap} The `SearchableMap` itself, to allow chaining\n  */\n\n\n  set(key, value) {\n    if (typeof key !== 'string') {\n      throw new Error('key must be a string');\n    }\n\n    delete this._size;\n    const node = createPath(this._tree, key);\n    node[LEAF] = value;\n    return this;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/size\n  * @type {number}\n  */\n\n\n  get size() {\n    if (this._size) {\n      return this._size;\n    }\n    /** @ignore */\n\n\n    this._size = 0;\n    this.forEach(() => {\n      this._size += 1;\n    });\n    return this._size;\n  }\n  /**\n   * @callback SearchableMap~updateFn\n   * @param {any} currentValue - The current value\n   * @return any - the updated value\n   */\n\n  /**\n  * Updates the value at the given key using the provided function. The function\n  * is called with the current value at the key, and its return value is used as\n  * the new value to be set.\n  *\n  * @example\n  * // Increment the current value by one\n  * searchableMap.update('somekey', (currentValue) => currentValue == null ? 0 : currentValue + 1)\n  *\n  * @param {string} key - The key\n  * @param {SearchableMap~updateFn} fn - The function used to compute the new value from the current one\n  * @return {SearchableMap} The `SearchableMap` itself, to allow chaining\n  */\n\n\n  update(key, fn) {\n    if (typeof key !== 'string') {\n      throw new Error('key must be a string');\n    }\n\n    delete this._size;\n    const node = createPath(this._tree, key);\n    node[LEAF] = fn(node[LEAF]);\n    return this;\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/values\n  * @return {Iterator}\n  */\n\n\n  values() {\n    return new TreeIterator(this, VALUES);\n  }\n  /**\n  * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/@@iterator\n  * @return {Iterator}\n  */\n\n\n  [Symbol.iterator]() {\n    return this.entries();\n  }\n\n}\n/**\n* Creates a `SearchableMap` from an `Iterable` of entries\n*\n* @param {Iterable|Array} entries - Entries to be inserted in the `SearchableMap`\n* @return {SearchableMap} A new `SearchableMap` with the given entries\n**/\n\n\nSearchableMap.from = function (entries) {\n  const tree = new SearchableMap();\n\n  for (const [key, value] of entries) {\n    tree.set(key, value);\n  }\n\n  return tree;\n};\n/**\n* Creates a `SearchableMap` from the iterable properties of a JavaScript object\n*\n* @param {Object} object - Object of entries for the `SearchableMap`\n* @return {SearchableMap} A new `SearchableMap` with the given entries\n**/\n\n\nSearchableMap.fromObject = function (object) {\n  return SearchableMap.from(Object.entries(object));\n};\n\nconst trackDown = function (tree, key, path = []) {\n  if (key.length === 0) {\n    return [tree, path];\n  }\n\n  const nodeKey = Object.keys(tree).find(k => k !== LEAF && key.startsWith(k));\n\n  if (nodeKey === undefined) {\n    return trackDown(undefined, '', [...path, [tree, key]]);\n  }\n\n  return trackDown(tree[nodeKey], key.slice(nodeKey.length), [...path, [tree, nodeKey]]);\n};\n\nconst lookup = function (tree, key) {\n  if (key.length === 0) {\n    return tree;\n  }\n\n  const nodeKey = Object.keys(tree).find(k => k !== LEAF && key.startsWith(k));\n\n  if (nodeKey === undefined) {\n    return undefined;\n  }\n\n  return lookup(tree[nodeKey], key.slice(nodeKey.length));\n};\n\nconst createPath = function (tree, key) {\n  if (key.length === 0) {\n    return tree;\n  }\n\n  const nodeKey = Object.keys(tree).find(k => k !== LEAF && key.startsWith(k));\n\n  if (nodeKey === undefined) {\n    const toSplit = Object.keys(tree).find(k => k !== LEAF && k.startsWith(key[0]));\n\n    if (toSplit === undefined) {\n      tree[key] = {};\n    } else {\n      const prefix = commonPrefix(key, toSplit);\n      tree[prefix] = {\n        [toSplit.slice(prefix.length)]: tree[toSplit]\n      };\n      delete tree[toSplit];\n      return createPath(tree[prefix], key.slice(prefix.length));\n    }\n\n    return tree[key];\n  }\n\n  return createPath(tree[nodeKey], key.slice(nodeKey.length));\n};\n\nconst commonPrefix = function (a, b, i = 0, length = Math.min(a.length, b.length), prefix = '') {\n  if (i >= length) {\n    return prefix;\n  }\n\n  if (a[i] !== b[i]) {\n    return prefix;\n  }\n\n  return commonPrefix(a, b, i + 1, length, prefix + a[i]);\n};\n\nconst remove = function (tree, key) {\n  const [node, path] = trackDown(tree, key);\n\n  if (node === undefined) {\n    return;\n  }\n\n  delete node[LEAF];\n  const keys = Object.keys(node);\n\n  if (keys.length === 0) {\n    cleanup(path);\n  }\n\n  if (keys.length === 1) {\n    merge(path, keys[0], node[keys[0]]);\n  }\n};\n\nconst cleanup = function (path) {\n  if (path.length === 0) {\n    return;\n  }\n\n  const [node, key] = last$1(path);\n  delete node[key];\n\n  if (Object.keys(node).length === 0) {\n    cleanup(path.slice(0, -1));\n  }\n};\n\nconst merge = function (path, key, value) {\n  if (path.length === 0) {\n    return;\n  }\n\n  const [node, nodeKey] = last$1(path);\n  node[nodeKey + key] = value;\n  delete node[nodeKey];\n};\n\nconst last$1 = function (array) {\n  return array[array.length - 1];\n};\n\nconst OR = 'or';\nconst AND = 'and';\n/**\n* MiniSearch is the main entrypoint class, and represents a full-text search\n* engine.\n*\n* @example\n* const documents = [\n*   {\n*     id: 1,\n*     title: 'Moby Dick',\n*     text: 'Call me Ishmael. Some years ago...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 2,\n*     title: 'Zen and the Art of Motorcycle Maintenance',\n*     text: 'I can see by my watch...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 3,\n*     title: 'Neuromancer',\n*     text: 'The sky above the port was...',\n*     category: 'fiction'\n*   },\n*   {\n*     id: 4,\n*     title: 'Zen and the Art of Archery',\n*     text: 'At first sight it must seem...',\n*     category: 'non-fiction'\n*   },\n*   // ...and more\n* ]\n*\n* // Create a search engine that indexes the 'title' and 'text' fields for\n* // full-text search. Search results will include 'title' and 'category' (plus the\n* // id field, that is always stored and returned)\n* const miniSearch = MiniSearch.new({\n*   fields: ['title', 'text'],\n*   storeFields: ['title', 'category']\n* })\n*\n* // Add documents to the index\n* miniSearch.addAll(documents)\n*\n* // Search for documents:\n* let results = miniSearch.search('zen art motorcycle')\n* // => [\n*   { id: 2, title: 'Zen and the Art of Motorcycle Maintenance', category: 'fiction', score: 2.77258 },\n*   { id: 4, title: 'Zen and the Art of Archery', category: 'non-fiction', score: 1.38629 }\n* ]\n* */\n\nclass MiniSearch {\n  /**\n   * @callback MiniSearch~extractField\n   * @param {Object} document - A document object\n   * @param {string} fieldName - Name of the field to extract\n   * @return string - Value of the field\n   */\n\n  /**\n   * @callback MiniSearch~tokenize\n   * @param {string} text - Text to tokenize\n   * @param {?string} fieldName - Name of the field to tokenize\n   * @return string[] - Tokenized terms\n   */\n\n  /**\n   * @callback MiniSearch~processTerm\n   * @param {string} text - The text to tokenize\n   * @param {?string} fieldName - The name of the field to tokenize\n   * @return string|null|undefined|false - Processed term, or a falsy value to discard the term\n   */\n\n  /**\n  * @param {Object} options - Configuration options\n  * @param {Array<string>} options.fields - Fields to be indexed. Required.\n  * @param {string} [options.idField='id'] - ID field, uniquely identifying a document\n  * @param {Array<string>} [options.storeFields] - Fields to store, so that search results would include them. By default none, so resuts would only contain the id field.\n  * @param {MiniSearch~extractField} [options.extractField] - Function used to get the value of a field in a document\n  * @param {MiniSearch~tokenize} [options.tokenize] - Function used to split a field into individual terms\n  * @param {MiniSearch~processTerm} [options.processTerm] - Function used to process a term before indexing it or searching\n  * @param {Object} [options.searchOptions] - Default search options (see the `search` method for details)\n  *\n  * @example\n  * // Create a search engine that indexes the 'title' and 'text' fields of your\n  * // documents:\n  * const miniSearch = MiniSearch.new({ fields: ['title', 'text'] })\n  *\n  * @example\n  * // Your documents are assumed to include a unique 'id' field, but if you want\n  * // to use a different field for document identification, you can set the\n  * // 'idField' option:\n  * const miniSearch = MiniSearch.new({ idField: 'key', fields: ['title', 'text'] })\n  *\n  * @example\n  * // The full set of options (here with their default value) is:\n  * const miniSearch = MiniSearch.new({\n  *   // idField: field that uniquely identifies a document\n  *   idField: 'id',\n  *\n  *   // extractField: function used to get the value of a field in a document.\n  *   // By default, it assumes the document is a flat object with field names as\n  *   // property keys and field values as string property values, but custom logic\n  *   // can be implemented by setting this option to a custom extractor function.\n  *   extractField: (document, fieldName) => document[fieldName],\n  *\n  *   // tokenize: function used to split fields into individual terms. By\n  *   // default, it is also used to tokenize search queries, unless a specific\n  *   // `tokenize` search option is supplied. When tokenizing an indexed field,\n  *   // the field name is passed as the second argument.\n  *   tokenize: (string, _fieldName) => string.split(SPACE_OR_PUNCTUATION),\n  *\n  *   // processTerm: function used to process each tokenized term before\n  *   // indexing. It can be used for stemming and normalization. Return a falsy\n  *   // value in order to discard a term. By default, it is also used to process\n  *   // search queries, unless a specific `processTerm` option is supplied as a\n  *   // search option. When processing a term from a indexed field, the field\n  *   // name is passed as the second argument.\n  *   processTerm: (term, _fieldName) => term.toLowerCase(),\n  *\n  *   // searchOptions: default search options, see the `search` method for\n  *   // details\n  *   searchOptions: undefined,\n  *\n  *   // fields: document fields to be indexed. Mandatory, but not set by default\n  *   fields: undefined\n  *\n  *   // storeFields: document fields to be stored and returned as part of the\n  *   // search results.\n  *   storeFields: []\n  * })\n  */\n  constructor(options = {}) {\n    /** @private */\n    this._options = _objectSpread2({}, defaultOptions, {}, options);\n    this._options.searchOptions = _objectSpread2({}, defaultSearchOptions, {}, this._options.searchOptions || {});\n    const {\n      fields\n    } = this._options;\n\n    if (fields == null) {\n      throw new Error('MiniSearch: option \"fields\" must be provided');\n    }\n    /** @private */\n\n\n    this._index = new SearchableMap();\n    /** @private */\n\n    this._documentCount = 0;\n    /** @private */\n\n    this._documentIds = {};\n    /** @private */\n\n    this._fieldIds = {};\n    /** @private */\n\n    this._fieldLength = {};\n    /** @private */\n\n    this._averageFieldLength = {};\n    /** @private */\n\n    this._nextId = 0;\n    /** @private */\n\n    this._storedFields = {};\n    addFields(this, fields);\n  }\n  /**\n  * Adds a document to the index\n  *\n  * @param {Object} document - the document to be indexed\n  */\n\n\n  add(document) {\n    const {\n      extractField,\n      tokenize,\n      processTerm,\n      fields,\n      idField\n    } = this._options;\n\n    if (getOwnProperty(document, idField) == null) {\n      throw new Error(`MiniSearch: document does not have ID field \"${idField}\"`);\n    }\n\n    const shortDocumentId = addDocumentId(this, document[idField]);\n    saveStoredFields(this, shortDocumentId, document);\n    fields.forEach(field => {\n      const fieldValue = extractField(document, field);\n      const tokens = tokenize(fieldValue == null ? '' : fieldValue.toString(), field);\n      addFieldLength(this, shortDocumentId, this._fieldIds[field], this.documentCount - 1, tokens.length);\n      tokens.forEach(term => {\n        const processedTerm = processTerm(term, field);\n\n        if (isTruthy(processedTerm)) {\n          addTerm(this, this._fieldIds[field], shortDocumentId, processedTerm);\n        }\n      });\n    });\n  }\n  /**\n  * Adds all the given documents to the index\n  *\n  * @param {Object[]} documents - an array of documents to be indexed\n  */\n\n\n  addAll(documents) {\n    documents.forEach(document => this.add(document));\n  }\n  /**\n  * Adds all the given documents to the index asynchronously.\n  *\n  * Returns a promise that resolves to undefined when the indexing is done. This\n  * method is useful when index many documents, to avoid blocking the main\n  * thread. The indexing is performed asynchronously and in chunks.\n  *\n  * @param {Object[]} documents - an array of documents to be indexed\n  * @param {Object} [options] - Configuration options\n  * @param {number} [options.chunkSize] - Size of the document chunks indexed, 10 by default\n  * @return {Promise} A promise resolving to `null` when the indexing is done\n  */\n\n\n  addAllAsync(documents, options = {}) {\n    const {\n      chunkSize = 10\n    } = options;\n    const acc = {\n      chunk: [],\n      promise: Promise.resolve(null)\n    };\n    const {\n      chunk,\n      promise\n    } = documents.reduce(({\n      chunk,\n      promise\n    }, document, i) => {\n      chunk.push(document);\n\n      if ((i + 1) % chunkSize === 0) {\n        return {\n          chunk: [],\n          promise: promise.then(() => this.addAll(chunk))\n        };\n      } else {\n        return {\n          chunk,\n          promise\n        };\n      }\n    }, acc);\n    return promise.then(() => this.addAll(chunk));\n  }\n  /**\n  * Removes the given document from the index.\n  *\n  * The document to delete must NOT have changed between indexing and deletion,\n  * otherwise the index will be corrupted. Therefore, when reindexing a document\n  * after a change, the correct order of operations is:\n  *\n  *   1. remove old version\n  *   2. apply changes\n  *   3. index new version\n  *\n  * @param {Object} document - the document to be removed\n  */\n\n\n  remove(document) {\n    const {\n      tokenize,\n      processTerm,\n      extractField,\n      fields,\n      idField\n    } = this._options;\n\n    if (getOwnProperty(document, idField) == null) {\n      throw new Error(`MiniSearch: document does not have ID field \"${idField}\"`);\n    }\n\n    const [shortDocumentId] = Object.entries(this._documentIds).find(([_, longId]) => document[idField] === longId) || [];\n\n    if (shortDocumentId == null) {\n      throw new Error(`MiniSearch: cannot remove document with ID ${document[idField]}: it is not in the index`);\n    }\n\n    fields.filter(field => getOwnProperty(document, field) != null).forEach(field => {\n      const tokens = tokenize(extractField(document, field) || '', field);\n      tokens.forEach(term => {\n        const processedTerm = processTerm(term, field);\n\n        if (isTruthy(processedTerm)) {\n          removeTerm(this, this._fieldIds[field], shortDocumentId, processedTerm);\n        }\n      });\n    });\n    delete this._storedFields[shortDocumentId];\n    delete this._documentIds[shortDocumentId];\n    this._documentCount -= 1;\n  }\n  /**\n  * Removes all the given documents from the index. If called with no arguments,\n  * it removes _all_ documents from the index.\n  *\n  * @param {Array<Object>} [documents] - the documents to be removed\n  */\n\n\n  removeAll(documents) {\n    if (arguments.length === 0) {\n      this._index = new SearchableMap();\n      this._documentCount = 0;\n      this._documentIds = {};\n      this._fieldLength = {};\n      this._averageFieldLength = {};\n      this._storedFields = {};\n      this._nextId = 0;\n    } else {\n      documents.forEach(document => this.remove(document));\n    }\n  }\n  /**\n   * @callback MiniSearch~prefixFn\n   * @param {string} term - Search term\n   * @param {number} i - Index of the term in the query terms array\n   * @param {string[]} terms - Array of all query terms\n   * @return boolean - `true` to perform prefix search, `false` to not perform it\n   */\n\n  /**\n   * @callback MiniSearch~fuzzyFn\n   * @param {string} term - Search term\n   * @param {number} i - Index of the search term in the tokenized search query\n   * @param {string[]} terms - Array of all query terms\n   * @return number|false - Maximum edit distance, or `false` to not perform fuzzy search\n   */\n\n  /**\n   * @callback MiniSearch~filter\n   * @param {Object} result - A search result\n   * @return boolean - `true` to keep the result, `false` to filter it out\n   */\n\n  /**\n  * Search for documents matching the given search query.\n  *\n  * The result is a list of scored document IDs matching the query, sorted by\n  * descending score, and each including data about which terms were matched and\n  * in which fields.\n  *\n  * @param {string} queryString - Query string to search for\n  * @param {Object} [options] - Search options. Each option, if not given, defaults to the corresponding value of `searchOptions` given to the constructor, or to the library default.\n  * @param {Array<string>} [options.fields] - Fields to search in. If omitted, all fields are searched\n  * @param {Object<string, number>} [options.boost] - Key-value object of boosting values for fields\n  * @param {boolean|MiniSearch~prefixFn} [options.prefix=false] - Whether to perform prefix search. Value can be a boolean, or a function computing the boolean from each tokenized and processed query term. If a function is given, it is called with the following arguments: `term: string` - the query term; `i: number` - the term index in the query terms; `terms: Array<string>` - the array of query terms.\n  * @param {number|false|MiniSearch~fuzzyFn} [options.fuzzy=false] - If set to a number greater than or equal 1, it performs fuzzy search within a maximum edit distance equal to that value. If set to a number less than 1, it performs fuzzy search with a maximum edit distance equal to the term length times the value, rouded at the nearest integer. If set to a function, it calls the function for each tokenized and processed query term and expects a numeric value indicating the maximum edit distance, or a falsy falue if fuzzy search should not be performed. If a function is given, it is called with the following arguments: `term: string` - the query term; `i: number` - the term index in the query terms; `terms: Array<string>` - the array of query terms.\n  * @param {string} [options.combineWith='OR'] - How to combine term queries (it can be 'OR' or 'AND')\n  * @param {MiniSearch~tokenize} [options.tokenize] - Function used to tokenize the search query. It defaults to the same tokenizer used for indexing.\n  * @param {MiniSearch~processTerm} [options.processTerm] - Function used to process each search term. Return a falsy value to discard a term. Defaults to the same function used to process terms upon indexing.\n  * @param {MiniSearch~filter} [options.filter] - Function used to filter search results, for example on the basis of stored fields\n  * @return {Array<{ id: any, score: number, match: Object }>} A sorted array of scored document IDs matching the search\n  *\n  * @example\n  * // Search for \"zen art motorcycle\" with default options: terms have to match\n  * // exactly, and individual terms are joined with OR\n  * miniSearch.search('zen art motorcycle')\n  * // => [ { id: 2, score: 2.77258, match: { ... } }, { id: 4, score: 1.38629, match: { ... } } ]\n  *\n  * @example\n  * // Search only in the 'title' field\n  * miniSearch.search('zen', { fields: ['title'] })\n  *\n  * @example\n  * // Boost a field\n  * miniSearch.search('zen', { boost: { title: 2 } })\n  *\n  * @example\n  * // Search for \"moto\" with prefix search (it will match documents\n  * // containing terms that start with \"moto\" or \"neuro\")\n  * miniSearch.search('moto neuro', { prefix: true })\n  *\n  * @example\n  * // Search for \"ismael\" with fuzzy search (it will match documents containing\n  * // terms similar to \"ismael\", with a maximum edit distance of 0.2 term.length\n  * // (rounded to nearest integer)\n  * miniSearch.search('ismael', { fuzzy: 0.2 })\n  *\n  * @example\n  * // Mix of exact match, prefix search, and fuzzy search\n  * miniSearch.search('ismael mob', {\n  *  prefix: true,\n  *  fuzzy: 0.2\n  * })\n  *\n  * @example\n  * // Perform fuzzy and prefix search depending on the search term. Here\n  * // performing prefix and fuzzy search only on terms longer than 3 characters\n  * miniSearch.search('ismael mob', {\n  *  prefix: term => term.length > 3\n  *  fuzzy: term => term.length > 3 ? 0.2 : null\n  * })\n  *\n  * @example\n  * // Combine search terms with AND (to match only documents that contain both\n  * // \"motorcycle\" and \"art\")\n  * miniSearch.search('motorcycle art', { combineWith: 'AND' })\n  *\n  * @example\n  * // Filter only results in the 'fiction' category (assuming that 'category'\n  * // is a stored field)\n  * miniSearch.search('motorcycle art', {\n  *   filter: (result) => result.category === 'fiction'\n  * })\n  */\n\n\n  search(queryString, options = {}) {\n    const {\n      tokenize,\n      processTerm,\n      searchOptions\n    } = this._options;\n    options = _objectSpread2({\n      tokenize,\n      processTerm\n    }, searchOptions, {}, options);\n    const {\n      tokenize: searchTokenize,\n      processTerm: searchProcessTerm\n    } = options;\n    const queries = searchTokenize(queryString).map(term => searchProcessTerm(term)).filter(isTruthy).map(termToQuery(options));\n    const results = queries.map(query => this.executeQuery(query, options));\n    const combinedResults = this.combineResults(results, options.combineWith);\n    return Object.entries(combinedResults).reduce((results, [docId, {\n      score,\n      match,\n      terms\n    }]) => {\n      const result = {\n        id: this._documentIds[docId],\n        terms: uniq(terms),\n        score,\n        match\n      };\n      Object.assign(result, this._storedFields[docId]);\n\n      if (options.filter == null || options.filter(result)) {\n        results.push(result);\n      }\n\n      return results;\n    }, []).sort(({\n      score: a\n    }, {\n      score: b\n    }) => a < b ? 1 : -1);\n  }\n  /**\n  * Provide suggestions for the given search query\n  *\n  * The result is a list of suggested modified search queries, derived from the\n  * given search query, each with a relevance score, sorted by descending score.\n  *\n  * @param {string} queryString - Query string to be expanded into suggestions\n  * @param {Object} [options] - Search options. The supported options and default values are the same as for the `search` method, except that by default prefix search is performed on the last term in the query.\n  * @return {Array<{ suggestion: string, score: number }>} A sorted array of suggestions sorted by relevance score.\n  *\n  * @example\n  * // Get suggestions for 'neuro':\n  * miniSearch.autoSuggest('neuro')\n  * // => [ { suggestion: 'neuromancer', terms: [ 'neuromancer' ], score: 0.46240 } ]\n  *\n  * @example\n  * // Get suggestions for 'zen ar':\n  * miniSearch.autoSuggest('zen ar')\n  * // => [\n  * //  { suggestion: 'zen archery art', terms: [ 'zen', 'archery', 'art' ], score: 1.73332 },\n  * //  { suggestion: 'zen art', terms: [ 'zen', 'art' ], score: 1.21313 }\n  * // ]\n  *\n  * @example\n  * // Correct spelling mistakes using fuzzy search:\n  * miniSearch.autoSuggest('neromancer', { fuzzy: 0.2 })\n  * // => [ { suggestion: 'neuromancer', terms: [ 'neuromancer' ], score: 1.03998 } ]\n  *\n  * @example\n  * // Get suggestions for 'zen ar', but only within the 'fiction' category\n  * // (assuming that 'category' is a stored field):\n  * miniSearch.autoSuggest('zen ar', {\n  *   filter: (result) => result.category === 'fiction'\n  * })\n  * // => [\n  * //  { suggestion: 'zen archery art', terms: [ 'zen', 'archery', 'art' ], score: 1.73332 },\n  * //  { suggestion: 'zen art', terms: [ 'zen', 'art' ], score: 1.21313 }\n  * // ]\n  */\n\n\n  autoSuggest(queryString, options = {}) {\n    options = _objectSpread2({}, defaultAutoSuggestOptions, {}, options);\n    const suggestions = this.search(queryString, options).reduce((suggestions, {\n      score,\n      terms\n    }) => {\n      const phrase = terms.join(' ');\n\n      if (suggestions[phrase] == null) {\n        suggestions[phrase] = {\n          score,\n          terms,\n          count: 1\n        };\n      } else {\n        suggestions[phrase].score += score;\n        suggestions[phrase].count += 1;\n      }\n\n      return suggestions;\n    }, {});\n    return Object.entries(suggestions).map(([suggestion, {\n      score,\n      terms,\n      count\n    }]) => ({\n      suggestion,\n      terms,\n      score: score / count\n    })).sort(({\n      score: a\n    }, {\n      score: b\n    }) => a < b ? 1 : -1);\n  }\n  /**\n  * Number of documents in the index\n  *\n  * @type {number}\n  */\n\n\n  get documentCount() {\n    return this._documentCount;\n  }\n  /**\n  * Deserializes a JSON index (serialized with `miniSearch.toJSON()`) and\n  * instantiates a MiniSearch instance. It should be given the same options\n  * originally used when serializing the index.\n  *\n  * **Warning:** JSON (de)serialization of the index is currently tightly\n  * coupled to the index implementation. For this reason, the current\n  * implementation is to be considered a _beta_ feature, subject to breaking\n  * changes changes in future releases. If a breaking change is introduced,\n  * though, it will be properly reported in the changelog.\n  *\n  * @param {string} json - JSON-serialized index\n  * @param {Object} options - configuration options, same as the constructor\n  * @return {MiniSearch} an instance of MiniSearch\n  */\n\n\n  static loadJSON(json, options) {\n    if (options == null) {\n      throw new Error('MiniSearch: loadJSON should be given the same options used when serializing the index');\n    }\n\n    return MiniSearch.loadJS(JSON.parse(json), options);\n  }\n  /**\n  * Get the default value of an option. It will throw an error if no option with\n  * the given name exists.\n  *\n  * @param {string} optionName - name of the option\n  * @return {any} the default value of the given option\n  *\n  * @example\n  * // Get default tokenizer\n  * MiniSearch.getDefault('tokenize')\n  *\n  * @example\n  * // Get default term processor\n  * MiniSearch.getDefault('processTerm')\n  *\n  * @example\n  * // Unknown options will throw an error\n  * MiniSearch.getDefault('notExisting')\n  * // => throws 'MiniSearch: unknown option \"notExisting\"'\n  */\n\n\n  static getDefault(optionName) {\n    if (defaultOptions.hasOwnProperty(optionName)) {\n      return defaultOptions[optionName];\n    } else {\n      throw new Error(`MiniSearch: unknown option \"${optionName}\"`);\n    }\n  }\n  /**\n  * @private\n  */\n\n\n  static loadJS(js, options = {}) {\n    const {\n      index,\n      documentCount,\n      nextId,\n      documentIds,\n      fieldIds,\n      fieldLength,\n      averageFieldLength,\n      storedFields\n    } = js;\n    const miniSearch = new MiniSearch(options);\n    miniSearch._index = new SearchableMap(index._tree, index._prefix);\n    miniSearch._documentCount = documentCount;\n    miniSearch._nextId = nextId;\n    miniSearch._documentIds = documentIds;\n    miniSearch._fieldIds = fieldIds;\n    miniSearch._fieldLength = fieldLength;\n    miniSearch._averageFieldLength = averageFieldLength;\n    miniSearch._fieldIds = fieldIds;\n    miniSearch._storedFields = storedFields || {};\n    return miniSearch;\n  }\n  /**\n  * @private\n  * @ignore\n  */\n\n\n  executeQuery(query, options = {}) {\n    options = _objectSpread2({}, this._options.searchOptions, {}, options);\n\n    const boosts = (options.fields || this._options.fields).reduce((boosts, field) => _objectSpread2({}, boosts, {\n      [field]: getOwnProperty(boosts, field) || 1\n    }), options.boost || {});\n\n    const {\n      boostDocument,\n      weights: {\n        fuzzy: fuzzyWeight = 0.9,\n        prefix: prefixWeight = 0.75\n      }\n    } = options;\n    const exactMatch = termResults(this, query.term, boosts, boostDocument, this._index.get(query.term));\n\n    if (!query.fuzzy && !query.prefix) {\n      return exactMatch;\n    }\n\n    const results = [exactMatch];\n\n    if (query.prefix) {\n      this._index.atPrefix(query.term).forEach((term, data) => {\n        const weightedDistance = 0.3 * (term.length - query.term.length) / term.length;\n        results.push(termResults(this, term, boosts, boostDocument, data, prefixWeight, weightedDistance));\n      });\n    }\n\n    if (query.fuzzy) {\n      const maxDistance = query.fuzzy < 1 ? Math.round(query.term.length * query.fuzzy) : query.fuzzy;\n      Object.entries(this._index.fuzzyGet(query.term, maxDistance)).forEach(([term, [data, distance]]) => {\n        const weightedDistance = distance / term.length;\n        results.push(termResults(this, term, boosts, boostDocument, data, fuzzyWeight, weightedDistance));\n      });\n    }\n\n    return results.reduce(combinators[OR], {});\n  }\n  /**\n  * @private\n  * @ignore\n  */\n\n\n  combineResults(results, combineWith = OR) {\n    if (results.length === 0) {\n      return {};\n    }\n\n    const operator = combineWith.toLowerCase();\n    return results.reduce(combinators[operator], null);\n  }\n  /**\n  * Allows serialization of the index to JSON, to possibly store it and later\n  * deserialize it with MiniSearch.loadJSON\n  *\n  * **Warning:** JSON (de)serialization of the index is currently tightly\n  * coupled to the index implementation. For this reason, the current\n  * implementation is to be considered a _beta_ feature, subject to breaking\n  * changes changes in future releases. If a breaking change is introduced,\n  * though, it will be reported in the changelog.\n  *\n  * @return {Object} the serializeable representation of the search index\n  */\n\n\n  toJSON() {\n    return {\n      index: this._index,\n      documentCount: this._documentCount,\n      nextId: this._nextId,\n      documentIds: this._documentIds,\n      fieldIds: this._fieldIds,\n      fieldLength: this._fieldLength,\n      averageFieldLength: this._averageFieldLength,\n      storedFields: this._storedFields\n    };\n  }\n\n}\n\nMiniSearch.SearchableMap = SearchableMap;\n\nconst addTerm = function (self, fieldId, documentId, term) {\n  self._index.update(term, indexData => {\n    indexData = indexData || {};\n    const fieldIndex = indexData[fieldId] || {\n      df: 0,\n      ds: {}\n    };\n\n    if (fieldIndex.ds[documentId] == null) {\n      fieldIndex.df += 1;\n    }\n\n    fieldIndex.ds[documentId] = (fieldIndex.ds[documentId] || 0) + 1;\n    return _objectSpread2({}, indexData, {\n      [fieldId]: fieldIndex\n    });\n  });\n};\n\nconst removeTerm = function (self, fieldId, documentId, term) {\n  if (!self._index.has(term)) {\n    warnDocumentChanged(self, documentId, fieldId, term);\n    return;\n  }\n\n  self._index.update(term, indexData => {\n    const fieldIndex = indexData[fieldId];\n\n    if (fieldIndex == null || fieldIndex.ds[documentId] == null) {\n      warnDocumentChanged(self, documentId, fieldId, term);\n      return indexData;\n    }\n\n    if (fieldIndex.ds[documentId] <= 1) {\n      if (fieldIndex.df <= 1) {\n        delete indexData[fieldId];\n        return indexData;\n      }\n\n      fieldIndex.df -= 1;\n    }\n\n    if (fieldIndex.ds[documentId] <= 1) {\n      delete fieldIndex.ds[documentId];\n      return indexData;\n    }\n\n    fieldIndex.ds[documentId] -= 1;\n    return _objectSpread2({}, indexData, {\n      [fieldId]: fieldIndex\n    });\n  });\n\n  if (Object.keys(self._index.get(term)).length === 0) {\n    self._index.delete(term);\n  }\n};\n\nconst warnDocumentChanged = function (self, shortDocumentId, fieldId, term) {\n  if (console == null || console.warn == null) {\n    return;\n  }\n\n  const fieldName = Object.entries(self._fieldIds).find(([name, id]) => id === fieldId)[0];\n  console.warn(`MiniSearch: document with ID ${self._documentIds[shortDocumentId]} has changed before removal: term \"${term}\" was not present in field \"${fieldName}\". Removing a document after it has changed can corrupt the index!`);\n};\n\nconst addDocumentId = function (self, documentId) {\n  const shortDocumentId = self._nextId.toString(36);\n\n  self._documentIds[shortDocumentId] = documentId;\n  self._documentCount += 1;\n  self._nextId += 1;\n  return shortDocumentId;\n};\n\nconst addFields = function (self, fields) {\n  fields.forEach((field, i) => {\n    self._fieldIds[field] = i;\n  });\n};\n\nconst termResults = function (self, term, boosts, boostDocument, indexData, weight = 1, editDistance = 0) {\n  if (indexData == null) {\n    return {};\n  }\n\n  return Object.entries(boosts).reduce((results, [field, boost]) => {\n    const fieldId = self._fieldIds[field];\n    const {\n      df,\n      ds\n    } = indexData[fieldId] || {\n      ds: {}\n    };\n    Object.entries(ds).forEach(([documentId, tf]) => {\n      const docBoost = boostDocument ? boostDocument(self._documentIds[documentId], term) : 1;\n\n      if (!docBoost) {\n        return;\n      }\n\n      const normalizedLength = self._fieldLength[documentId][fieldId] / self._averageFieldLength[fieldId];\n      results[documentId] = results[documentId] || {\n        score: 0,\n        match: {},\n        terms: []\n      };\n      results[documentId].terms.push(term);\n      results[documentId].match[term] = getOwnProperty(results[documentId].match, term) || [];\n      results[documentId].score += docBoost * score(tf, df, self._documentCount, normalizedLength, boost, editDistance);\n      results[documentId].match[term].push(field);\n    });\n    return results;\n  }, {});\n};\n\nconst getOwnProperty = function (object, property) {\n  return Object.prototype.hasOwnProperty.call(object, property) ? object[property] : undefined;\n};\n\nconst addFieldLength = function (self, documentId, fieldId, count, length) {\n  self._averageFieldLength[fieldId] = self._averageFieldLength[fieldId] || 0;\n  const totalLength = self._averageFieldLength[fieldId] * count + length;\n  self._fieldLength[documentId] = self._fieldLength[documentId] || {};\n  self._fieldLength[documentId][fieldId] = length;\n  self._averageFieldLength[fieldId] = totalLength / (count + 1);\n};\n\nconst saveStoredFields = function (self, documentId, doc) {\n  const {\n    storeFields,\n    extractField\n  } = self._options;\n\n  if (storeFields == null || storeFields.length === 0) {\n    return;\n  }\n\n  self._storedFields[documentId] = self._storedFields[documentId] || {};\n  storeFields.forEach(fieldName => {\n    const fieldValue = extractField(doc, fieldName);\n\n    if (fieldValue === undefined) {\n      return;\n    }\n\n    self._storedFields[documentId][fieldName] = fieldValue;\n  });\n};\n\nconst combinators = {\n  [OR]: function (a, b) {\n    return Object.entries(b).reduce((combined, [documentId, {\n      score,\n      match,\n      terms\n    }]) => {\n      if (combined[documentId] == null) {\n        combined[documentId] = {\n          score,\n          match,\n          terms\n        };\n      } else {\n        combined[documentId].score += score;\n        combined[documentId].score *= 1.5;\n        combined[documentId].terms = [...combined[documentId].terms, ...terms];\n        Object.assign(combined[documentId].match, match);\n      }\n\n      return combined;\n    }, a || {});\n  },\n  [AND]: function (a, b) {\n    if (a == null) {\n      return b;\n    }\n\n    return Object.entries(b).reduce((combined, [documentId, {\n      score,\n      match,\n      terms\n    }]) => {\n      if (a[documentId] === undefined) {\n        return combined;\n      }\n\n      combined[documentId] = combined[documentId] || {};\n      combined[documentId].score = a[documentId].score + score;\n      combined[documentId].match = _objectSpread2({}, a[documentId].match, {}, match);\n      combined[documentId].terms = [...a[documentId].terms, ...terms];\n      return combined;\n    }, {});\n  }\n};\n\nconst tfIdf = function (tf, df, n) {\n  return tf * Math.log(n / df);\n};\n\nconst score = function (termFrequency, documentFrequency, documentCount, normalizedLength, boost, editDistance) {\n  const weight = boost / (1 + 0.333 * boost * editDistance);\n  return weight * tfIdf(termFrequency, documentFrequency, documentCount) / normalizedLength;\n};\n\nconst termToQuery = options => (term, i, terms) => {\n  const fuzzy = typeof options.fuzzy === 'function' ? options.fuzzy(term, i, terms) : options.fuzzy;\n  const prefix = typeof options.prefix === 'function' ? options.prefix(term, i, terms) : options.prefix;\n  return {\n    term,\n    fuzzy,\n    prefix\n  };\n};\n\nconst uniq = function (array) {\n  return array.filter((element, i, array) => array.indexOf(element) === i);\n};\n\nconst isTruthy = x => !!x;\n\nconst defaultOptions = {\n  idField: 'id',\n  extractField: (document, fieldName) => document[fieldName],\n  tokenize: (string, _fieldName) => string.split(SPACE_OR_PUNCTUATION),\n  processTerm: (term, _fieldName) => term.toLowerCase(),\n  fields: undefined,\n  searchOptions: undefined,\n  storeFields: []\n};\nconst defaultSearchOptions = {\n  combineWith: OR,\n  prefix: false,\n  fuzzy: false,\n  weights: {}\n};\nconst defaultAutoSuggestOptions = {\n  prefix: (term, i, terms) => i === terms.length - 1\n}; // This regular expression matches any Unicode space or punctuation character\n// Adapted from https://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5Cp%7BZ%7D%5Cp%7BP%7D&abb=on&c=on&esc=on\n\nconst SPACE_OR_PUNCTUATION = /[\\n\\r -#%-*,-/:;?@[-\\]_{}\\u00A0\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u1680\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2000-\\u200A\\u2010-\\u2029\\u202F-\\u2043\\u2045-\\u2051\\u2053-\\u205F\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u3000-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]+/u;\n\nexport default MiniSearch;\n//# sourceMappingURL=index.js.map\n","function extractField(object, fieldName) {\n  switch (fieldName) {\n    case 'summary':\n      return object.meta ? object.meta.description : null;\n    case 'headings':\n      return object[fieldName].map(h => h.title).join(' ');\n    default:\n      return object[fieldName];\n  }\n}\n\nexport default {\n  extractField,\n  fields: ['title', 'headings', 'summary'],\n  searchOptions: {\n    boost: {\n      title: 2,\n    },\n  },\n};\n","export var pages = {\"en\": {\"notfound\": import.meta.ROLLUP_FILE_URL_7be7167e,\n\"support-casljs\": import.meta.ROLLUP_FILE_URL_0f9a297a,\n\"advanced/ability-inheritance\": import.meta.ROLLUP_FILE_URL_3e491da2,\n\"advanced/ability-to-database-query\": import.meta.ROLLUP_FILE_URL_f2663564,\n\"advanced/customize-ability\": import.meta.ROLLUP_FILE_URL_160d29c0,\n\"advanced/debugging-testing\": import.meta.ROLLUP_FILE_URL_b9e352cb,\n\"advanced/typescript\": import.meta.ROLLUP_FILE_URL_be97c2b3,\n\"api/casl-ability\": import.meta.ROLLUP_FILE_URL_c36fd6ee,\n\"api/casl-ability-extra\": import.meta.ROLLUP_FILE_URL_7b139d95,\n\"cookbook/cache-rules\": import.meta.ROLLUP_FILE_URL_97b3a404,\n\"cookbook/claim-authorization\": import.meta.ROLLUP_FILE_URL_c656f488,\n\"cookbook/intro\": import.meta.ROLLUP_FILE_URL_e968b8af,\n\"cookbook/less-confusing-can-api\": import.meta.ROLLUP_FILE_URL_98dac54e,\n\"cookbook/roles-with-persisted-permissions\": import.meta.ROLLUP_FILE_URL_85142711,\n\"cookbook/roles-with-static-permissions\": import.meta.ROLLUP_FILE_URL_d08bebac,\n\"guide/conditions-in-depth\": import.meta.ROLLUP_FILE_URL_6c1ba520,\n\"guide/define-aliases\": import.meta.ROLLUP_FILE_URL_75e0bd28,\n\"guide/define-rules\": import.meta.ROLLUP_FILE_URL_db617b84,\n\"guide/install\": import.meta.ROLLUP_FILE_URL_140ec40f,\n\"guide/intro\": import.meta.ROLLUP_FILE_URL_52ac2365,\n\"guide/restricting-fields\": import.meta.ROLLUP_FILE_URL_6d2629d3,\n\"guide/subject-type-detection\": import.meta.ROLLUP_FILE_URL_935ddd08,\n\"package/casl-angular\": import.meta.ROLLUP_FILE_URL_9515ba35,\n\"package/casl-aurelia\": import.meta.ROLLUP_FILE_URL_a1fd3245,\n\"package/casl-mongoose\": import.meta.ROLLUP_FILE_URL_e0fe4b47,\n\"package/casl-react\": import.meta.ROLLUP_FILE_URL_15556fb7,\n\"package/casl-vue\": import.meta.ROLLUP_FILE_URL_4e393c8e}};\nexport var summaries = {\"en\": import.meta.ROLLUP_FILE_URL_56ecc27b};;\nexport var searchIndexes = {\"en\": import.meta.ROLLUP_FILE_URL_1cf7d0fb};","import ContentType from './ContentType';\nimport * as pagesDetails from '../content/pages.pages';\n\nconst contentTypes = {\n  page: new ContentType(pagesDetails),\n};\n\nexport default (type) => {\n  const contentLoader = contentTypes[type];\n\n  if (!contentLoader) {\n    throw new TypeError(`Unknown content loader \"${type}\".`);\n  }\n\n  return contentLoader;\n};\n","import MiniSearch from 'minisearch';\nimport { fetch } from './http';\nimport { notFoundError } from './error';\nimport { memoize } from './utils';\nimport searchOptions from '../config/search';\n\nfunction markHints(result) {\n  const hints = {};\n\n  result.terms.forEach((term) => {\n    const regexp = new RegExp(`(${term})`, 'gi');\n\n    result.match[term].forEach((field) => {\n      const value = result.doc[field];\n\n      if (typeof value === 'string') {\n        hints[field] = value.replace(regexp, '<mark>$1</mark>');\n      } else if (field === 'headings') {\n        const markedValue = value.reduce((items, h) => {\n          if (h.title.toLowerCase().includes(term)) {\n            items.push({\n              id: h.id,\n              title: h.title.replace(regexp, '<mark>$1</mark>'),\n            });\n          }\n          return items;\n        }, []);\n        hints[field] = markedValue.length ? markedValue : null;\n      }\n    });\n  });\n\n  return hints;\n}\n\nexport default class Content {\n  constructor({ pages, summaries, searchIndexes }) {\n    this._pages = pages;\n    this._summaries = summaries;\n    this._searchIndexes = searchIndexes;\n    this._loadSearchIndex = memoize(this._loadSearchIndex);\n    this._getSummary = memoize(this._getSummary);\n    this._getItems = memoize(this._getItems);\n    this.byCategories = memoize(this.byCategories);\n    this.load = memoize(this.load);\n  }\n\n  async load(locale, name) {\n    const url = this._pages[locale][name];\n\n    if (!url) {\n      throw notFoundError(`Page with ${name} is not found`);\n    }\n\n    const response = await fetch(url);\n    return response.body;\n  }\n\n  async _getSummary(locale) {\n    const response = await fetch(this._summaries[locale]);\n    return response.body;\n  }\n\n  async _getItems(locale, categories = null) {\n    const groups = await this.byCategories(locale, categories);\n    return Object.keys(groups)\n      .reduce((all, category) => all.concat(groups[category]), []);\n  }\n\n  async getNearestFor(locale, pageId, categories = null) {\n    const items = await this._getItems(locale, categories);\n    const index = items.findIndex(item => item.id === pageId);\n\n    if (index === -1) {\n      return [];\n    }\n\n    const prevIndex = index - 1;\n    const nextIndex = index + 1;\n\n    return [\n      prevIndex < 0 ? undefined : items[prevIndex],\n      nextIndex >= items.length ? undefined : items[nextIndex]\n    ];\n  }\n\n  async byCategories(locale, categories = null) {\n    const { items } = await this._getSummary(locale);\n    const groups = {};\n\n    items.forEach((item) => {\n      item.categories.forEach((category) => {\n        groups[category] = groups[category] || [];\n        groups[category].push(item);\n      });\n    });\n\n    if (!Array.isArray(categories)) {\n      return groups;\n    }\n\n    return categories.reduce((filtered, category) => {\n      filtered[category] = groups[category];\n      return filtered;\n    }, {});\n  }\n\n  async at(locale, index) {\n    const { items } = await this._getSummary(locale);\n    return items[index];\n  }\n\n  async _loadSearchIndex(locale) {\n    const indexUrl = this._searchIndexes[locale];\n    const response = await fetch(indexUrl);\n    return MiniSearch.loadJS(response.body, searchOptions);\n  }\n\n  async search(locale, query, options) {\n    const [searchIndex, summary] = await Promise.all([\n      this._loadSearchIndex(locale),\n      this._getSummary(locale)\n    ]);\n    return searchIndex.search(query, options)\n      .slice(0, 15)\n      .map((result) => {\n        const [index] = summary.byId[result.id];\n        result.doc = summary.items[index];\n        result.hints = markHints(result);\n        return result;\n      });\n  }\n}\n","export function notFoundError(message) {\n  return Object.assign(new Error(message), {\n    code: 'NOT_FOUND'\n  });\n}\n","import { html } from 'lit-element';\nimport content from './content';\n\nfunction respondWithError(error) {\n  if (error.code === 'NOT_FOUND') {\n    return {\n      body: html`<app-page name=\"notfound\"></app-page>`\n    };\n  }\n\n  throw error;\n}\n\nasync function loadFirstPage(loader, params) {\n  if (!params.categories) {\n    return loader.at(params.lang, 0);\n  }\n\n  const byCategories = await loader.byCategories(params.lang, params.categories);\n  const firstCategory = params.categories.find(category => byCategories[category].length);\n\n  return byCategories[firstCategory][0];\n}\n\nconst identity = x => x;\nexport const loadPages = (transformParams = identity) => async (match) => {\n  const vars = transformParams(match);\n  const loader = content('page');\n\n  if (!vars.id) {\n    const firstPage = await loadFirstPage(loader, vars);\n    vars.redirectTo = firstPage.id;\n  } else if (vars.id.endsWith('/')) {\n    vars.redirectTo = vars.id.slice(0, -1);\n  } else {\n    [vars.page, vars.byCategories, vars.nav] = await Promise.all([\n      loader.load(vars.lang, vars.id),\n      vars.categories.length ? loader.byCategories(vars.lang, vars.categories) : null,\n      loader.getNearestFor(vars.lang, vars.id, vars.categories)\n    ]);\n  }\n\n  return vars;\n};\n\nexport const respondWithPage = render => ({ match, error, resolved }) => {\n  if (error) {\n    return respondWithError(error);\n  } if (resolved.redirectTo) {\n    return {\n      redirect: {\n        name: 'page',\n        params: {\n          id: resolved.redirectTo,\n          lang: match.params.lang,\n        }\n      }\n    };\n  }\n\n  return { body: render(resolved, match.params) };\n};\n\nexport const renderPage = respondWithPage(vars => ({\n  main: html`\n    <app-page name=\"${vars.id}\" .nav=\"${vars.nav}\"></app-page>\n  `,\n  sidebar: vars.byCategories\n    ? html`<pages-by-categories .items=\"${vars.byCategories}\"></pages-by-categories>`\n    : null\n}));\n","export function parse(querystring) {\n  return querystring\n    ? JSON.parse(`{\"${querystring.replace(/&/g, '\",\"').replace(/=/g, '\":\"')}\"}`)\n    : {};\n}\n\nexport function stringify(querystring) {\n  if (!querystring) {\n    return '';\n  }\n\n  return Object.keys(querystring)\n    .reduce((qs, key) => {\n      qs.push(`${key}=${querystring[key]}`);\n      return qs;\n    }, [])\n    .join('&');\n}\n","import { prepareRoutes, createRouter } from '@curi/router';\nimport { browser, createBase } from '@hickory/browser';\nimport { html } from 'lit-element';\nimport routesConfig from '../config/routes.yml';\nimport config from '../config/app';\nimport { locale, LOCALES, defaultLocale } from './i18n';\nimport { loadPages, renderPage } from './pageController';\nimport * as queryString from './querystring';\n\nfunction buildPath(rawRoute) {\n  if (!rawRoute.restrictions) {\n    return rawRoute.path;\n  }\n\n  return rawRoute.path.replace(/:([\\w_-]+)(\\?)?/g, (_, name, questionMark = '') => {\n    const restriction = rawRoute.restrictions[name];\n    return restriction ? `:${name}(${restriction})${questionMark}` : name + questionMark;\n  });\n}\n\nfunction buildRoutes(rawRoutes, controllers) {\n  return rawRoutes.map((rawRoute) => {\n    const buildController = controllers[rawRoute.controller];\n\n    if (!buildController) {\n      throw new Error(`Did you forget to specify controller for route \"${rawRoute.name}\"?`);\n    }\n\n    const route = {\n      name: rawRoute.name,\n      path: buildPath(rawRoute),\n      ...buildController(rawRoute),\n    };\n\n    if (rawRoute.meta && rawRoute.meta.encode === false) {\n      route.pathOptions = {\n        compile: { encode: x => x }\n      };\n    }\n\n    if (rawRoute.children) {\n      route.children = buildRoutes(rawRoute.children, controllers);\n    }\n\n    return route;\n  });\n}\n\nfunction interpolate(template, object) {\n  let hasMissing = false;\n  const result = template.replace(/:([\\w_-]+)\\??/g, (_, name) => {\n    if (!object[name] || object[name] === 'undefined') {\n      hasMissing = true;\n    }\n    return object[name];\n  });\n\n  return hasMissing ? null : result;\n}\n\nconst routes = buildRoutes(routesConfig.routes, {\n  Home: () => ({\n    respond: () => ({\n      body: {\n        main: html`<home-page></home-page>`\n      }\n    })\n  }),\n  Page(route) {\n    const categories = route.meta ? route.meta.categories : [];\n\n    return {\n      resolve: loadPages(({ params }) => ({\n        ...params,\n        categories,\n        id: interpolate(route.path, params),\n      })),\n      respond: renderPage,\n    };\n  }\n}).concat({\n  name: 'notFound',\n  path: '(.*)',\n  respond({ match }) {\n    const { pathname } = match.location;\n    const index = pathname.indexOf('/', 1);\n    const lang = index === -1 ? pathname.slice(1) : pathname.slice(1, index);\n    const { search: query, hash } = window.location;\n\n    if (!LOCALES.includes(lang)) {\n      return {\n        redirect: { url: `/${defaultLocale}${pathname}${query}${hash}` }\n      };\n    }\n\n    return {\n      body: html`<app-page name=\"notfound\"></app-page>`\n    };\n  }\n});\nconst router = createRouter(browser, prepareRoutes(routes), {\n  history: {\n    base: config.baseUrl ? createBase(config.baseUrl) : undefined,\n    query: queryString\n  }\n});\n\nconst originalUrl = router.url;\nrouter.url = (options) => {\n  const params = { lang: locale(), ...options.params };\n  return originalUrl({ ...options, params });\n};\n\nif ('scrollRestoration' in window.history) {\n  window.history.scrollRestoration = 'manual';\n}\n\nexport default router;\n","var pathname = function (route, params) {\r\n    return route.methods.pathname(params);\r\n};\r\nvar find = function (name, children) {\r\n    return children.some(function (node) {\r\n        if (node.name === name) {\r\n            return true;\r\n        }\r\n        else if (node.children) {\r\n            return find(name, node.children);\r\n        }\r\n        return false;\r\n    });\r\n};\r\nvar active = function (route, response, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (response.name !== route.name &&\r\n        (!options.partial || !find(response.name, route.children))) {\r\n        return false;\r\n    }\r\n    var keys = route.keys;\r\n    if (keys.length) {\r\n        if (!options.params) {\r\n            return false;\r\n        }\r\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n            var key = keys_1[_i];\r\n            var param = options.params[key];\r\n            if (!param || param !== response.params[key]) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    if (options.components) {\r\n        return options.components(response.location);\r\n    }\r\n    return true;\r\n};\r\nvar ancestors = function (route) {\r\n    var ancestors = [];\r\n    var parent = route.parent;\r\n    while (parent !== undefined) {\r\n        ancestors.unshift(parent);\r\n        parent = parent.parent;\r\n    }\r\n    return ancestors;\r\n};\r\nvar prefetch = function (route, options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (!route.methods.resolve) {\r\n        return Promise.resolve({\r\n            resolved: null,\r\n            error: \"Could not prefetch data for \" + route.name + \" because it does not have a resolve function.\"\r\n        });\r\n    }\r\n    return route.methods\r\n        .resolve(options.match, options.external)\r\n        .then(function (resolved) { return ({ resolved: resolved, error: null }); }, function (error) { return ({ error: error, resolved: null }); });\r\n};\n\nexport { active, ancestors, pathname, prefetch };\n","const viewport = window.visualViewport || window;\n\nexport default function watchMedia(query, onUpdate) {\n  const ql = window.matchMedia(query);\n  const notify = () => onUpdate(ql.matches);\n\n  viewport.addEventListener('resize', notify);\n  notify();\n\n  return () => viewport.removeEventListener('resize', notify);\n}\n","import { directive } from 'lit-html';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { langChanged, get, translate } from 'lit-translate';\nimport { d as formatDate } from '../services/i18n';\n\nexport const d = directive((date, format) => (part) => {\n  const value = formatDate(date, format);\n\n  if (part.value !== value) {\n    part.setValue(value);\n  }\n});\n\nexport const t = translate;\n\nexport const ut = directive((key, values) => langChanged(() => unsafeHTML(get(key, values))));\n","import { langChanged } from \"../directive\";\nimport { get } from \"../util\";\n/**\n * A lit directive that updates the translation when the language changes.\n * @param key\n * @param values\n * @param config\n */\nexport const translate = (key, values, config) => langChanged(() => get(key, values, config));\n//# sourceMappingURL=translate.js.map","import { LitElement, html, css } from 'lit-element';\nimport { cache } from 'lit-html/directives/cache';\nimport menu from '../config/menu.yml';\nimport router from '../services/router';\nimport watchMedia from '../hooks/watchMedia';\nimport { t } from '../directives/i18n';\n\nfunction createNotificationsRoot() {\n  const root = document.createElement('div');\n\n  Object.assign(root.style, {\n    position: 'fixed',\n    right: '10px',\n    bottom: '10px',\n    zIndex: 50,\n    width: '320px'\n  });\n  document.body.appendChild(root);\n  return root;\n}\n\nexport default class App extends LitElement {\n  static cName = 'casl-docs';\n  static properties = {\n    ready: { type: Boolean },\n    _isMobile: { type: Boolean },\n    _route: { type: Object },\n  };\n\n  constructor() {\n    super();\n    this._route = null;\n    this._notificationsRoot = null;\n    this._menu = null;\n    this._isMobile = false;\n    this.ready = false;\n    this._unwatch = [];\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._unwatch.push(router.observe((route) => {\n      this._route = route.response;\n      this._closeMenu();\n    }, { initial: true }));\n    this._unwatch.push(watchMedia('(min-width: 768px)', v => this._isMobile = !v));\n    document.addEventListener('keypress', (event) => {\n      // ctrl + shift + v\n      if (event.ctrlKey && event.shiftKey && event.keyCode === 22) {\n        console.log(process.env.COMMIT_HASH || 'unknown');\n      }\n    }, false);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._unwatch.forEach(unwatch => unwatch());\n  }\n\n  updated() {\n    this._menu = this._menu || this.shadowRoot.querySelector('menu-drawer');\n  }\n\n  _toggleMenu() {\n    if (this._menu) {\n      this._menu.toggle();\n    }\n  }\n\n  _closeMenu() {\n    if (this._menu) {\n      this._menu.close();\n    }\n  }\n\n  notify(message, options = {}) {\n    const notification = document.createElement('app-notification');\n\n    notification.message = message;\n\n    if (typeof options.onClick === 'function') {\n      notification.addEventListener('click', options.onClick, false);\n    }\n\n    this._notificationsRoot = this._notificationsRoot || createNotificationsRoot();\n    this._notificationsRoot.appendChild(notification);\n  }\n\n  _renderDrawerMenu(sidebar) {\n    if (!this._isMobile) {\n      return null;\n    }\n\n    return html`\n      ${sidebar}\n      <h3>${t('menu.root')}</h3>\n      <app-menu .items=\"${menu.items}\" expanded></app-menu>\n    `;\n  }\n\n  _getLayout(sidebar) {\n    if (this._route.name === 'home') {\n      return '';\n    }\n\n    if (this._isMobile) {\n      return 'col-1';\n    }\n\n    return sidebar ? 'col-2' : 'col-1';\n  }\n\n  render() {\n    if (!this._route || !this.ready) {\n      return null;\n    }\n\n    const { body } = this._route;\n    const sidebar = body.sidebar ? cache(body.sidebar) : '';\n\n    return html`\n      <menu-drawer ?disabled=\"${!this._isMobile}\">\n        <div slot=\"menu\">${this._renderDrawerMenu(sidebar)}</div>\n        <app-root\n          theme=\"${this._isMobile ? 'mobile' : 'default'}\"\n          layout=\"${this._getLayout(!!sidebar)}\"\n          .menu=\"${menu}\"\n          @toggle-menu=\"${this._toggleMenu}\"\n        >\n          <div slot=\"aside\">${sidebar}</div>\n          ${cache(body.main || body)}\n        </app-root>\n      </menu-drawer>\n    `;\n  }\n}\n\nApp.styles = [\n  css`\n    :host {\n      display: block;\n    }\n  `\n];\n","import { css } from 'lit-element';\n\nexport default css`\n  .row {\n    display: flex;\n  }\n\n  .row.wrap {\n    flex-wrap: wrap;\n  }\n\n  .row.align-center {\n    align-items: center;\n  }\n\n  .row.align-start {\n    align-items: start;\n  }\n\n  .col {\n    flex-grow: 1;\n    flex-basis: 0;\n    max-width: 100%;\n  }\n\n  .col-fixed {\n    flex-grow: 0;\n    flex-basis: auto;\n  }\n\n  @media (min-width: 768px) {\n    .container {\n      margin: auto;\n      max-width: 1200px;\n    }\n  }\n`;\n","import { LitElement, css, html } from 'lit-element';\nimport gridCss from '../styles/grid';\n\nexport default class AppRoot extends LitElement {\n  static cName = 'app-root';\n  static properties = {\n    theme: { type: String },\n    layout: { type: String },\n    menu: { type: Object },\n  };\n\n  constructor() {\n    super();\n    this.theme = 'default';\n    this.menu = null;\n    this.layout = '';\n  }\n\n  render() {\n    return html`\n      <app-header theme=\"${this.theme}\" .menu=\"${this.menu}\"></app-header>\n      <section class=\"content ${this.layout === 'col-2' ? 'row' : this.layout}\">\n        <aside>\n          <div class=\"aside\">\n            <slot name=\"aside\"></slot>\n          </div>\n        </aside>\n        <main><slot></slot></main>\n      </section>\n      <app-footer></app-footer>\n    `;\n  }\n}\n\nAppRoot.styles = [\n  gridCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    app-header {\n      position: relative;\n      position: sticky;\n      top: 0;\n      z-index: 10;\n      background: rgba(255, 255, 255, 0.9);\n      box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 2px 0px;\n    }\n\n    .row > main,\n    .col-1 > main {\n      min-width: 0;\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n\n    .aside,\n    main {\n      padding-bottom: 30px;\n    }\n\n    aside {\n      display: none;\n    }\n\n    @media (min-width: 768px) {\n      .aside {\n        position: sticky;\n        top: 54px;\n        height: calc(100vh - 132px);\n        overflow-y: auto;\n        padding-top: 2rem;\n      }\n\n      .row > aside {\n        display: block;\n        flex-basis: 260px;\n        max-width: 260px;\n        min-width: 200px;\n        padding-left: 20px;\n        box-shadow: rgba(0, 0, 0, 0.1) 1px -1px 2px 0px;\n      }\n\n      .row > main {\n        flex-basis: 80%;\n        margin: 0 auto;\n        max-width: 800px;\n      }\n    }\n  `\n];\n","import { css } from 'lit-element';\n\nexport default css`\n  .md pre {\n    overflow: auto;\n  }\n\n  .md a,\n  .md app-link {\n    color: #81a2be;\n    text-decoration: underline;\n    border-bottom: 0;\n  }\n\n  .md a:hover,\n  .md app-link:hover {\n    text-decoration: none;\n    border-bottom: 0;\n  }\n\n  .md code:not([class]) {\n    color: rgb(222, 147, 95);;\n    background: #f8f8f8;\n    padding: 2px 5px;\n    margin: 0 2px;\n    border-radius: 2px;\n    white-space: nowrap;\n    font-family: \"Roboto Mono\", Monaco, courier, monospace;\n  }\n\n  .md blockquote,\n  .alert {\n    padding: 0.8rem 1rem;\n    margin: 0;\n    border-left: 4px solid #81a2be;\n    background-color: #f8f8f8;\n    position: relative;\n    border-bottom-right-radius: 2px;\n    border-top-right-radius: 2px;\n  }\n\n  .md blockquote:before,\n  .alert:before {\n    position: absolute;\n    top: 0.8rem;\n    left: -12px;\n    color: #fff;\n    background: #81a2be;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    text-align: center;\n    line-height: 20px;\n    font-weight: bold;\n    font-size: 14px;\n    content: 'i';\n  }\n\n  .md blockquote > p:first-child,\n  .alert > p:first-child {\n    margin-top: 0;\n  }\n\n  .md blockquote > p:last-child,\n  .alert > p:last-child {\n    margin-bottom: 0;\n  }\n\n  .md blockquote + blockquote,\n  .alert + .alert {\n    margin-top: 20px;\n  }\n\n  .md table {\n    border-collapse: collapse;\n    width: 100%;\n  }\n\n  .md .responsive {\n    width: 100%;\n    overflow-x: auto;\n  }\n\n  .md th,\n  .md td {\n    border: 1px solid #c6cbd1;\n    padding: 6px 13px;\n  }\n\n  .md tr {\n    border-top: 1px solid #c6cbd1;\n  }\n\n  .md .editor {\n    width: 100%;\n    height: 500px;\n    border: 0;\n    border-radius: 4px;\n    overflow: hidden;\n  }\n\n  .md h3::before {\n    margin-left: -15px;\n    margin-right: 5px;\n    content: '#';\n    color: #81a2be;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  h1 {\n    margin: 2rem 0 1rem;\n    font-size: 2rem;\n  }\n\n  h2 {\n    padding-bottom: 0.3rem;\n    border-bottom: 1px solid #ddd;\n  }\n\n  h1, h2, h3, h4, h5 {\n    font-weight: normal;\n    cursor: pointer;\n  }\n\n  .description {\n    margin-top: 10px;\n    color: #333;\n    padding-left: 5px;\n  }\n\n  .description img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  .description > h1 {\n    display: none;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .btn {\n    display: inline-block;\n    outline: 0;\n    text-decoration: none;\n    background-color: transparent;\n    border: 1px solid #877e87;\n    border-radius: 1rem;\n    padding: .375rem 1.5rem;\n    font-weight: 700;\n    appearance: none;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    transition:\n      color .2s cubic-bezier(.08,.52,.52,1),\n      background .2s cubic-bezier(.08,.52,.52,1),\n      border-color .2s cubic-bezier(.08,.52,.52,1);\n    cursor: pointer;\n    color: #444;\n  }\n\n  .btn:hover {\n    background-color: #202428;\n    border-color: #202428;\n    color: #fff;\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  .hljs,\n  code[data-filename] {\n    display: block;\n    overflow-x: auto;\n    padding: 1rem;\n    background: #1d1f21;\n    border-radius: 7px;\n    box-shadow: rgba(0, 0, 0, 0.55) 0px 11px 11px 0px;\n    font-size: 0.8rem;\n    color: #c5c8c6;\n  }\n\n  .hljs::selection,\n  .hljs span::selection,\n  code[data-filename]::selection,\n  code[data-filename] span::selection {\n    background: #373b41;\n  }\n\n  code[data-filename] {\n    position: relative;\n    padding-top: 22px;\n  }\n\n  code[data-filename]:before {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 0.7rem;\n    content: attr(data-filename);\n    padding: 2px 6px;\n    border-radius: 0 0 0 7px;\n    border-left: 1px solid #c5c8c6;\n    border-bottom: 1px solid #c5c8c6;\n    color: #fff;\n  }\n\n  .hljs-title,\n  .hljs-name {\n    color: #f0c674;\n  }\n\n  .hljs-comment {\n    color: #707880;\n  }\n\n  .hljs-meta,\n  .hljs-meta .hljs-keyword {\n    color: #f0c674;\n  }\n\n  .hljs-number,\n  .hljs-symbol,\n  .hljs-literal,\n  .hljs-deletion,\n  .hljs-link {\n    color: #cc6666\n  }\n\n  .hljs-string,\n  .hljs-doctag,\n  .hljs-addition,\n  .hljs-regexp,\n  .hljs-selector-attr,\n  .hljs-selector-pseudo {\n    color: #b5bd68;\n  }\n\n  .hljs-attribute,\n  .hljs-code,\n  .hljs-selector-id {\n    color: #b294bb;\n  }\n\n  .hljs-keyword,\n  .hljs-selector-tag,\n  .hljs-bullet,\n  .hljs-tag {\n    color: #81a2be;\n  }\n\n  .hljs-subst,\n  .hljs-variable,\n  .hljs-template-tag,\n  .hljs-template-variable {\n    color: #8abeb7;\n  }\n\n  .hljs-type,\n  .hljs-built_in,\n  .hljs-builtin-name,\n  .hljs-quote,\n  .hljs-section,\n  .hljs-selector-class {\n    color: #de935f;\n  }\n\n  .hljs-emphasis {\n    font-style: italic;\n  }\n\n  .hljs-strong {\n    font-weight: bold;\n  }\n\n  @media (min-width: 768px) {\n    code[data-filename] {\n      padding-top: 1rem;\n    }\n\n    code[data-filename]:before {\n      font-size: inherit;\n      opacity: 0.5;\n      transition: opacity .5s;\n    }\n\n    code[data-filename]:hover:before {\n      opacity: 1;\n    }\n  }\n`;\n","import { css } from 'lit-element';\n\nexport default css`\n  /* other alert styles is in md.js */\n\n  .alert-warning {\n    border-left-color: #856404;\n    background-color: #fff3cd;\n  }\n\n  .alert-warning:before {\n    background: #856404;\n    content: 'w';\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { ut } from '../directives/i18n';\nimport { mdCss } from '../styles';\n\nexport default class Footer extends LitElement {\n  static cName = 'app-footer';\n\n  year = new Date().getFullYear();\n\n  render() {\n    return html`\n      <p class=\"links\">\n        <a href=\"https://github.com/stalniy/casl\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-github-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><title id=\"simpleicons-github-icon\" lang=\"en\">GitHub icon</title><path fill=\"#FFFFFF\" d=\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"></path></svg>\n        </a>\n        <a href=\"https://twitter.com/sergiy_stotskiy\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-twitter-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><title id=\"simpleicons-twitter-icon\" lang=\"en\">Twitter icon</title><path fill=\"#FFFFFF\" d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"></path></svg>\n        </a>\n        <a href=\"https://sergiy-stotskiy.medium.com/\" target=\"_blank\" rel=\"noopener\">\n          <svg aria-labelledby=\"simpleicons-medium-icon\" role=\"img\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><title id=\"simpleicons-medium-icon\" lang=\"en\">Medium icon</title><path fill=\"#FFFFFF\" d=\"M2.846 6.36c.03-.295-.083-.586-.303-.784l-2.24-2.7v-.403H7.26l5.378 11.795 4.728-11.795H24v.403l-1.917 1.837c-.165.126-.247.333-.213.538v13.5c-.034.204.048.41.213.537l1.87 1.837v.403h-9.41v-.403l1.937-1.882c.19-.19.19-.246.19-.538V7.794l-5.39 13.688h-.727L4.278 7.794v9.174c-.052.386.076.774.347 1.053l2.52 3.06v.402H0v-.403l2.52-3.06c.27-.278.39-.67.326-1.052V6.36z\"></path></svg>\n        </a>\n      </p>\n      <p class=\"copyright md\">${ut('copyright', { year: this.year })}</p>\n    `;\n  }\n}\n\nFooter.styles = [\n  mdCss,\n  css`\n    :host {\n      --app-footer-background: #838385;\n      --app-footer-text-color: #fff;\n      --app-footer-text-size: 13px;\n\n      display: block;\n      padding: 40px 0;\n      background-color: #303846;\n      font-size: var(--app-footer-text-size);\n      text-align: center;\n      color: var(--app-footer-text-color);\n    }\n\n    .copyright {\n      white-space: pre-line;\n    }\n\n    .links svg {\n      width: 18px;\n      height: 18px;\n    }\n\n    .links a {\n      margin: 0 5px;\n    }\n  `,\n];\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\nimport { gridCss } from '../styles';\nimport menuIcon from '../assets/icons/menu.png';\n\nexport default class Header extends LitElement {\n  static cName = 'app-header';\n  static properties = {\n    menu: { type: Object },\n    theme: { type: String },\n    _isCompactSearch: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this.theme = 'default';\n    this.menu = { items: [] };\n    this._isCompactSearch = false;\n  }\n\n  _emitToggleMenu() {\n    this.dispatchEvent(new CustomEvent('toggle-menu', {\n      bubbles: true,\n      composed: true,\n    }));\n  }\n\n  _renderControls() {\n    if (this.theme === 'default') {\n      return html`\n        <div class=\"row align-center\">\n          <app-quick-search></app-quick-search>\n          <app-menu .items=\"${this.menu.items}\"></app-menu>\n        </div>\n      `;\n    }\n\n    return html`\n      <app-quick-search\n        class=\"full-width-search\"\n        suggestionsType=\"page\"\n        toggler\n        ?compact=\"${this._isCompactSearch}\"\n        @reset=\"${this._toggleSearch}\"\n        @click-icon=\"${this._toggleSearch}\"\n      ></app-quick-search>\n    `;\n  }\n\n  _toggleSearch() {\n    this._isCompactSearch = !this._isCompactSearch;\n  }\n\n  _renderMenuToggler() {\n    if (this.theme !== 'mobile') {\n      return null;\n    }\n\n    return html`\n      <button type=\"button\" class=\"menu-toggle\" @click=\"${this._emitToggleMenu}\">\n        <img src=\"${menuIcon}\" width=\"24\">\n      </button>\n    `;\n  }\n\n  update(changed) {\n    if (changed.has('theme')) {\n      this._isCompactSearch = this.theme === 'mobile';\n    }\n\n    return super.update(changed);\n  }\n\n  render() {\n    return html`\n      <header class=\"container\">\n        ${this._renderMenuToggler()}\n        <div>\n          <app-link to=\"home\" class=\"logo\">${t('name')}</app-link>\n          <versions-select></versions-select>\n        </div>\n        ${this._renderControls()}\n      </header>\n      <!-- <app-lang-picker></app-lang-picker> -->\n    `;\n  }\n}\n\nHeader.styles = [\n  gridCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    app-link {\n      color: #000;\n      text-decoration: none;\n    }\n\n    header {\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 0 10px 0 1rem;\n    }\n\n    .logo {\n      padding-top: 4px;\n      line-height: 1;\n      font-weight: bold;\n      font-size: 2rem;\n      font-family: \"Stardos Stencil\", \"Helvetica Neue\", Arial, sans-serif;\n      vertical-align: middle;\n    }\n\n    .logo:hover {\n      border-bottom-color: transparent;\n    }\n\n    .menu-toggle {\n      position: absolute;\n      left: 0;\n      background: transparent;\n      border: 0;\n      cursor: pointer;\n    }\n\n    .menu-toggle:focus {\n      outline: none;\n    }\n\n    app-menu {\n      margin-left: 10px;\n    }\n\n    .full-width-search {\n      position: absolute;\n      right: 0;\n      box-sizing: border-box;\n      width: 100%;\n      height: 100%;\n      transition: width .3s ease-in-out;\n    }\n\n    .full-width-search[compact] {\n      width: 35px;\n      padding: 0;\n      height: auto;\n    }\n\n    versions-select {\n      vertical-align: middle;\n      margin-left: -5px;\n    }\n\n    @media (min-width: 768px) {\n      header {\n        justify-content: space-between;\n      }\n\n      .logo {\n        font-size: 3rem;\n      }\n\n      app-quick-search {\n        border-radius: 15px;\n        border: 1px solid #e3e3e3;\n      }\n\n      versions-select {\n        vertical-align: top;\n        margin-left: -10px;\n      }\n    }\n  `,\n];\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAQMAAABtzGvEAAAABlBMVEVMaXF1dXW6QQOmAAAAAXRSTlMAQObYZgAAABZJREFUeNpjoAVg/g8EB7BSg9sUygEATXU49WmTHjIAAAAASUVORK5CYII=\"","import { LitElement, html, css } from 'lit-element';\nimport router from '../services/router';\n\nexport default class Link extends LitElement {\n  static cName = 'app-link';\n  static properties = {\n    to: { type: String },\n    params: { type: Object },\n    query: { type: Object },\n    hash: { type: String },\n    active: { type: Boolean },\n    nav: { type: Boolean }\n  };\n\n  constructor() {\n    super();\n\n    this.to = '';\n    this.active = false;\n    this.query = null;\n    this.params = null;\n    this.hash = '';\n    this.nav = false;\n    this._url = null;\n    this._unwatchRouter = null;\n  }\n\n  _isActive() {\n    const url = this._getUrl();\n    const { pathname } = window.location;\n\n    if (url.length > pathname.length) {\n      return false;\n    }\n\n    return url === pathname || pathname.startsWith(url);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.addEventListener('click', this._navigate.bind(this), false);\n\n    if (this.nav) {\n      this._unwatchRouter = router.observe(() => {\n        this.active = this._isActive();\n      }, { initial: true });\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n\n    if (this._unwatchRouter) {\n      this._unwatchRouter();\n    }\n  }\n\n  update(changed) {\n    const isUrlChanged = ['to', 'query', 'params', 'hash'].some(prop => changed.has(prop));\n\n    if (this._url === null || isUrlChanged) {\n      this._url = this._generateUrl();\n    }\n\n    if (this.nav && changed.has('active')) {\n      const toggle = this.active ? 'add' : 'remove';\n      this.classList[toggle]('active');\n    }\n\n    return super.update(changed);\n  }\n\n  _getUrl() {\n    this._url = this._url || this._generateUrl();\n    return this._url;\n  }\n\n  _generateUrl() {\n    return router.url({\n      name: this.to,\n      hash: this.hash,\n      params: this.params,\n      query: this.query,\n    });\n  }\n\n  render() {\n    return html`\n      <a itemprop=\"url\" href=\"${this._url}\">\n        <slot></slot>\n      </a>\n    `;\n  }\n\n  _navigate(event) {\n    if (!event.ctrlKey) {\n      event.preventDefault();\n      router.navigate({ url: this._url });\n    }\n  }\n}\n\nLink.styles = css`\n  :host {\n    display: inline-block;\n    vertical-align: baseline;\n    text-decoration: none;\n    cursor: pointer;\n    border-bottom: 2px solid transparent;\n  }\n\n  :host(:hover),\n  :host(.active) {\n    border-bottom-color: #81a2be;\n  }\n\n  a {\n    font-size: inherit;\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  a:hover {\n    text-decoration: inherit;\n  }\n\n  a.active {\n    color: var(--app-link-active-color);\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\n\nfunction renderNavItem(item) {\n  if (item.heading) {\n    return html`<h4>${t(`menu.${item.heading}`)}</h4>`;\n  }\n\n  const title = t(`menu.${item.name}`);\n\n  if (item.route === false) {\n    return html`<a class=\"link\">${title}</a>`;\n  }\n\n  if (item.url) {\n    return html`<a href=\"${item.url}\" target=\"_blank\" rel=\"nofollow\">${title}</a>`;\n  }\n\n  if (item.page) {\n    return html`<app-link nav to=\"page\" .params=\"${{ id: item.page }}\">${title}</app-link>`;\n  }\n\n  return html`<app-link nav to=\"${item.name}\">${title}</app-link>`;\n}\n\nexport default class Menu extends LitElement {\n  static cName = 'app-menu';\n  static properties = {\n    items: { type: Array },\n    expanded: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this.items = [];\n  }\n\n  render() {\n    return html`\n      <nav\n        role=\"navigation\"\n        itemscope\n        itemtype=\"http://schema.org/SiteNavigationElement\"\n      >\n        ${this._renderNav(this.items, 'nav')}\n      </nav>\n    `;\n  }\n\n  _renderNav(items, navClass) {\n    const children = items.map(item => html`\n      <li class=\"dropdown-container\">\n        ${renderNavItem(item)}\n        ${this._renderItemNav(item)}\n      </li>\n    `);\n\n    return html`<ul class=\"${navClass}\">${children}</ul>`;\n  }\n\n  _renderItemNav({ children }) {\n    return children\n      ? this._renderNav(children, `dropdown ${this.expanded ? '' : 'expandable'}`)\n      : '';\n  }\n}\n\nMenu.styles = css`\n  :host {\n    display: block;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n\n  .dropdown-container {\n    display: inline-block;\n    position: relative;\n    margin: 0 1rem;\n  }\n\n  .dropdown-container:hover .dropdown {\n    display: block;\n  }\n\n  .dropdown.expandable {\n    display: none;\n    max-height: calc(100vh - 61px);\n    overflow-y: auto;\n    position: absolute;\n    top: 100%;\n    right: -15px;\n    background-color: #fff;\n    border: 1px solid #ddd;\n    border-bottom-color: #ccc;\n    border-radius: 4px;\n  }\n\n  .dropdown {\n    box-sizing: border-box;\n    padding: 10px 0;\n    text-align: left;\n    white-space: nowrap;\n  }\n\n  .dropdown li {\n    display: block;\n    margin: 0;\n    line-height: 1.6rem;\n  }\n\n  .dropdown li > ul {\n    padding-left: 0;\n  }\n\n  .dropdown li:first-child h4 {\n    margin-top: 0;\n    padding-top: 0;\n    border-top: 0;\n  }\n\n  .dropdown a,\n  .dropdown app-link,\n  .dropdown h4 {\n    padding: 0 24px 0 20px;\n  }\n\n  .dropdown h4 {\n    margin: 0.45em 0 0;\n    padding-top: 0.45rem;\n    border-top: 1px solid #eee;\n  }\n\n  .dropdown-container a,\n  .dropdown-container app-link {\n    text-decoration: none;\n  }\n\n  .nav a,\n  .nav app-link,\n  .dropdown a,\n  .dropdown app-link {\n    display: block;\n    color: #202428;\n    text-decoration: none;\n  }\n  .nav a:hover,\n  .nav app-link:hover,\n  .nav app-link.active,\n  .dropdown a:hover,\n  .dropdown app-link:hover {\n    color: #81a2be;\n    border-bottom-color: transparent;\n  }\n\n  .link {\n    display: block;\n    cursor: pointer;\n    line-height: 40px;\n  }\n\n  .link:after {\n    display: inline-block;\n    content: '';\n    vertical-align: middle;\n    margin-top: -1px;\n    margin-left: 6px;\n    margin-right: -14px;\n    width: 0;\n    height: 0;\n    border-left: 4px solid transparent;\n    border-right: 4px solid transparent;\n    border-top: 5px solid #4f5959;\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { t, d } from '../directives/i18n';\n\nexport default class ArticleDetails extends LitElement {\n  static cName = 'app-article-details';\n  static properties = {\n    article: { type: Object, attribute: false },\n    category: { type: String },\n  };\n\n  constructor() {\n    super();\n    this.article = null;\n    this.category = '';\n  }\n\n  render() {\n    const { article } = this;\n    const category = this.category || article.categories[0];\n\n    return html`\n      <time datetime=\"${article.createdAt}\" itemprop=\"datePublished\">\n        ${d(article.createdAt)}\n      </time>\n      <span>\n        ${t('article.author')}\n        <span itemprop=\"author\">${t(`article.authors.${article.author}`)}</span>\n      </span>\n      <slot name=\"more\">\n        <app-link to=\"${category}\" hash=\"comments\" .params=\"${article}\">\n          <i class=\"icon-comment\"></i>${article.commentsCount || 0}\n        </app-link>\n        <app-link to=\"${category}\" .params=\"${article}\" class=\"more\">${t('article.readMore')}</app-link>\n      </slot>\n    `;\n  }\n}\n\nArticleDetails.styles = [\n  css`\n    :host {\n      margin-top: 10px;\n      color: var(--app-article-details-color, #999);\n      font-size: 11px;\n    }\n\n    :host > * {\n      margin-right: 10px;\n    }\n\n    app-link {\n      margin-right: 10px;\n      color: var(--app-link-active-color);\n    }\n\n    app-link > [class^=\"icon-\"] {\n      margin-right: 5px;\n    }\n  `\n];\n","import { LitElement } from 'lit-element';\nimport { listenForLangChanged, locale } from '../services/i18n';\n\nexport default class I18nElement extends LitElement {\n  constructor() {\n    super();\n    this._unwatchLang = null;\n    this._locale = locale();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._unwatchLang = listenForLangChanged((lang) => {\n      this._locale = lang;\n      this.reload().then(() => this.requestUpdate());\n    });\n  }\n\n  disconnectedCallback() {\n    this._unwatchLang();\n    super.disconnectedCallback();\n  }\n\n  reload() {\n    return Promise.reject(new Error(\n      `${this.constructor.cName} should implement \"reload\" method`\n    ));\n  }\n}\n","import { t, translationExists } from './i18n';\n\nexport function setTitle(title) {\n  const prefix = title ? `${title} - ` : '';\n  document.title = prefix + t('name');\n}\n\nfunction getMetaTag(name) {\n  let meta = document.head.querySelector(`meta[name=\"${name}\"]`);\n\n  if (!meta) {\n    meta = document.createElement('meta');\n    meta.setAttribute('name', name);\n    document.head.appendChild(meta);\n  }\n\n  return meta;\n}\n\nexport function setMeta(name, content) {\n  if (typeof name === 'object') {\n    Object.keys(name).forEach(key => setMeta(key, name[key]));\n    return;\n  }\n\n  const defaultValue = t(`meta.${name}`);\n  const value = Array.isArray(content)\n    ? content.concat(defaultValue).join(', ')\n    : content || defaultValue;\n\n  getMetaTag(name).setAttribute('content', value.replace(/[\\n\\r]+/g, ' '));\n}\n\nexport function setRouteMeta({ response }) {\n  const html = document.documentElement;\n\n  if (html.lang !== response.params.lang) {\n    html.lang = response.params.lang;\n  }\n\n  const prefix = `meta.${response.name}`;\n\n  if (translationExists(prefix)) {\n    setTitle(t(`${prefix}.title`));\n    setMeta('keywords', t(`${prefix}.keywords`));\n    setMeta('description', t(`${prefix}.description`));\n  } else {\n    setTitle();\n    setMeta('keywords');\n    setMeta('description');\n  }\n}\n\nexport function setPageMeta(page) {\n  const meta = page.meta || {};\n\n  setTitle(page.title);\n  setMeta('keywords', meta.keywords || '');\n  setMeta('description', meta.description || '');\n}\n","import router from '../services/router';\n\nfunction scrollToElement(root, id) {\n  const element = root.getElementById(id);\n\n  if (!element) {\n    return;\n  }\n\n  const headerHeight = 85;\n  element.scrollIntoView(true);\n  document.documentElement.scrollTop -= headerHeight;\n}\n\nfunction closest(startNode, tagName) {\n  let current = startNode;\n  const maxIterations = 3;\n  let i = 0;\n\n  while (current && i < maxIterations) {\n    if (current.tagName === tagName) {\n      return current;\n    }\n\n    current = current.parentNode;\n    i++;\n  }\n\n  return null;\n}\n\nexport function tryToNavigateElement(root, target) {\n  let hash;\n\n  if (target.tagName[0] === 'H' && target.id) {\n    hash = target.id;\n  } else {\n    const clickedTarget = closest(target, 'A');\n    const hashIndex = clickedTarget ? clickedTarget.href.indexOf('#') : -1;\n\n    if (hashIndex !== -1) {\n      scrollToElement(root, clickedTarget.href.slice(hashIndex + 1));\n    }\n  }\n\n  if (hash) {\n    const { location } = router.current().response;\n    const url = `${location.pathname}${window.location.search}#${hash}`;\n    router.navigate({ url });\n    scrollToElement(root, hash);\n  }\n}\n\nexport function scrollToSectionIn(root) {\n  const { hash } = router.current().response.location;\n\n  if (hash) {\n    scrollToElement(root, hash);\n  } else {\n    window.scroll(0, 0);\n  }\n}\n","import { html, css } from 'lit-element';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { mdCss, pageCss, codeCss } from '../styles';\nimport I18nElement from './I18nElement';\nimport { interpolate, locale } from '../services/i18n';\nimport content from '../services/content';\nimport { setPageMeta } from '../services/meta';\nimport { tryToNavigateElement, scrollToSectionIn } from '../hooks/scrollToSection';\n\nfunction renderContent(page, vars) {\n  return unsafeHTML(interpolate(page.content, vars));\n}\n\nexport default class Page extends I18nElement {\n  static cName = 'app-page';\n  static properties = {\n    type: { type: String },\n    name: { type: String },\n    vars: { type: Object, attribute: false },\n    content: { type: Function, attribute: false },\n    nav: { type: Array },\n    _page: { type: Object },\n  };\n\n  constructor() {\n    super();\n\n    this._page = null;\n    this.nav = [];\n    this.name = null;\n    this.vars = {};\n    this.type = 'page';\n    this.content = renderContent;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.shadowRoot.addEventListener('click', (event) => {\n      tryToNavigateElement(this.shadowRoot, event.target);\n    }, false);\n  }\n\n  async updated(changed) {\n    if (this._page === null || changed.has('name') || changed.has('type')) {\n      await this.reload();\n    }\n  }\n\n  async reload() {\n    this._page = await content(this.type).load(locale(), this.name);\n    setPageMeta(this._page);\n    await this.updateComplete;\n    scrollToSectionIn(this.shadowRoot);\n  }\n\n  _renderNav() {\n    const [prev, next] = this.nav;\n    return html`\n      <app-page-nav pageType=\"${this.type}\" .prev=\"${prev}\" .next=\"${next}\"></app-page-nav>\n    `;\n  }\n\n  render() {\n    if (!this._page) {\n      return html``;\n    }\n\n    return html`\n      <article itemscope itemtype=\"http://schema.org/Article\">\n        <h1>${interpolate(this._page.title)}</h1>\n        <old-version-alert></old-version-alert>\n        <div class=\"description md\">${this.content(this._page, this.vars)}</div>\n      </article>\n      ${this.nav && this.nav.length ? this._renderNav() : ''}\n    `;\n  }\n}\n\nPage.styles = [\n  pageCss,\n  mdCss,\n  codeCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    app-page-nav {\n      margin-top: 20px;\n    }\n  `\n];\n","import { LitElement, html, css } from 'lit-element';\n\nexport default class PageNav extends LitElement {\n  static cName = 'app-page-nav';\n  static properties = {\n    next: { type: Object },\n    prev: { type: Object },\n    pageType: { type: String }\n  };\n\n  constructor() {\n    super();\n    this.next = null;\n    this.prev = null;\n    this.pageType = 'page';\n  }\n\n  _linkTo(type) {\n    const page = this[type];\n\n    if (!page) {\n      return '';\n    }\n\n    return html`\n      <app-link to=\"${this.pageType}\" .params=\"${page}\" class=\"${type}\">\n        ${page.title}\n      </app-link>\n    `;\n  }\n\n  render() {\n    return html`\n      ${this._linkTo('prev')}\n      ${this._linkTo('next')}\n    `;\n  }\n}\n\nPageNav.styles = css`\n  :host {\n    display: block;\n  }\n\n  :host:after {\n    display: table;\n    clear: both;\n    content: '';\n  }\n\n  app-link {\n    color: #81a2be;\n    text-decoration: none;\n  }\n\n  app-link:hover {\n    border-bottom-color: transparent;\n  }\n\n  .next {\n    float: right;\n    margin-left: 30px;\n  }\n\n  .next:after,\n  .prev:before {\n    display: inline-block;\n    vertical-align: middle;\n    content: '⇢';\n  }\n\n  .prev:before {\n    content: '⇠';\n  }\n`;\n","import { html, css, unsafeCSS } from 'lit-element';\nimport { t, ut } from '../directives/i18n';\n\nconst features = [\n  'isomorphic',\n  'versatile',\n  'declarative',\n  'typesafe',\n  'treeshakable'\n];\n\nfunction renderFeature(feature) {\n  return html`\n    <section class=\"feature\">\n      <h3>${t(`features.${feature}.title`)}</h3>\n      <p>${ut(`features.${feature}.description`)}</p>\n    </section>\n  `;\n}\n\nconst template = () => html`\n  <section class=\"features container\">${features.map(renderFeature)}</section>\n`;\n\ntemplate.styles = [\n  css`\n    .features {\n      padding: 1rem 0;\n      display: -ms-grid;\n      display: grid;\n      justify-content: center;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      -ms-grid-columns: ${unsafeCSS(features.map(() => 'minmax(200px, 1fr)').join(' '))};\n    }\n\n    .feature {\n      padding: 1rem;\n    }\n\n    .feature h3 {\n      font-size: 1.4rem;\n    }\n\n    .feature p:last-child {\n      margin-bottom: 0;\n    }\n  `\n];\n\nexport default template;\n","import { LitElement, html, css } from 'lit-element';\nimport { t, ut } from '../directives/i18n';\nimport { gridCss, btnCss, codeCss } from '../styles';\nimport shieldURL from '../assets/casl-shield.png';\nimport config from '../config/app';\nimport features from '../partials/caslFeatures';\n\nexport default class HomePage extends LitElement {\n  static cName = 'home-page';\n\n  render() {\n    return html`\n      <div class=\"bg\">\n        <header class=\"row wrap container\">\n          <div class=\"col row wrap align-start main\">\n            <img src=\"${shieldURL}\" width=\"250\" height=\"302\" class=\"col col-fixed\">\n            <div class=\"col details\">\n              <h1>${t('slogan')}</h1>\n              <div class=\"buttons\">\n                <app-link to=\"page\" .params=\"${{ id: 'guide/intro' }}\" class=\"btn btn-lg\">\n                  ${t('buttons.start')}\n                </app-link>\n                <a href=\"${config.repoURL}\" target=\"_blank\" rel=\"noopener\" class=\"btn btn-lg\">\n                  ${t('buttons.source')}\n                </a>\n                <github-button\n                  size=\"large\"\n                  text=\"Star\"\n                  theme=\"no-preference: dark; light: dark;\"\n                ></github-button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col col-fixed col-example\">\n            <div class=\"example\">${ut('exampleCode')}</div>\n          </div>\n        </header>\n      </div>\n      ${features()}\n    `;\n  }\n}\n\nHomePage.styles = [\n  gridCss,\n  btnCss,\n  features.styles,\n  codeCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    .bg {\n      background: #fff;\n      background: linear-gradient(90deg, #fff 0%, rgba(222,228,234,1) 41%, rgba(235,245,253,1) 60%, rgba(82,84,87,1) 100%);\n    }\n\n    header {\n      justify-content: center;\n      padding: 2rem 1rem;\n    }\n\n    .main {\n      padding-top: 22px;\n      text-align: center;\n      justify-content: center;\n    }\n\n    h1 {\n      white-space: pre-line;\n      font-size: 2.2rem;\n      font-family: \"Stardos Stencil\", \"Helvetica Neue\", Arial, sans-serif;\n    }\n\n    .buttons {\n      display: inline-block;\n      text-align: center;\n    }\n\n    .buttons app-link {\n      margin-right: 5px;\n    }\n\n    github-button {\n      display: block;\n      margin-top: 10px;\n    }\n\n    .details {\n      min-width: 300px;\n    }\n\n    .col-example {\n      display: none;\n    }\n\n    @media (min-width: 768px) {\n      .main > img {\n        margin-right: 30px;\n      }\n    }\n\n    @media (min-width: 1024px) {\n      .main {\n        text-align: left;\n      }\n\n      .col-example {\n        display: block;\n      }\n\n      .example code {\n        font-size: .7rem;\n      }\n    }\n\n    @media (min-width: 1200px) {\n      .example code {\n        font-size: .8rem;\n      }\n    }\n  `\n];\n","export default \"/v4/51b9cc103e05f66c.png\"","/*!\n * github-buttons v2.11.1\n * (c) 2020 なつき\n * @license BSD-2-Clause\n */\nvar document = window.document;\n\nvar Math = window.Math;\n\nvar HTMLElement = window.HTMLElement;\n\nvar XMLHttpRequest = window.XMLHttpRequest;\n\nvar createElementInDocument = function (document) {\n  return function (tag, props, children) {\n    var el = document.createElement(tag);\n    if (props != null) {\n      for (var prop in props) {\n        var val = props[prop];\n        if (val != null) {\n          if (el[prop] != null) {\n            el[prop] = val;\n          } else {\n            el.setAttribute(prop, val);\n          }\n        }\n      }\n    }\n    if (children != null) {\n      for (var i = 0, len = children.length; i < len; i++) {\n        var child = children[i];\n        el.appendChild(typeof child === 'string' ? document.createTextNode(child) : child);\n      }\n    }\n    return el\n  }\n};\n\nvar createElement = createElementInDocument(document);\n\nvar dispatchOnce = function (func) {\n  var onceToken;\n  return function () {\n    if (!onceToken) {\n      onceToken = 1;\n      func.apply(this, arguments);\n    }\n  }\n};\n\nvar hasOwnProperty = function (obj, prop) {\n  return {}.hasOwnProperty.call(obj, prop)\n};\n\nvar name = \"github-buttons\";\nvar version = \"2.11.1\";\n\nvar iframeURL = 'https://' + (/* istanbul ignore next */  'unpkg.com/' + name + '@' + version + '/dist' ) + '/buttons.html';\n\nvar domain = 'github.com';\n\nvar apiBaseURL = 'https://api.' + domain;\n\nvar useXHR = XMLHttpRequest && 'prototype' in XMLHttpRequest && 'withCredentials' in XMLHttpRequest.prototype;\n\nvar useShadowDOM = useXHR && HTMLElement && 'attachShadow' in HTMLElement.prototype && !('prototype' in HTMLElement.prototype.attachShadow);\n\nvar onEvent = function (target, eventName, func) {\n  /* istanbul ignore else: IE lt 9 */\n  if (target.addEventListener) {\n    target.addEventListener(eventName, func, false);\n  } else {\n    target.attachEvent('on' + eventName, func);\n  }\n};\n\nvar offEvent = function (target, eventName, func) {\n  /* istanbul ignore else: IE lt 9 */\n  if (target.removeEventListener) {\n    target.removeEventListener(eventName, func, false);\n  } else {\n    target.detachEvent('on' + eventName, func);\n  }\n};\n\nvar onceEvent = function (target, eventName, func) {\n  var callback = function (event) {\n    offEvent(target, eventName, callback);\n    return func(event)\n  };\n  onEvent(target, eventName, callback);\n};\n\nvar onceReadyStateChange = /* istanbul ignore next: IE lt 9 */ function (target, regex, func) {\n  var eventName = 'readystatechange';\n  var callback = function (event) {\n    if (regex.test(target.readyState)) {\n      offEvent(target, eventName, callback);\n      return func(event)\n    }\n  };\n  onEvent(target, eventName, callback);\n};\n\nvar parseOptions = function (anchor) {\n  var options = {\n    href: anchor.href,\n    title: anchor.title,\n    'aria-label': anchor.getAttribute('aria-label')\n  };\n  var ref = ['icon', 'color-scheme', 'text', 'size', 'show-count'];\n  for (var i = 0, len = ref.length; i < len; i++) {\n    var attribute = 'data-' + ref[i];\n    options[attribute] = anchor.getAttribute(attribute);\n  }\n  if (options['data-text'] == null) {\n    options['data-text'] = anchor.textContent || anchor.innerText;\n  }\n  return options\n};\n\nvar buttonsCssText = \"body{margin:0}a{text-decoration:none;outline:0}.widget{display:inline-block;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;font-size:0;line-height:0;white-space:nowrap}.btn,.social-count{position:relative;display:inline-block;height:14px;padding:2px 5px;font-size:11px;font-weight:600;line-height:14px;vertical-align:bottom;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:repeat-x;background-position:-1px -1px;background-size:110% 110%;border:1px solid}.btn{border-radius:.25em}.btn:not(:last-child){border-radius:.25em 0 0 .25em}.social-count{border-left:0;border-radius:0 .25em .25em 0}.widget-lg .btn,.widget-lg .social-count{height:20px;padding:3px 10px;font-size:12px;line-height:20px}.octicon{display:inline-block;vertical-align:text-top;fill:currentColor}\";\n\nvar light = \".btn{color:#24292e;background-color:#eff3f6;border-color:#c5c9cc;border-color:rgba(27,31,35,.2);background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%23fafbfc'/%3e%3cstop offset='90%25' stop-color='%23eff3f6'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #fafbfc, #eff3f6 90%);background-image:linear-gradient(180deg, #fafbfc, #eff3f6 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FFFAFBFC', endColorstr='#FFEEF2F5')}:root .btn{filter:none}.btn:focus,.btn:hover{background-color:#e6ebf1;background-position:-0.5em;border-color:#9fa4a9;border-color:rgba(27,31,35,.35);background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%23f0f3f6'/%3e%3cstop offset='90%25' stop-color='%23e6ebf1'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #f0f3f6, #e6ebf1 90%);background-image:linear-gradient(180deg, #f0f3f6, #e6ebf1 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FFF0F3F6', endColorstr='#FFE5EAF0')}:root .btn:focus,:root .btn:hover{filter:none}.btn:active{background-color:#e9ecef;border-color:#a1a4a8;border-color:rgba(27,31,35,.35);box-shadow:inset 0 .15em .3em rgba(27,31,35,.15);background-image:none;filter:none}.social-count{color:#24292e;background-color:#fff;border-color:#d1d2d3;border-color:rgba(27,31,35,.2)}.social-count:focus,.social-count:hover{color:#0366d6}.octicon-heart{color:#ea4aaa}\";\n\nvar dark = \".btn{color:#fafbfc;background-color:#202428;border-color:#1f2327;border-color:rgba(27,31,35,.2);background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%232f363d'/%3e%3cstop offset='90%25' stop-color='%23202428'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #2f363d, #202428 90%);background-image:linear-gradient(180deg, #2f363d, #202428 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FF2F363D', endColorstr='#FF1E2226')}:root .btn{filter:none}.btn:focus,.btn:hover{background-color:#1b1f23;background-position:-0.5em;border-color:#1b1f23;border-color:rgba(27,31,35,.5);background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg'%3e%3clinearGradient id='o' x2='0' y2='1'%3e%3cstop stop-color='%232b3137'/%3e%3cstop offset='90%25' stop-color='%231b1f23'/%3e%3c/linearGradient%3e%3crect width='100%25' height='100%25' fill='url(%23o)'/%3e%3c/svg%3e\\\");background-image:-moz-linear-gradient(top, #2b3137, #1b1f23 90%);background-image:linear-gradient(180deg, #2b3137, #1b1f23 90%);filter:progid:DXImageTransform.Microsoft.Gradient(startColorstr='#FF2B3137', endColorstr='#FF191D21')}:root .btn:focus,:root .btn:hover{filter:none}.btn:active{background-color:#181b1f;border-color:#1a1d21;border-color:rgba(27,31,35,.5);box-shadow:inset 0 .15em .3em rgba(27,31,35,.15);background-image:none;filter:none}.social-count{color:#fafbfc;background-color:#1b1f23;border-color:#1b1f23;border-color:rgba(27,31,35,.2)}.social-count:focus,.social-count:hover{color:#2188ff}.octicon-heart{color:#ec6cb9}\";\n\nvar stringify = function (obj, sep, eq, encodeURIComponent) {\n  if (sep == null) {\n    sep = '&';\n  }\n  if (eq == null) {\n    eq = '=';\n  }\n  if (encodeURIComponent == null) {\n    encodeURIComponent = window.encodeURIComponent;\n  }\n  var params = [];\n  for (var name in obj) {\n    var value = obj[name];\n    if (value != null) {\n      params.push(encodeURIComponent(name) + eq + encodeURIComponent(value));\n    }\n  }\n  return params.join(sep)\n};\n\nvar parse = function (str, sep, eq, decodeURIComponent) {\n  if (sep == null) {\n    sep = '&';\n  }\n  if (eq == null) {\n    eq = '=';\n  }\n  if (decodeURIComponent == null) {\n    decodeURIComponent = window.decodeURIComponent;\n  }\n  var obj = {};\n  var params = str.split(sep);\n  for (var i = 0, len = params.length; i < len; i++) {\n    var entry = params[i];\n    if (entry !== '') {\n      var ref = entry.split(eq);\n      obj[decodeURIComponent(ref[0])] = (ref[1] != null ? decodeURIComponent(ref.slice(1).join(eq)) : undefined);\n    }\n  }\n  return obj\n};\n\nvar widgetColorSchemes = {\n  light: light,\n  dark: dark\n};\n\nvar getColorSchemeMediaQuery = function (systemColorScheme, widgetColorScheme) {\n  return '@media(prefers-color-scheme:' + systemColorScheme + '){' + widgetColorSchemes[hasOwnProperty(widgetColorSchemes, widgetColorScheme) ? widgetColorScheme : systemColorScheme] + '}'\n};\n\nvar getColorScheme = function (declarations) {\n  if (declarations == null) {\n    return widgetColorSchemes.light\n  }\n\n  if (hasOwnProperty(widgetColorSchemes, declarations)) {\n    return widgetColorSchemes[declarations]\n  }\n\n  var colorSchemes = parse(declarations, ';', ':', function (str) {\n    return str.replace(/^[ \\t\\n\\f\\r]+|[ \\t\\n\\f\\r]+$/g, '')\n  });\n\n  return widgetColorSchemes[hasOwnProperty(widgetColorSchemes, colorSchemes['no-preference']) ? colorSchemes['no-preference'] : 'light'] +\n    getColorSchemeMediaQuery('light', colorSchemes.light) +\n    getColorSchemeMediaQuery('dark', colorSchemes.dark)\n};\n\nvar data = {\"mark-github\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\\\"></path>\"}}},\"heart\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z\\\"></path>\"}}},\"eye\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z\\\"></path>\"}}},\"star\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z\\\"></path>\"}}},\"repo-forked\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z\\\"></path>\"}}},\"repo-template\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M6 .75A.75.75 0 016.75 0h2.5a.75.75 0 010 1.5h-2.5A.75.75 0 016 .75zm5 0a.75.75 0 01.75-.75h1.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V1.5h-.75A.75.75 0 0111 .75zM4.992.662a.75.75 0 01-.636.848c-.436.063-.783.41-.846.846a.75.75 0 01-1.485-.212A2.501 2.501 0 014.144.025a.75.75 0 01.848.637zM2.75 4a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 012.75 4zm10.5 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zM2.75 8a.75.75 0 01.75.75v.268A1.72 1.72 0 013.75 9h.5a.75.75 0 010 1.5h-.5a.25.25 0 00-.25.25v.75c0 .28.114.532.3.714a.75.75 0 01-1.05 1.072A2.495 2.495 0 012 11.5V8.75A.75.75 0 012.75 8zm10.5 0a.75.75 0 01.75.75v4.5a.75.75 0 01-.75.75h-2.5a.75.75 0 010-1.5h1.75v-2h-.75a.75.75 0 010-1.5h.75v-.25a.75.75 0 01.75-.75zM6 9.75A.75.75 0 016.75 9h2.5a.75.75 0 010 1.5h-2.5A.75.75 0 016 9.75zm-1 2.5v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\\\"></path>\"}}},\"issue-opened\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z\\\"></path>\"}}},\"download\":{\"heights\":{\"16\":{\"width\":16,\"path\":\"<path fill-rule=\\\"evenodd\\\" d=\\\"M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z\\\"></path>\"}}}};\n\nvar octicon = function (icon, height) {\n  icon = ('' + icon).toLowerCase().replace(/^octicon-/, '');\n  if (!hasOwnProperty(data, icon)) {\n    icon = 'mark-github';\n  }\n\n  var defaultHeight = height >= 24 && /* istanbul ignore next */ 24 in data[icon].heights ? /* istanbul ignore next */ 24 : 16;\n\n  var svg = data[icon].heights[defaultHeight];\n\n  return '<svg viewBox=\"0 0 ' + svg.width + ' ' + defaultHeight + '\" width=\"' + (height * svg.width / defaultHeight) + '\" height=\"' + height + '\" class=\"octicon octicon-' + icon + '\" aria-hidden=\"true\">' + svg.path + '</svg>'\n};\n\nvar queues = {};\n\nvar fetch = function (url, func) {\n  var queue = queues[url] || (queues[url] = []);\n  if (queue.push(func) > 1) {\n    return\n  }\n\n  var callback = dispatchOnce(function () {\n    delete queues[url];\n    while ((func = queue.shift())) {\n      func.apply(null, arguments);\n    }\n  });\n\n  if (useXHR) {\n    var xhr = new XMLHttpRequest();\n    onEvent(xhr, 'abort', callback);\n    onEvent(xhr, 'error', callback);\n    onEvent(xhr, 'load', function () {\n      var data;\n      try {\n        data = JSON.parse(xhr.responseText);\n      } catch (error) {\n        callback(error);\n        return\n      }\n      callback(xhr.status !== 200, data);\n    });\n    xhr.open('GET', url);\n    xhr.send();\n  } else {\n    var contentWindow = this || window;\n    contentWindow._ = function (json) {\n      contentWindow._ = null;\n      callback(json.meta.status !== 200, json.data);\n    };\n    var script = createElementInDocument(contentWindow.document)('script', {\n      async: true,\n      src: url + (/\\?/.test(url) ? '&' : '?') + 'callback=_'\n    });\n    var onloadend = /* istanbul ignore next: IE lt 9 */ function () {\n      if (contentWindow._) {\n        contentWindow._({\n          meta: {}\n        });\n      }\n    };\n    onEvent(script, 'load', onloadend);\n    onEvent(script, 'error', onloadend);\n    /* istanbul ignore if: IE lt 9 */\n    if (script.readyState) {\n      onceReadyStateChange(script, /de|m/, onloadend);\n    }\n    contentWindow.document.getElementsByTagName('head')[0].appendChild(script);\n  }\n};\n\nvar render = function (root, options, func) {\n  var createElement = createElementInDocument(root.ownerDocument);\n\n  var style = root.appendChild(createElement('style', {\n    type: 'text/css'\n  }));\n\n  var cssText = buttonsCssText + getColorScheme(options['data-color-scheme']);\n\n  /* istanbul ignore if: IE lt 9 */\n  if (style.styleSheet) {\n    style.styleSheet.cssText = cssText;\n  } else {\n    style.appendChild(root.ownerDocument.createTextNode(cssText));\n  }\n\n  var btn = createElement('a', {\n    className: 'btn',\n    href: options.href,\n    rel: 'noopener',\n    target: '_blank',\n    title: options.title || undefined,\n    'aria-label': options['aria-label'] || undefined,\n    innerHTML: octicon(options['data-icon'], /^large$/i.test(options['data-size']) ? 16 : 14)\n  }, [\n    ' ',\n    createElement('span', {}, [options['data-text'] || ''])\n  ]);\n\n  var widget = root.appendChild(createElement('div', {\n    className: 'widget' + (/^large$/i.test(options['data-size']) ? ' widget-lg' : '')\n  }, [\n    btn\n  ]));\n\n  var hostname = btn.hostname.replace(/\\.$/, '');\n  if (hostname.length < domain.length || ('.' + hostname).substring(hostname.length - domain.length) !== ('.' + domain)) {\n    btn.href = '#';\n    btn.target = '_self';\n    func(widget);\n    return\n  }\n\n  var path = (' /' + btn.pathname).split(/\\/+/);\n  if (((hostname === domain || hostname === 'gist.' + domain) && path[3] === 'archive') ||\n    (hostname === domain && path[3] === 'releases' && path[4] === 'download') ||\n    (hostname === 'codeload.' + domain)) {\n    btn.target = '_top';\n  }\n\n  if (!/^true$/i.test(options['data-show-count']) || hostname !== domain) {\n    func(widget);\n    return\n  }\n\n  var href, property;\n  if (!path[2] && path[1]) {\n    href = property = 'followers';\n  } else if (!path[3] && path[2]) {\n    property = 'stargazers_count';\n    href = 'stargazers';\n  } else if (!path[4] && path[3] === 'subscription') {\n    property = 'subscribers_count';\n    href = 'watchers';\n  } else if (!path[4] && path[3] === 'fork') {\n    property = 'forks_count';\n    href = 'network/members';\n  } else if (path[3] === 'issues') {\n    property = 'open_issues_count';\n    href = 'issues';\n  } else {\n    func(widget);\n    return\n  }\n\n  var api = path[2] ? '/repos/' + path[1] + '/' + path[2] : '/users/' + path[1];\n  fetch.call(this, apiBaseURL + api, function (error, json) {\n    if (!error) {\n      var data = json[property];\n      widget.appendChild(createElement('a', {\n        className: 'social-count',\n        href: json.html_url + '/' + href,\n        rel: 'noopener',\n        target: '_blank',\n        'aria-label': data + ' ' + property.replace(/_count$/, '').replace('_', ' ').slice(0, data < 2 ? -1 : undefined) + ' on GitHub'\n      }, [\n        ('' + data).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n      ]));\n    }\n    func(widget);\n  });\n};\n\nvar devicePixelRatio = window.devicePixelRatio || /* istanbul ignore next */ 1;\n\nvar ceilPixel = function (px) {\n  return (devicePixelRatio > 1 ? Math.ceil(Math.round(px * devicePixelRatio) / devicePixelRatio * 2) / 2 : Math.ceil(px)) || 0\n};\n\nvar get = function (el) {\n  var width = el.offsetWidth;\n  var height = el.offsetHeight;\n  if (el.getBoundingClientRect) {\n    var boundingClientRect = el.getBoundingClientRect();\n    width = Math.max(width, ceilPixel(boundingClientRect.width));\n    height = Math.max(height, ceilPixel(boundingClientRect.height));\n  }\n  return [width, height]\n};\n\nvar set = function (el, size) {\n  el.style.width = size[0] + 'px';\n  el.style.height = size[1] + 'px';\n};\n\nvar render$1 = function (options, func) {\n  if (options == null || func == null) {\n    return\n  }\n  if (options.getAttribute) {\n    options = parseOptions(options);\n  }\n  if (useShadowDOM) {\n    var host = createElement('span');\n    render(host.attachShadow({ mode:  'closed' }), options, function () {\n      func(host);\n    });\n  } else {\n    var iframe = createElement('iframe', {\n      src: 'javascript:0',\n      title: options.title || undefined,\n      allowtransparency: true,\n      scrolling: 'no',\n      frameBorder: 0\n    });\n    set(iframe, [0, 0]);\n    iframe.style.border = 'none';\n    var callback = function () {\n      var contentWindow = iframe.contentWindow;\n      var body;\n      try {\n        body = contentWindow.document.body;\n      } catch (_) /* istanbul ignore next: IE 11 */ {\n        document.body.appendChild(iframe.parentNode.removeChild(iframe));\n        return\n      }\n      offEvent(iframe, 'load', callback);\n      render.call(contentWindow, body, options, function (widget) {\n        var size = get(widget);\n        iframe.parentNode.removeChild(iframe);\n        onceEvent(iframe, 'load', function () {\n          set(iframe, size);\n        });\n        iframe.src = iframeURL + '#' + (iframe.name = stringify(options));\n        func(iframe);\n      });\n    };\n    onEvent(iframe, 'load', callback);\n    document.body.appendChild(iframe);\n  }\n};\n\nexport { render$1 as render };\n","import { LitElement } from 'lit-element';\nimport { render } from 'github-buttons';\nimport config from '../config/app';\n\nexport default class GithubButton extends LitElement {\n  static cName = 'github-button';\n  static properties = {\n    href: { type: String },\n    size: { type: String },\n    theme: { type: String },\n    showCount: { type: Boolean },\n    text: { type: String }\n  };\n\n  constructor() {\n    super();\n\n    this.href = config.repoURL;\n    this.size = undefined;\n    this.theme = 'light';\n    this.showCount = true;\n    this.text = undefined;\n  }\n\n  _collectOptions() {\n    return {\n      href: this.href,\n      'data-size': this.size,\n      'data-color-scheme': this.theme,\n      'data-show-count': this.showCount,\n      'data-text': this.text\n    };\n  }\n\n  update() {\n    render(this._collectOptions(), (el) => {\n      if (this.shadowRoot.firstChild) {\n        this.shadowRoot.replaceChild(el, this.shadowRoot.firstChild);\n      } else {\n        this.shadowRoot.appendChild(el);\n      }\n    });\n  }\n}\n","import { LitElement, html, css } from 'lit-element';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html';\nimport { t } from '../directives/i18n';\nimport { locale } from '../services/i18n';\nimport content from '../services/content';\nimport router from '../services/router';\nimport { debounce } from '../services/utils';\nimport { gridCss } from '../styles';\n\nconst SUGGESTION_TEMPLATES = {\n  dropdown(result) {\n    const title = result.hints.title || result.doc.title;\n    const headings = result.hints.headings || result.doc.headings || [];\n\n    return html`\n      <div class=\"row item\">\n        <div class=\"col title\">\n          <app-link to=\"page\" .params=\"${result.doc}\">${unsafeHTML(title)}</app-link>\n        </div>\n        <div class=\"col\">\n          ${headings.map(heading => html`\n            <app-link to=\"page\" .params=\"${result.doc}\" hash=\"${heading.id}\">\n              ${unsafeHTML(heading.title)}\n            </app-link>\n          `)}\n        </div>\n      </div>\n    `;\n  },\n  page(result) {\n    const title = result.hints.title || result.doc.title;\n    const headings = result.hints.headings || result.doc.headings || [];\n\n    return html`\n      ${headings.map(heading => html`\n        <app-link class=\"item\" to=\"page\" .params=\"${result.doc}\" hash=\"${heading.id}\">\n          ${unsafeHTML(`${title} › ${heading.title}`)}\n        </app-link>\n      `)}\n    `;\n  }\n};\n\nfunction renderSuggestions(suggestions, type) {\n  if (!suggestions) {\n    return '';\n  }\n\n  if (!suggestions.length) {\n    return html`\n      <div class=\"suggestions ${type}\">\n        ${t(`search.noMatch`)}\n      </div>\n    `;\n  }\n\n  const renderSuggestion = SUGGESTION_TEMPLATES[type || 'dropdown'];\n\n  return html`\n    <div class=\"suggestions ${type}\">\n      ${suggestions.map(([category, results]) => html`\n        <h5>${t(`categories.${category}`)}</h5>\n        ${results.map(renderSuggestion)}\n      `)}\n    </div>\n  `;\n}\n\nconst ICON_SEARCH = html`\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" height=\"16px\" width=\"16px\">\n    <path d=\"M6.02945,10.20327a4.17382,4.17382,0,1,1,4.17382-4.17382A4.15609,4.15609,0,0,1,6.02945,10.20327Zm9.69195,4.2199L10.8989,9.59979A5.88021,5.88021,0,0,0,12.058,6.02856,6.00467,6.00467,0,1,0,9.59979,10.8989l4.82338,4.82338a.89729.89729,0,0,0,1.29912,0,.89749.89749,0,0,0-.00087-1.29909Z\" />\n  </svg>\n`;\nconst ICON_ARROW = html`\n  <svg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 512 512'>\n    <polyline points='268 112 412 256 268 400' style='fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/>\n    <line x1='392' y1='256' x2='100' y2='256' style='fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px'/>\n  </svg>\n`;\n\nexport default class QuickSearch extends LitElement {\n  static cName = 'app-quick-search';\n  static properties = {\n    value: { type: String },\n    suggestionsType: { type: String },\n    compact: { type: Boolean },\n    toggler: { type: Boolean },\n    _suggestions: { type: Array },\n  };\n\n  constructor() {\n    super();\n\n    this.value = '';\n    this.suggestionsType = 'dropdown';\n    this.compact = false;\n    this.toggler = false;\n    this._suggestions = null;\n    this._clickOutside = this._clickOutside.bind(this);\n    this._search = debounce(this._search, 500);\n    this._unwatchRouter = null;\n  }\n\n  _setValue(value) {\n    this.value = value.trim();\n    this.dispatchEvent(new CustomEvent('update', {\n      detail: this.value\n    }));\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.addEventListener('click', this._clickOutside, false);\n    this._unwatchRouter = router.observe(() => this._reset());\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    document.removeEventListener('click', this._clickOutside, false);\n    this._unwatchRouter();\n  }\n\n  _reset() {\n    if (this.value) {\n      this._setValue('');\n      this._suggestions = null;\n      this.dispatchEvent(new CustomEvent('reset'));\n    }\n  }\n\n  _clickOutside(event) {\n    if (!this.shadowRoot.contains(event.target)) {\n      this._suggestions = null;\n    }\n  }\n\n  async _search() {\n    if (!this.value) {\n      this._suggestions = null;\n      return;\n    }\n\n    const results = await content('page').search(locale(), this.value, {\n      prefix: true\n    });\n    const suggestions = results.reduce((groups, result) => {\n      const category = result.doc.categories[0];\n\n      if (!groups.has(category)) {\n        groups.set(category, []);\n      }\n\n      groups.get(category).push(result);\n      return groups;\n    }, new Map());\n\n    this._suggestions = Array.from(suggestions);\n  }\n\n  _updateValue(event) {\n    this._setValue(event.target.value);\n    this._search();\n  }\n\n  _emitIconClick() {\n    this.dispatchEvent(new CustomEvent('click-icon'));\n  }\n\n  render() {\n    return html`\n      <div class=\"search-form ${this.compact ? 'compact' : ''}\">\n        <label class=\"input\">\n          <div class=\"icon\" @click=\"${this._emitIconClick}\">\n            ${this.compact || !this.toggler ? ICON_SEARCH : ICON_ARROW}\n          </div>\n\n          <input\n            autocomplete=\"off\"\n            autocorrect=\"off\"\n            placeholder=\"${t('search.placeholder')}\"\n            .value=\"${this.value}\"\n            @input=\"${this._updateValue}\"\n          >\n        </label>\n        ${renderSuggestions(this._suggestions, this.suggestionsType)}\n      </div>\n    `;\n  }\n}\n\nQuickSearch.styles = [\n  gridCss,\n  css`\n    :host {\n      display: block;\n    }\n\n    .search-form {\n      position: relative;\n      border-radius: inherit;\n      height: 100%;\n    }\n\n    .input {\n      display: block;\n      padding: 1px 6px;\n      color: #273849;\n      transition: border-color 1s;\n      white-space: nowrap;\n      background: #fff;\n      height: 100%;\n      border-radius: inherit;\n    }\n\n    svg {\n      width: 16px;\n      height: 16px;\n    }\n\n    .icon {\n      line-height: 0.7;\n      cursor: pointer;\n    }\n\n    .icon,\n    input {\n      display: inline-block;\n      vertical-align: middle;\n    }\n\n    .input path {\n      fill: #e3e3e3;\n    }\n\n    input {\n      height: 100%;\n      font-size: 0.9rem;\n      box-sizing: border-box;\n      outline: none;\n      width: calc(100% - 20px);\n      margin-left: 5px;\n      border: 0;\n      background-color: transparent;\n    }\n\n    .suggestions {\n      position: absolute;\n      left: 8px;\n      z-index: 1000;\n      top: 120%;\n      background: #fff;\n      padding: 5px;\n      overflow-y: auto;\n    }\n\n    .suggestions.dropdown {\n      border-radius: 4px;\n      border: 1px solid #e3e3e3;\n      width: 500px;\n      max-height: 500px;\n    }\n\n    .suggestions.page {\n      left: -10px;\n      width: 101%;\n      height: calc(100vh - 50px);\n      border: 0;\n      border-radius: 0;\n    }\n\n    input:focus {\n      outline: transparent;\n    }\n\n    h5 {\n      margin: 0;\n      padding: 5px 10px;\n      background-color: #1b1f23;\n      color: #fff;\n    }\n\n    app-link {\n      display: block;\n      padding: 5px;\n      font-size: 0.9rem;\n      border-bottom: 0;\n    }\n\n    app-link:hover {\n      background: #eee;\n    }\n\n    .title {\n      flex-basis: 40%;\n      max-width: 40%;\n      border-right: 1px solid #e3e3e3;\n    }\n\n    .item {\n      border-bottom: 1px solid #e3e3e3;\n    }\n\n    mark {\n      font-weight: bold;\n      background: transparent;\n    }\n\n    .compact .input {\n      border-color: transparent;\n      background: transparent;\n    }\n\n    .compact input {\n      display: none;\n    }\n\n    .compact .input path {\n      fill: #1b1f23;\n    }\n  `\n];\n","import { html, LitElement } from 'lit-element';\nimport router from '../services/router';\n\nexport default class LangPicker extends LitElement {\n  static cName = 'app-lang-picker';\n\n  render() {\n    return html`\n      <select @change=\"${this._changeLang}\">\n        <option value=\"ru\">ru</option>\n        <option value=\"uk\">uk</option>\n      </select>\n    `;\n  }\n\n  _changeLang(event) {\n    const lang = event.target.value;\n    const current = router.current().response;\n\n    router.navigate({\n      url: router.url({\n        name: current.name,\n        params: { ...current.params, lang },\n        query: current.location.query,\n        hash: current.location.hash,\n      })\n    });\n  }\n}\n","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\nimport liqpayIcon from '../assets/payment-options/liqpay.svg';\nimport liqpayQrCode from '../assets/payment-options/liqpay-qrcode.png';\n\nconst PAYMENT_OPTIONS = {\n  liqpay: {\n    icon: liqpayIcon,\n    image: liqpayQrCode\n  }\n};\nconst PAYMENT_NAMES = Object.keys(PAYMENT_OPTIONS);\n\nfunction renderPaymentOption(name) {\n  const option = PAYMENT_OPTIONS[name];\n\n  if (!option) {\n    console.warn(`Cannot find configuration for ${name} payment option`);\n    return null;\n  }\n\n  let content;\n\n  if (option.image) {\n    content = html`<img src=\"${option.image}\">`;\n  }\n\n  return html`<div class=\"selected\">${content}</div>`;\n}\n\nexport default class OneTimeDonations extends LitElement {\n  static cName = 'one-time-donations';\n  static properties = {\n    selected: { type: String }\n  };\n\n  constructor() {\n    super();\n    this.selected = '';\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (PAYMENT_NAMES.length === 1) {\n      this.selected = PAYMENT_NAMES[0];\n    }\n  }\n\n  _setSelected({ target }) {\n    if (target.tagName !== 'IMG') {\n      this.selected = '';\n      return;\n    }\n\n    this.selected = target.getAttribute('data-name');\n  }\n\n  render() {\n    return html`\n      <div class=\"options\" @click=${this._setSelected}>\n        ${PAYMENT_NAMES.map(name => html`\n          <img src=\"${PAYMENT_OPTIONS[name].icon}\" alt=\"${t(`payment.${name}`)}\" data-name=\"${name}\">\n        `)}\n      </div>\n      ${this.selected ? renderPaymentOption(this.selected) : ''}\n    `;\n  }\n}\n\nOneTimeDonations.styles = css`\n  .options {\n    margin: 20px 0;\n  }\n\n  .options img {\n    margin: 10px;\n    cursor: pointer\n  }\n\n  .selected {\n    text-align: center;\n  }\n`;\n","export default \"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%22107px%22%20height%3D%2222px%22%20viewBox%3D%220%200%20107%2022%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%20%20%20%20%3Ctitle%3EF598AEA9-571B-4BDB-8FEC-38F074CC2EC6%3C%2Ftitle%3E%20%20%20%20%3Cdesc%3ECreated%20with%20sketchtool.%3C%2Fdesc%3E%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%20%20%20%20%3Cg%20id%3D%22Personal%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Site_Personal-Copy%22%20transform%3D%22translate%28-60.000000%2C%20-12.000000%29%22%20fill%3D%22%237AB72B%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Header%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22logo_liqpay%22%20transform%3D%22translate%2860.000000%2C%2012.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Shape%22%20points%3D%2286.9547861%201.77262293%2094.3504229%2010.3403775%2086.9547861%2018.9094274%2089.0061259%2020.6791964%2097.9295835%2010.3403775%2089.0061259%200.000910899696%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpolygon%20id%3D%22Shape%22%20points%3D%2295.9493035%201.77262293%20103.344617%2010.3403775%2095.9493035%2018.9094274%2097.9999958%2020.6791964%20106.923777%2010.3403775%2097.9999958%200.000910899696%22%3E%3C%2Fpolygon%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.24568572%2C18.2702718%20C9.24568572%2C18.4533859%209.23654857%2C18.6068499%209.21827428%2C18.7303379%20C9.19967369%2C18.8541517%209.16997797%2C18.9593934%209.12886088%2C19.0463889%20C9.08741743%2C19.1337102%209.03716313%2C19.1975721%208.97744546%2C19.2386262%20C8.91772771%2C19.280006%208.8469149%2C19.300533%208.76435437%2C19.300533%20L0.894994994%2C19.300533%20C0.68386186%2C19.300533%200.484476477%2C19.2298288%200.296512512%2C19.0877688%20C0.108222222%2C18.9457087%200.0142402401%2C18.6961261%200.0142402401%2C18.339021%20L0.0142402401%2C1.88286186%20C0.0142402401%2C1.80955105%200.0325145146%2C1.74536336%200.0693893895%2C1.69062462%20C0.105937938%2C1.63556006%200.170224224%2C1.59222523%200.261921922%2C1.55996847%20C0.353619619%2C1.52803754%200.477297297%2C1.50066817%200.633281284%2C1.47753454%20C0.789265269%2C1.45505255%200.977229228%2C1.44332282%201.1974995%2C1.44332282%20C1.42658058%2C1.44332282%201.61682883%2C1.45505255%201.76824425%2C1.47753454%20C1.91965966%2C1.50066817%202.04105306%2C1.52803754%202.13307708%2C1.55996847%20C2.22444845%2C1.59222523%202.28906106%2C1.63556006%202.32560961%2C1.69062462%20C2.36215816%2C1.74568919%202.38075876%2C1.80955105%202.38075876%2C1.88286186%20L2.38075876%2C17.254021%20L8.76435437%2C17.254021%20C8.8469149%2C17.254021%208.91772771%2C17.274548%208.97744546%2C17.3159279%20C9.03683683%2C17.3573078%209.08741743%2C17.4166081%209.12886088%2C17.4941546%20C9.17030434%2C17.5720271%209.19999999%2C17.674988%209.21827428%2C17.8033634%20C9.23654857%2C17.9317387%209.24568572%2C18.0871576%209.24568572%2C18.2702718%20L9.24568572%2C18.2702718%20L9.24568572%2C18.2702718%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14.2257518%2C18.9434279%20C14.2257518%2C19.0170646%2014.2071512%2C19.0809264%2014.1706026%2C19.1356651%20C14.1337277%2C19.1907297%2014.0694415%2C19.2340646%2013.9780701%2C19.2663214%20C13.886046%2C19.2985781%2013.764979%2C19.3256216%2013.6132373%2C19.3487553%20C13.4618218%2C19.3712372%2013.2715735%2C19.3829669%2013.0424925%2C19.3829669%20C12.8222222%2C19.3829669%2012.6339319%2C19.3712372%2012.4782743%2C19.3487553%20C12.3222903%2C19.3256216%2012.1986126%2C19.2982522%2012.1069149%2C19.2663214%20C12.0152172%2C19.2340646%2011.950931%2C19.1907297%2011.9143824%2C19.1356651%20C11.8775075%2C19.0806006%2011.8592332%2C19.0170646%2011.8592332%2C18.9434279%20L11.8592332%2C1.88286186%20C11.8592332%2C1.80955105%2011.8797918%2C1.74536336%2011.9212352%2C1.69062462%20C11.9626787%2C1.63556006%2012.0312072%2C1.59222523%2012.1274735%2C1.55996847%20C12.2237397%2C1.52803754%2012.3477437%2C1.50066817%2012.4988328%2C1.47753454%20C12.6502483%2C1.45505255%2012.8310331%2C1.44332282%2013.0424925%2C1.44332282%20C13.2715735%2C1.44332282%2013.4618218%2C1.45505255%2013.6132373%2C1.47753454%20C13.7646526%2C1.50066817%2013.886046%2C1.52803754%2013.9780701%2C1.55996847%20C14.0694415%2C1.59222523%2014.1340541%2C1.63556006%2014.1706026%2C1.69062462%20C14.2071512%2C1.74568919%2014.2257518%2C1.80955105%2014.2257518%2C1.88286186%20L14.2257518%2C18.9434279%20L14.2257518%2C18.9434279%20L14.2257518%2C18.9434279%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M36.0592673%2C20.8664519%20C36.0592673%2C21.0769354%2036.0478459%2C21.2532072%2036.025003%2C21.3949414%20C36.0018338%2C21.5370015%2035.9675696%2C21.6468048%2035.9218839%2C21.7246772%20C35.8758718%2C21.8022237%2035.8256176%2C21.8553334%2035.7704684%2C21.8827027%20C35.7153194%2C21.9100721%2035.6601702%2C21.9240826%2035.6053474%2C21.9240826%20C35.4219519%2C21.9240826%2035.1259739%2C21.848491%2034.7180661%2C21.6976336%20C34.3101582%2C21.5467763%2033.8399219%2C21.326518%2033.30801%2C21.038488%20C32.7760981%2C20.7498063%2032.2073113%2C20.3995435%2031.601976%2C19.9873738%20C30.9966406%2C19.5752042%2030.4095796%2C19.0946111%2029.8411191%2C18.5449429%20C29.3917678%2C18.8196141%2028.822981%2C19.0577928%2028.1350851%2C19.2591531%20C27.4471892%2C19.4605135%2026.6493213%2C19.5615195%2025.7411552%2C19.5615195%20C24.4019119%2C19.5615195%2023.2441061%2C19.3643949%2022.2674114%2C18.9707973%20C21.2907167%2C18.5771997%2020.4833854%2C18.0001622%2019.8460701%2C17.2400105%20C19.2084285%2C16.4798588%2018.73395%2C15.5346382%2018.421982%2C14.4036967%20C18.110014%2C13.2727553%2017.9543563%2C11.9746651%2017.9543563%2C10.5094265%20C17.9543563%2C9.09925229%2018.1240461%2C7.82396997%2018.4634254%2C6.6839054%20C18.8028048%2C5.54384084%2019.3118739%2C4.57320571%2019.9906327%2C3.77167418%20C20.6693914%2C2.97046846%2021.5178398%2C2.35237688%2022.5356516%2C1.9173994%20C23.5537898%2C1.48242192%2024.7412913%2C1.26477027%2026.0988088%2C1.26477027%20C27.3734395%2C1.26477027%2028.495023%2C1.46189489%2029.4625806%2C1.85549249%20C30.4301382%2C2.24941592%2031.2417117%2C2.82417268%2031.8976276%2C3.57943694%20C32.5532172%2C4.33502703%2033.0462963%2C5.26688889%2033.3765385%2C6.37469669%20C33.7067808%2C7.48283033%2033.8719019%2C8.7558318%2033.8719019%2C10.1933754%20C33.8719019%2C10.9352808%2033.8281742%2C11.6449294%2033.7410451%2C12.3226472%20C33.6539159%2C13.0006907%2033.5162062%2C13.6415901%2033.3285686%2C14.245997%20C33.1402783%2C14.8504039%2032.904018%2C15.4088694%2032.6201141%2C15.9217192%20C32.3355576%2C16.4348949%2032.0007467%2C16.896916%2031.6156817%2C17.3090856%20C32.284977%2C17.8584279%2032.872038%2C18.2868889%2033.3765385%2C18.593491%20C33.8807127%2C18.9004189%2034.2984104%2C19.1317552%2034.6283263%2C19.2871742%20C34.9585686%2C19.442919%2035.215061%2C19.555003%2035.3987828%2C19.6234265%20C35.5818518%2C19.6921757%2035.7195616%2C19.770048%2035.8115856%2C19.8570436%20C35.902957%2C19.9437132%2035.9675696%2C20.067527%2036.0041181%2C20.2278334%20C36.0406667%2C20.3878138%2036.0592673%2C20.6009039%2036.0592673%2C20.8664519%20L36.0592673%2C20.8664519%20L36.0592673%2C20.8664519%20Z%20M31.3817057%2C10.3582433%20C31.3817057%2C9.35078979%2031.2922923%2C8.41697296%2031.1134655%2C7.55581531%20C30.9346386%2C6.69498349%2030.6363764%2C5.94656156%2030.219005%2C5.3098979%20C29.8016336%2C4.67356006%2029.2442683%2C4.17667568%2028.5475616%2C3.81957057%20C27.8505285%2C3.46246547%2026.9883744%2C3.28391292%2025.9610991%2C3.28391292%20C24.9338238%2C3.28391292%2024.0716697%2C3.47386937%2023.3746366%2C3.85410811%20C22.6776036%2C4.23434685%2022.1111011%2C4.74687087%2021.6754555%2C5.39265766%20C21.2398098%2C6.03811862%2020.9278418%2C6.78686637%2020.7398779%2C7.63857508%20C20.5519139%2C8.49028381%2020.4576056%2C9.39216967%2020.4576056%2C10.3448844%20C20.4576056%2C11.3888304%2020.5447347%2C12.3480616%2020.718993%2C13.2225781%20C20.8932512%2C14.0970946%2021.1866186%2C14.8552913%2021.5994214%2C15.4961907%20C22.0122242%2C16.1374159%2022.5646947%2C16.6343003%2023.2571591%2C16.986518%20C23.9496237%2C17.3390615%2024.8186306%2C17.5153334%2025.8641802%2C17.5153334%20C26.9005926%2C17.5153334%2027.7718839%2C17.3230961%2028.4780541%2C16.9386216%20C29.1842242%2C16.5541471%2029.7526847%2C16.034455%2030.1840881%2C15.3795451%20C30.6151652%2C14.724961%2030.9222382%2C13.9644835%2031.1059599%2C13.0994159%20C31.290008%2C12.2333708%2031.3817057%2C11.3197553%2031.3817057%2C10.3582433%20L31.3817057%2C10.3582433%20L31.3817057%2C10.3582433%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M48.8538698%2C6.7318018%20C48.8538698%2C7.62032883%2048.7070231%2C8.42153453%2048.4136556%2C9.13574474%20C48.1199619%2C9.85028075%2047.7006326%2C10.4592492%2047.155015%2C10.9626502%20C46.6093974%2C11.4663769%2045.9394495%2C11.8554129%2045.1461501%2C12.1300841%20C44.3528509%2C12.4047552%2043.4058519%2C12.5422538%2042.3054795%2C12.5422538%20L40.2829089%2C12.5422538%20L40.2829089%2C18.9434279%20C40.2829089%2C19.0170646%2040.2623504%2C19.0809264%2040.2209069%2C19.1356651%20C40.1794634%2C19.1907297%2040.1155035%2C19.2340646%2040.0283744%2C19.2663214%20C39.9412453%2C19.2985781%2039.8221362%2C19.3256216%2039.6707207%2C19.3487553%20C39.5193053%2C19.3712372%2039.3290571%2C19.3829669%2039.099976%2C19.3829669%20C38.8705686%2C19.3829669%2038.6803203%2C19.3712372%2038.5289049%2C19.3487553%20C38.3774895%2C19.3256216%2038.2557697%2C19.2982522%2038.1640721%2C19.2663214%20C38.0723744%2C19.2340646%2038.0080881%2C19.1907297%2037.9715396%2C19.1356651%20C37.9346647%2C19.0806006%2037.9163904%2C19.0170646%2037.9163904%2C18.9434279%20L37.9163904%2C2.54200751%20C37.9163904%2C2.17577928%2038.0126566%2C1.91479279%2038.2051892%2C1.75904805%20C38.3977217%2C1.6033033%2038.6130971%2C1.52543093%2038.8519679%2C1.52543093%20L42.6628068%2C1.52543093%20C43.0481982%2C1.52543093%2043.4172733%2C1.54139639%2043.7703584%2C1.57365315%20C44.1234435%2C1.60590991%2044.5404885%2C1.67433333%2045.0221461%2C1.77957507%20C45.5034775%2C1.88514264%2045.9942723%2C2.08194144%2046.4942042%2C2.3702973%20C46.9938098%2C2.65865315%2047.4180341%2C3.01380331%2047.7668769%2C3.43477027%20C48.1153934%2C3.85606306%2048.3836336%2C4.34382432%2048.5715976%2C4.89772823%20C48.7595616%2C5.45228378%2048.8538698%2C6.06353303%2048.8538698%2C6.7318018%20L48.8538698%2C6.7318018%20L48.8538698%2C6.7318018%20Z%20M46.3636737%2C6.92403904%20C46.3636737%2C6.20070571%2046.2282483%2C5.5962988%2045.9577237%2C5.11049249%20C45.6871992%2C4.62533784%2045.3523884%2C4.26367117%2044.9532913%2C4.02549249%20C44.5545205%2C3.78731381%2044.1417177%2C3.63645646%2043.7152092%2C3.57226877%20C43.2887007%2C3.50840691%2042.8736136%2C3.47615015%2042.469948%2C3.47615015%20L40.2825826%2C3.47615015%20L40.2825826%2C10.6052192%20L42.4151251%2C10.6052192%20C43.1307588%2C10.6052192%2043.7243464%2C10.513988%2044.1968669%2C10.3305481%20C44.6690611%2C10.1477598%2045.0658739%2C9.89361563%2045.386979%2C9.56811561%20C45.7080841%2C9.24326726%2045.9508708%2C8.8539054%2046.1163183%2C8.40068168%20C46.2811131%2C7.94745795%2046.3636737%2C7.45513513%2046.3636737%2C6.92403904%20L46.3636737%2C6.92403904%20L46.3636737%2C6.92403904%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M65.8029329%2C18.4628348%20C65.87603%2C18.664521%2065.9151892%2C18.8267823%2065.9197578%2C18.9505961%20C65.924%2C19.0744099%2065.8897357%2C19.1682478%2065.8166386%2C19.2324354%20C65.7432153%2C19.2962973%2065.6218218%2C19.3373513%2065.4521321%2C19.3559234%20C65.2821161%2C19.3741697%2065.0553193%2C19.3836186%2064.7710891%2C19.3836186%20C64.4868588%2C19.3836186%2064.2597357%2C19.3767762%2064.090046%2C19.3630916%20C63.9203564%2C19.3494069%2063.7917838%2C19.3262733%2063.704981%2C19.2943423%20C63.6175255%2C19.2624114%2063.5535656%2C19.2187508%2063.5124484%2C19.164012%20C63.471005%2C19.1089475%2063.4321722%2C19.0401982%2063.3956237%2C18.9580901%20L61.8684164%2C14.6311231%20L54.4666827%2C14.6311231%20L53.0083303%2C18.9030256%20C52.9805926%2C18.9854595%2052.9440441%2C19.0568153%2052.898032%2C19.1157898%20C52.85202%2C19.1754159%2052.7857758%2C19.2259189%2052.6986467%2C19.2669729%20C52.6115176%2C19.308027%2052.4875135%2C19.3376772%2052.3272873%2C19.3562493%20C52.1667347%2C19.3744955%2051.9578859%2C19.3839445%2051.7013934%2C19.3839445%20C51.4354375%2C19.3839445%2051.2174514%2C19.3722147%2051.0480881%2C19.3497327%20C50.8783984%2C19.3265991%2050.7592893%2C19.2832643%2050.6904344%2C19.2190766%20C50.6219059%2C19.1552147%2050.5892733%2C19.061051%2050.5941682%2C18.9375631%20C50.5987367%2C18.8137492%2050.6375695%2C18.6511622%2050.710993%2C18.4498018%20L56.6817858%2C1.93857808%20C56.7183344%2C1.8378979%2056.7666306%2C1.75546396%2056.826022%2C1.69127628%20C56.8854134%2C1.62708859%2056.9728689%2C1.57658558%2057.0874094%2C1.54009309%20C57.2019499%2C1.5036006%2057.3487968%2C1.47818619%2057.5276236%2C1.4645015%20C57.7061241%2C1.45081682%2057.9335736%2C1.44397448%2058.2086667%2C1.44397448%20C58.5020341%2C1.44397448%2058.7451472%2C1.45081682%2058.938006%2C1.4645015%20C59.1305386%2C1.47818619%2059.2865225%2C1.5036006%2059.4056316%2C1.54009309%20C59.5247407%2C1.57691141%2059.6164384%2C1.62936937%2059.6807247%2C1.69811862%20C59.7446847%2C1.76686787%2059.7952653%2C1.85158258%2059.8321402%2C1.95226276%20L65.8029329%2C18.4628348%20L65.8029329%2C18.4628348%20L65.8029329%2C18.4628348%20Z%20M58.1398118%2C3.88831982%20L58.1261061%2C3.88831982%20L55.0583123%2C12.7481757%20L61.2490491%2C12.7481757%20L58.1398118%2C3.88831982%20L58.1398118%2C3.88831982%20L58.1398118%2C3.88831982%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M74.4424224%2C12.3910706%20L74.4424224%2C18.9431021%20C74.4424224%2C19.0167388%2074.4241481%2C19.0806006%2074.3875996%2C19.1353393%20C74.351051%2C19.1904039%2074.2870911%2C19.2337387%2074.1960461%2C19.2659955%20C74.105001%2C19.2982522%2073.9816497%2C19.3252958%2073.8266446%2C19.3484295%20C73.6716396%2C19.3709114%2073.4846547%2C19.3826411%2073.266016%2C19.3826411%20C73.0379139%2C19.3826411%2072.8489709%2C19.3709114%2072.6982082%2C19.3484295%20C72.5477718%2C19.3252958%2072.4244204%2C19.2979264%2072.3288068%2C19.2659955%20C72.2328668%2C19.2337387%2072.166949%2C19.1904039%2072.1304004%2C19.1353393%20C72.0938519%2C19.0802747%2072.0759039%2C19.0167388%2072.0759039%2C18.9431021%20L72.0759039%2C12.3910706%20L67.0406887%2C2.36345496%20C66.9395275%2C2.15297147%2066.8775255%2C1.98810361%2066.855009%2C1.86885135%20C66.8318399%2C1.74992492%2066.855009%2C1.65836787%2066.9238638%2C1.59418018%20C66.9923924%2C1.53031832%2067.1163964%2C1.48926426%2067.2952232%2C1.4706922%20C67.4740501%2C1.45244595%2067.7145525%2C1.442997%2068.0173834%2C1.442997%20C68.2924765%2C1.442997%2068.5147047%2C1.45244595%2068.6847207%2C1.4706922%20C68.8544104%2C1.48926426%2068.9895095%2C1.51435285%2069.0906706%2C1.54628379%20C69.1915055%2C1.57854054%2069.2672132%2C1.62415616%2069.3174674%2C1.68378228%20C69.368048%2C1.7434084%2069.416018%2C1.819%2069.46203%2C1.91023123%20L71.9244885%2C7.02015766%20C72.1529169%2C7.50563814%2072.3813453%2C8.01392643%2072.6091212%2C8.54502253%20C72.8368969%2C9.07611859%2073.0695676%2C9.61177629%2073.3068068%2C10.1519955%20L73.3342182%2C10.1519955%20C73.5437198%2C9.63002255%2073.7600741%2C9.11065613%2073.9839339%2C8.5929189%20C74.2071411%2C8.07583333%2074.4332853%2C7.56526426%2074.6623664%2C7.06153753%20L77.1385308%2C1.92424174%20C77.1662681%2C1.83268469%2077.2051011%2C1.75481231%2077.255682%2C1.69062462%20C77.305936%2C1.62676277%2077.3744646%2C1.57854054%2077.46192%2C1.54628379%20C77.5490494%2C1.51435285%2077.6704426%2C1.48926426%2077.8264267%2C1.4706922%20C77.9824108%2C1.45244595%2078.1795116%2C1.442997%2078.4180559%2C1.442997%20C78.7482979%2C1.442997%2079.0074014%2C1.45472673%2079.1953657%2C1.47720871%20C79.3833291%2C1.50034235%2079.5138597%2C1.54367718%2079.5876096%2C1.60786487%20C79.6613595%2C1.67205255%2079.68616%2C1.76360961%2079.6633171%2C1.88253604%20C79.6404743%2C2.00178829%2079.5784723%2C2.16176877%2079.4776374%2C2.36312913%20L74.4424224%2C12.3910706%20L74.4424224%2C12.3910706%20L74.4424224%2C12.3910706%20Z%22%20id%3D%22Shape%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAADkAQMAAAC2bMrzAAAABlBMVEX///8AAABVwtN+AAACK0lEQVRYw9XYMY7mIAyG4TeioOQIPgo3I8nNOApHoKSw8m1B5t+Z7VfrRSkiPWkibLANf21lSXqyAKemWTVxuyVJV1QdQAOoFFGU1N3uBVhcPTVaHkny0pO6UzWOZVrRVWmSZqV0qG73f6GaVVKSKJ3wCjSM0h300R9xFU13hg4v/ffzZ/4G03dZmtWLNPHS3a6fB2IwzdKi5QHV2cHTsYc3ckIqtDyOZQCgWZ2KPXBq8M806/OdU730JEHD7sA69pu+zuc0q8axOPY9GFGxBxposg86L3IOacdGSM26NYA0a5o1qXuRdMfWcWicC0rfYeNFTmPnZUzFrjzIoojS9/WddC8adgXVrAt78tAE8NKdCg2Onb8RdZ+EEkVpsmvRNI5Fy7qiql15NEzqSX3/VNKD3YqrO0TMS6cIkHoap/TkvQsBNete9rwVnfYZ7jQssGIPHMso8tL19oNPHsTVrFujQZIAQOpuV5YWgXXZvcy3ld0PttAKx6LB3gJKp8g511eGRlW7spL6Lp69vBmKhVV7siSlWSlKklOxK+srQwNqHqfGoZHmuxEOaYfNV1f+DxQab2w4+x4Upk+XGlMBsnw3VrtPsevT8UXUPQ0AqFL30gHsfnMwqA6gQZpVu+aHpAu7vs8Yo+mp0QCql3e65Sbp+uRgUM3DYdf8aVbplt5dCKwCnOr77uaU7gVhFWhZSdLEQZLGuXvEqPpOET8T5jTx3Vt9mzHG0pDrFxd5veytOF4pAAAAAElFTkSuQmCC\"","import { LitElement, html, css } from 'lit-element';\nimport { t } from '../directives/i18n';\n\nexport default class PagesByCategories extends LitElement {\n  static cName = 'pages-by-categories';\n  static properties = {\n    items: { type: Object },\n    type: { type: String },\n    categories: { type: Array }\n  };\n\n  constructor() {\n    super();\n    this.items = null;\n    this.type = 'page';\n    this.categories = null;\n  }\n\n  render() {\n    const categories = this.categories || Object.keys(this.items);\n    return html`\n      <nav>\n        ${categories.map(category => html`\n          <h3>${t(`categories.${category}`)}</h3>\n          <ul>\n            ${this.items[category].map(page => html`\n              <li><app-link nav to=\"${this.type}\" .params=\"${page}\">${page.title}</app-link></li>\n            `)}\n          </ul>\n        `)}\n      </nav>\n    `;\n  }\n}\n\nPagesByCategories.styles = css`\n  :host {\n    display: block;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  nav > h3:first-child {\n    margin-top: 0;\n  }\n\n  li {\n    margin-top: 8px;\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { ut } from '../directives/i18n';\n\nexport default class AppNotification extends LitElement {\n  static cName = 'app-notification';\n  static properties = {\n    type: { type: String },\n    message: { type: String }\n  };\n\n  constructor() {\n    super();\n    this.type = 'info';\n    this.message = '';\n  }\n\n  render() {\n    return html`${ut(this.message)}`;\n  }\n}\n\nAppNotification.styles = css`\n  :host {\n    display: block;\n    background: rgb(29, 31, 33);\n    border-radius: 7px;\n    padding: 1rem;\n    color: #fff;\n    cursor: pointer;\n  }\n`;\n","let t=(t,s,i)=>(t.addEventListener(s,i,!1),()=>t.removeEventListener(s,i,!1));try{const s=Object.defineProperty({},\"passive\",{get:()=>(t=(t,s,i)=>(t.addEventListener(s,i,{passive:!0}),()=>t.removeEventListener(s,i,{passive:!0})),!0)});window.addEventListener(\"test\",null,s)}catch(t){}var s=(s,i,h)=>t(s,i,h);const i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||(t=>setTimeout(t,1e3/60));const h=window.document.documentElement,n=(()=>{const t=[\"Webkit\",\"Khtml\",\"Moz\",\"ms\",\"O\"];for(let s=0;s<t.length;s++)if(`${t[s]}Opacity`in h.style)return`-${t[s].toLowerCase()}-`;return\"\"})();function e(t,s,i){t.style[n+s]=i}const o=window.navigator.msPointerEnabled,r=window.document.documentElement,a={start:o?\"MSPointerDown\":\"touchstart\",move:o?\"MSPointerMove\":\"touchmove\",end:o?\"MSPointerUp\":\"touchend\",cancel:\"touchcancel\"},l={end:\"webkitTransitionEnd\"in r.style?\"webkitTransitionEnd\":\"transitionend\"},u=window.document,c=u.documentElement;let d=!1;class p{constructor(t={}){this.panel=t.panel,this.menu=t.menu,this.t=t.eventsEmitter||this.panel,this.s=0,this.i=0,this.h=!1,this.o=!1,this.l=!1,this.u=!1,this.p=void 0===t.touch||!!t.touch,this.m=t.side||\"left\",this.v=t.easing||\"ease\",this.$=parseInt(t.duration,10)||300,this.T=parseInt(t.tolerance,10)||70,this.M=parseInt(t.padding,10)||.8*window.innerWidth,this.g=this.M,this._=\"right\"===this.m?-1:1,this.g*=this._,this.O(),this.p&&(this.k(),this.p=\"manual\"!==this.p)}O(){const t=this.panel.classList,s=this.menu.classList;t.contains(\"slideout-panel\")||t.add(\"slideout-panel\"),t.contains(`slideout-panel-${this.m}`)||t.add(`slideout-panel-${this.m}`),s.contains(\"slideout-menu\")||s.add(\"slideout-menu\"),s.contains(`slideout-menu-${this.m}`)||s.add(`slideout-menu-${this.m}`)}I(t){return this.t.dispatchEvent(new window.CustomEvent(t)),this}on(t,s,i){return this.t.addEventListener(t,s,i),()=>this.t.removeEventListener(t,s,i)}open(){this.I(\"beforeopen\"),c.classList.contains(\"slideout-open\")||c.classList.add(\"slideout-open\"),this.P(),this.S(this.g),this.l=!0;const t=this;return this.panel.addEventListener(l.end,(function s(){t.panel.removeEventListener(l.end,s),e(t.panel,\"transition\",\"\"),t.I(\"open\")})),this}close(){if(!this.isOpen()&&!this.h)return this;this.I(\"beforeclose\"),this.P(),this.S(0),this.l=!1;const t=this;return this.panel.addEventListener(l.end,(function s(){t.panel.removeEventListener(l.end,s),c.classList.remove(\"slideout-open\"),e(t.panel,\"transition\",\"\"),e(t.panel,\"transform\",\"\"),t.I(\"close\")})),this}toggle(){return this.isOpen()?this.close():this.open()}isOpen(){return this.l}S(t){this.i=t,e(this.panel,\"transform\",`translateX(${t}px)`)}P(){e(this.panel,\"transition\",`${n}transform ${this.$}ms ${this.v}`)}k(){const t=()=>{d=!1};let h;this.X=function(t,h,n){let e,o=!1;const r=()=>{n.call(t,e),o=!1};return s(t,h,t=>{e=t,o||(i(r),o=!0)})}(u,\"scroll\",()=>{this.o||(clearTimeout(h),d=!0,h=setTimeout(t,250))}),this.C=s(this.panel,a.start,t=>{void 0!==t.touches&&(this.o=!1,this.h=!1,this.s=t.touches[0].pageX,this.u=!this.p||!this.isOpen()&&0!==this.menu.clientWidth)}),this.j=s(this.panel,a.cancel,()=>{this.o=!1,this.h=!1}),this.D=s(this.panel,a.end,()=>{if(this.o)if(this.I(\"translateend\"),this.h&&Math.abs(this.i)>this.T)this.open();else if(this.g-Math.abs(this.i)<=this.T/2){this.P(),this.S(this.g);const t=this;this.panel.addEventListener(l.end,(function s(){this.panel.removeEventListener(l.end,s),e(t.panel,\"transition\",\"\")}))}else this.close();this.o=!1}),this.K=s(this.panel,a.move,t=>{if(d||this.u||void 0===t.touches||function(t){let s=t;for(;s.parentNode;){if(null!==s.getAttribute(\"data-slideout-ignore\"))return s;s=s.parentNode}return null}(t.target))return;const s=t.touches[0].clientX-this.s;let i=s;if(this.i=s,Math.abs(i)>this.M||Math.abs(s)<=20)return;this.h=!0;const h=s*this._;this.l&&h>0||!this.l&&h<0||(this.o||this.I(\"translatestart\"),h<=0&&(i=s+this.M*this._,this.h=!1),this.o&&c.classList.contains(\"slideout-open\")||c.classList.add(\"slideout-open\"),e(this.panel,\"transform\",`translateX(${i}px)`),this.I(\"translate\",i),this.o=!0)})}enableTouch(){return this.p=!0,this}disableTouch(){return this.p=!1,this}destroy(){this.close(),this.C(),this.j(),this.D(),this.K(),this.X()}}export{p as Slideout};\n//# sourceMappingURL=index.js.map\n","import { LitElement, html, css } from 'lit-element';\nimport { Slideout } from 'menu-drawer.js';\n\nexport default class MenuDrawer extends LitElement {\n  static cName = 'menu-drawer';\n  static properties = {\n    isOpen: { type: Boolean },\n    disabled: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this._drawer = null;\n    this.isOpen = false;\n    this.disabled = false;\n    this._scrollTop = 0;\n  }\n\n  open() {\n    this.isOpen = true;\n  }\n\n  close() {\n    this.isOpen = false;\n  }\n\n  toggle() {\n    this.isOpen = !this.isOpen;\n  }\n\n  _createDrawer() {\n    const [menu, panel] = this.shadowRoot.children;\n    this._drawer = new Slideout({\n      menu,\n      panel,\n      eventsEmitter: this,\n      padding: 270,\n      touch: false,\n    });\n    const close = () => this._drawer.close();\n    this._drawer.on('beforeopen', () => {\n      this.isOpen = true;\n      this._scrollTop = window.pageYOffset;\n      menu.classList.add('open');\n      panel.style.top = `${-this._scrollTop}px`;\n      panel.addEventListener('mousedown', close, false);\n      panel.addEventListener('touchstart', close, false);\n      window.scroll(0, 0);\n    });\n    this._drawer.on('close', () => {\n      this.isOpen = false;\n      menu.classList.remove('open');\n      panel.style.top = '';\n      window.scroll(0, this._scrollTop);\n      panel.removeEventListener('mousedown', close, false);\n      panel.removeEventListener('touchstart', close, false);\n    });\n  }\n\n  updated(changed) {\n    if (!this._drawer) {\n      this._createDrawer();\n    }\n\n    if (this.isOpen !== this._drawer.isOpen()) {\n      const toggle = this.isOpen ? 'open' : 'close';\n      this._drawer[toggle]();\n    }\n\n    if (changed.has('disabled')) {\n      const switchEnable = this.disabled ? 'disableTouch' : 'enableTouch';\n      this._drawer[switchEnable]();\n    }\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._drawer.destroy();\n    this._drawer = null;\n  }\n\n  render() {\n    return html`\n      <div class=\"menu\">\n        <slot name=\"menu\"></slot>\n      </div>\n      <div class=\"panel\">\n        <slot></slot>\n      </div>\n    `;\n  }\n}\n\nMenuDrawer.styles = css`\n  :host {\n    display: block;\n  }\n\n  .menu {\n    display: none;\n    padding: 10px;\n    width: 256px;\n    min-height: 100vh;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .panel {\n    position: relative;\n    z-index: 10;\n    will-change: transform;\n    min-height: 100vh;\n    background: #fff;\n  }\n\n  .panel::before {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 6000;\n    background-color: transparent;\n    transition: background-color .2s ease-in-out;\n  }\n\n  .menu.open {\n    display: block;\n  }\n\n  .menu.open + .panel {\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 0;\n    overflow: hidden;\n    min-height: 100%;\n    z-index: 10;\n    box-shadow: 0 0 20px rgba(0,0,0,.5);\n  }\n\n  .menu.open + .panel::before {\n    content: '';\n    background-color: rgba(0, 0, 0, .5);\n  }\n`;\n","import { fetch } from './http';\n\nexport function getCurrentVersion() {\n  return process.env.CASL_VERSION || null;\n}\n\nexport async function fetchVersions() {\n  const response = await fetch('/versions.txt', { format: 'txtArrayJSON', cache: true });\n  return response.body;\n}\n","import { LitElement, html, css } from 'lit-element';\nimport { getCurrentVersion, fetchVersions } from '../services/version';\n\nexport default class VersionsSelect extends LitElement {\n  static cName = 'versions-select';\n\n  constructor() {\n    super();\n\n    this._versions = [];\n    this._currentVersion = getCurrentVersion();\n\n    if (this._currentVersion) {\n      this._versions.push({ number: this._currentVersion });\n    }\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n    const versions = await fetchVersions();\n    this._versions = versions.slice(0).reverse();\n    this.requestUpdate();\n  }\n\n  render() {\n    return html`\n      <select @change=${this._updateVersion}>\n        ${this._versions.map(version => html`\n          <option .selected=${version.number === this._currentVersion}>${version.number}</option>\n        `)}\n      </select>\n    `;\n  }\n\n  _updateVersion(event) {\n    const selectedVersion = event.target.value;\n    window.location.href = window.location.href\n      .replace(`/${this._currentVersion}/`, `/${selectedVersion}/`);\n  }\n}\n\nVersionsSelect.styles = css`\n  :host {\n    display: inline-block;\n  }\n\n  select {\n    display: block;\n    font-size: 16px;\n    font-weight: 700;\n    color: rgb(68, 68, 68);\n    line-height: 1.3;\n    padding-left: 0.5em;\n    padding-right: 1.1em;\n    box-sizing: border-box;\n    margin: 0;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    appearance: none;\n    background-color: transparent;\n    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23444444%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');\n    background-repeat: no-repeat;\n    /* arrow icon position (1em from the right, 50% vertical) , then gradient position*/\n    background-position: right .5em top 50%;\n    background-size: .5em auto;\n    border: 0;\n    cursor: pointer;\n  }\n\n  /* Hide arrow icon in IE browsers */\n  select::-ms-expand {\n    display: none;\n  }\n\n  select:focus {\n    outline: none;\n  }\n`;\n","import { LitElement, html, css } from 'lit-element';\nimport { getCurrentVersion, fetchVersions } from '../services/version';\nimport { ut } from '../directives/i18n';\nimport { alertCss, mdCss } from '../styles';\n\nexport default class OldVersionAlert extends LitElement {\n  static cName = 'old-version-alert';\n\n  constructor() {\n    super();\n    this._versions = [];\n    this._currentVersion = getCurrentVersion() || 'unknown';\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n    this._versions = await fetchVersions();\n    this.requestUpdate();\n  }\n\n  render() {\n    const latestVersion = this._versions[this._versions.length - 1];\n\n    if (!latestVersion || latestVersion.number === this._currentVersion) {\n      return html``;\n    }\n\n    return html`\n      <div class=\"alert alert-warning\">\n        ${ut('oldVersionAlert', {\n    latestVersion: latestVersion.number,\n    currentVersion: this._currentVersion,\n    latestVersionUrl: `/${latestVersion.number}`\n  })}\n      </div>\n    `;\n  }\n}\n\nOldVersionAlert.styles = [\n  mdCss,\n  alertCss,\n  css`\n    a {\n      color: inherit;\n    }\n  `\n];\n","import 'core-js/modules/web.immediate';\nimport App from './components/App';\nimport AppRoot from './components/AppRoot';\nimport AppFooter from './components/AppFooter';\nimport AppHeader from './components/AppHeader';\nimport AppLink from './components/AppLink';\nimport AppMenu from './components/AppMenu';\nimport ArticleDetails from './components/ArticleDetails';\nimport Page from './components/Page';\nimport PageNav from './components/PageNav';\nimport HomePage from './components/HomePage';\nimport GithubButton from './components/GithubButton';\nimport QuickSearch from './components/QuickSearch';\nimport LangPicker from './components/LangPicker';\nimport OneTimeDonations from './components/OneTimeDonations';\nimport PagesByCategories from './components/PagesByCategories';\nimport AppNotification from './components/AppNotification';\nimport MenuDrawer from './components/MenuDrawer';\nimport VersionsSelect from './components/VersionsSelect';\nimport OldVersionAlert from './components/OldVersionAlert';\nimport { locale, setLocale, defaultLocale } from './services/i18n';\nimport router from './services/router';\nimport { setRouteMeta } from './services/meta';\n\nconst components = [\n  App,\n  AppRoot,\n  AppFooter,\n  AppHeader,\n  AppLink,\n  AppMenu,\n  ArticleDetails,\n  Page,\n  HomePage,\n  PageNav,\n  QuickSearch,\n  LangPicker,\n  GithubButton,\n  PagesByCategories,\n  OneTimeDonations,\n  AppNotification,\n  MenuDrawer,\n  VersionsSelect,\n  OldVersionAlert,\n];\n\nexport function bootstrap(selector) {\n  const app = document.querySelector(selector);\n  components.forEach(c => customElements.define(c.cName, c));\n  router.observe(async (route) => {\n    const lang = route.response.params.lang || defaultLocale;\n\n    if (locale() !== lang) {\n      await setLocale(lang);\n      app.ready = true;\n    }\n\n    setRouteMeta(route);\n  });\n\n  return app;\n}\n","// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nimport { fetch } from './services/http';\n\nconst { navigator, location } = window;\nconst isLocalhost = location.hostname === 'localhost'\n  || location.hostname === '[::1]'\n  || location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);\nconst isSupportedServiceWorker = 'serviceWorker' in navigator;\n\nconst log = (...args) => console.log(...args); // eslint-disable-line no-console\n\nfunction notifyAboutNewWorker(worker, config) {\n  if (!worker) {\n    return;\n  }\n\n  worker.onstatechange = () => {\n    log('new worker state', worker.state);\n\n    if (worker.state !== 'installed') {\n      return;\n    }\n\n    if (navigator.serviceWorker.controller) {\n      log('New content is available and will be used when all '\n        + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.');\n\n      if (config && config.onUpdate) {\n        config.onUpdate(worker);\n      }\n    } else {\n      log('Content is cached for offline use.');\n\n      if (config && config.onSuccess) {\n        config.onSuccess(worker);\n      }\n    }\n  };\n}\n\nfunction registerValidSW(swUrl, config) {\n  let isRefreshing = false;\n\n  navigator.serviceWorker.addEventListener('controllerchange', () => {\n    if (!isRefreshing) {\n      isRefreshing = true;\n      location.reload();\n    }\n  });\n\n  return navigator.serviceWorker.register(swUrl)\n    .then((registration) => {\n      log('service worker is registered');\n      registration.onupdatefound = () => notifyAboutNewWorker(\n        registration.installing,\n        config\n      );\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  const headers = { 'Service-Worker': 'script' };\n  return fetch(swUrl, { headers, format: 'raw', absoluteUrl: true })\n    .then((response) => {\n      const contentType = response.headers['content-type'] || '';\n\n      if (response.status === 404 || contentType.indexOf('javascript') === -1) {\n        log('cannot detect service worker');\n        navigator.serviceWorker.ready\n          .then(registration => registration.unregister())\n          .then(() => location.reload());\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function register(config) {\n  if (!isSupportedServiceWorker) {\n    return;\n  }\n\n  window.addEventListener('load', () => {\n    const swUrl = `${process.env.BASE_URL}/sw.js`;\n\n    if (isLocalhost) {\n      checkValidServiceWorker(swUrl, config);\n    } else {\n      registerValidSW(swUrl, config);\n    }\n  });\n}\n\nexport function unregister() {\n  if (isSupportedServiceWorker) {\n    navigator.serviceWorker.ready\n      .then(registration => registration.unregister())\n      .catch(error => console.error(error.message));\n  }\n}\n","import { bootstrap } from './app';\nimport { register } from './serviceWorker';\n\nwindow.__isAppExecuted__ = true;\nconst app = bootstrap('casl-docs');\nregister({\n  onUpdate(worker) {\n    app.notify('updateAvailable', {\n      onClick() {\n        worker.postMessage({ type: 'SKIP_WAITING' });\n      }\n    });\n  }\n});\n"],"names":["check","it","Math","globalThis","window","self","global","Function","exec","error","fails","Object","defineProperty","get","nativePropertyIsEnumerable","propertyIsEnumerable","getOwnPropertyDescriptor","call","1","V","descriptor","this","enumerable","bitmap","value","configurable","writable","toString","slice","split","classof","IndexedObject","undefined","TypeError","requireObjectCoercible","input","PREFERRED_STRING","isObject","fn","val","valueOf","hasOwnProperty","key","document","EXISTS","createElement","DESCRIPTORS","a","nativeGetOwnPropertyDescriptor","O","P","toIndexedObject","toPrimitive","IE8_DOM_DEFINE","has","createPropertyDescriptor","propertyIsEnumerableModule","f","String","nativeDefineProperty","Attributes","anObject","object","definePropertyModule","createNonEnumerableProperty","setGlobal","functionToString","store","inspectSource","set","WeakMap","test","module","push","version","mode","copyright","id","postfix","random","keys","shared","NATIVE_WEAK_MAP","wmget","wmhas","wmset","metadata","STATE","uid","hiddenKeys","objectHas","defer","channel","port","enforce","getterFor","TYPE","state","type","getInternalState","InternalStateModule","enforceInternalState","TEMPLATE","options","unsafe","simple","noTargetGet","source","join","prototype","aFunction","variable","namespace","method","arguments","length","path","ceil","floor","argument","isNaN","min","max","createMethod","IS_INCLUDES","$this","el","fromIndex","toInteger","index","integer","toAbsoluteIndex","indexOf","includes","concat","getOwnPropertyNames","names","i","result","internalObjectKeys","getOwnPropertySymbols","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","target","ownKeys","getOwnPropertyDescriptorModule","replacement","isForced","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","require$$0","userAgent","location","setImmediate","clear","clearImmediate","process","MessageChannel","Dispatch","counter","queue","run","runner","listener","event","post","postMessage","protocol","host","args","apply","nextTick","now","IS_IOS","port2","port1","onmessage","that","b","c","bind","addEventListener","importScripts","html","appendChild","removeChild","setTimeout","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","forced","copyConstructorProperties","sham","redefine","$","task","isCEPolyfill","customElements","polyfillWrapFlushCallback","removeNodes","container","start","end","n","nextSibling","marker","nodeMarker","markerRegex","RegExp","Template","[object Object]","element","parts","nodesToRemove","stack","walker","createTreeWalker","content","lastPartIndex","partIndex","strings","values","node","nextNode","nodeType","hasAttributes","attributes","count","endsWith","name","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","getAttribute","removeAttribute","statics","tagName","currentNode","parent","parentNode","lastIndex","insert","s","createMarker","match","createTextNode","insertBefore","previousSibling","pop","str","suffix","isTemplatePartActive","part","createComment","removeNodesFromTemplate","template","nextActiveIndexInTemplateParts","nodeIndex","removeCount","nodesToRemoveInTemplate","currentRemovingNode","forEach","countNodes","startIndex","directives","directive","d","isDirective","o","noChange","nothing","TemplateInstance","processor","__parts","setValue","commit","fragment","cloneNode","importNode","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","commentMarker","TemplateResult","l","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","innerHTML","getHTML","isPrimitive","isIterable","Array","isArray","Symbol","iterator","AttributeCommitter","dirty","_createPart","AttributePart","text","v","t","setAttribute","_getValue","committer","NodePart","__pendingValue","startNode","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","valueAsString","templateFactory","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","Error","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","capture","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","once","passive","shouldAddListener","__options","getOptions","templateCache","templateCaches","stringsArray","keyString","Map","getTemplateElement","defaultTemplateProcessor","prefix","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","templateElement","styles","querySelectorAll","condensedStyle","style","textContent","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","querySelector","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","JSON","stringify","Number","parse","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","UpdatingElement","HTMLElement","_updateState","_instanceProperties","_updatePromise","Promise","res","_enableUpdatingResolver","_changedProperties","_reflectingProperties","initialize","finalize","_classProperties","p","attr","_attributeNameForProperty","_attributeToPropertyMap","superProperties","getPrototypeOf","k","_ensureClassProperties","noAccessor","getPropertyDescriptor","_options","oldValue","_requestUpdate","superCtor","props","properties","propKeys","createProperty","fromAttribute","toAttribute","_saveInstanceProperties","constructor","_v","enableUpdating","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","getPropertyOptions","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","size","_propertyToAttribute","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","_styleSheet","replaceSync","css","reduce","acc","idx","textFromCSSResult","renderNotImplemented","LitElement","userStyles","getStyles","_styles","addStyles","reduceRight","unshift","_getUniqueStyles","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","adoptedStyleSheets","map","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","firstScopeRender","renderContainer","createDocumentFragment","assign","appendInto","litRender","delete","cache","previousValue","cachedTemplate","nodes","before","reparentNodes","pathToRegexp","tokensToFunction","tokensToRegExp","PATH_REGEXP","tokens","defaultDelimiter","delimiter","delimiters","pathEscaped","m","escaped","offset","prev","next","group","modifier","partial","repeat","optional","pattern","escapeGroup","escapeString","matches","encode","encodeURIComponent","token","segment","j","flags","sensitive","strict","route","isEndDelimited","groups","regexpToRegexp","arrayToRegexp","stringToRegexp","isExternalRedirect","redirect","finishResponse","resolvedResults","router","external","_a","_b","resolved","_c","response","body","meta","methods","respond","results","params","query","hash","url","createRedirect","withLeadingSlash","charAt","createRoute","beginning","fullPath","withTrailingSlash","pathOptions","matchOptions","compile","compileOptions","exact","children","re","PathToRegexp","keyNames","childRoutes","_i","_d","child","childRoute","public","compiled","resolve","pathname","extra","matching","parsers","matchRoute","regExpMatch","matchedSegment","parsed","remainder","fullSegments","children_1","matched","createMatch","routeMatches","routeMatches_1","route_1","len","name_1","decodeURIComponent","ensureBeginsWith","defaultParseQuery","defaultStringifyQuery","noop","getStateFromHistory","history","interpolate","config","entries","extract","lookup","shift","obj","translateConfig","loader","empty","translationCache","updateLang","newLang","newStrings","detail","previousStrings","previousLang","lang","dispatchEvent","CustomEvent","listenForLangChanged","callback","handler","translation","isConnected","partCache","updatePart","cb","newValue","setInterval","whenIdle","removeDisconnectedParts","requestIdleCallback","langChanged","previousValues","unsafeHTML","json","memoize","generateKey","memoized","identity","x","FORMATS","raw","txtArrayJSON","trim","http","format","reject","xhr","XMLHttpRequest","open","headers","setRequestHeader","onload","status","getResponseHeader","responseText","ontimeout","onerror","send","inflightRequests","create","fetch","rawUrl","absoluteUrl","then","catch","pages","en","default","pointer","VAR_REGEXP","vars","_","varName","i18n","registerTranslateConfig","langUrls","dateTime","locale","Intl","DateTimeFormat","LOCALES","defaultLocale","setLocale","async","use","_defineProperty","enumerableOnly","symbols","filter","sym","_objectSpread2","getOwnPropertyDescriptors","defineProperties","TreeIterator","_tree","dive","backtrack","done","last","LEAF","_prefix","VALUES","KEYS","array","withinDistance","maxDistance","edit","distance","ia","ib","NONE","ADD","DELETE","CHANGE","SearchableMap","tree","startsWith","trackDown","last$1","nodeKey","find","_size","remove","maxEditDistance","innerStack","totDistance","Infinity","fuzzySearch","createPath","fromObject","toSplit","commonPrefix","cleanup","merge","MiniSearch","defaultOptions","searchOptions","defaultSearchOptions","fields","_index","_documentCount","_documentIds","_fieldIds","_fieldLength","_averageFieldLength","_nextId","_storedFields","addFields","extractField","tokenize","processTerm","idField","getOwnProperty","shortDocumentId","addDocumentId","saveStoredFields","field","fieldValue","addFieldLength","documentCount","term","processedTerm","isTruthy","addTerm","documents","chunkSize","chunk","promise","addAll","longId","removeTerm","queryString","searchTokenize","searchProcessTerm","termToQuery","executeQuery","combinedResults","combineResults","combineWith","docId","score","terms","uniq","sort","defaultAutoSuggestOptions","suggestions","search","phrase","suggestion","loadJS","optionName","js","nextId","documentIds","fieldIds","fieldLength","averageFieldLength","storedFields","miniSearch","boosts","boost","boostDocument","weights","fuzzy","fuzzyWeight","prefixWeight","exactMatch","termResults","atPrefix","weightedDistance","round","fuzzyGet","combinators","operator","fieldId","documentId","indexData","fieldIndex","df","ds","warnDocumentChanged","fieldName","weight","editDistance","tf","docBoost","normalizedLength","property","totalLength","doc","storeFields","or","combined","and","termFrequency","documentFrequency","log","tfIdf","_fieldName","SPACE_OR_PUNCTUATION","description","h","title","notfound","support-casljs","advanced/ability-inheritance","advanced/ability-to-database-query","advanced/customize-ability","advanced/debugging-testing","advanced/typescript","api/casl-ability","api/casl-ability-extra","cookbook/cache-rules","cookbook/claim-authorization","cookbook/intro","cookbook/less-confusing-can-api","cookbook/roles-with-persisted-permissions","cookbook/roles-with-static-permissions","guide/conditions-in-depth","guide/define-aliases","guide/define-rules","guide/install","guide/intro","guide/restricting-fields","guide/subject-type-detection","package/casl-angular","package/casl-aurelia","package/casl-mongoose","package/casl-react","package/casl-vue","contentTypes","page","summaries","searchIndexes","_pages","_summaries","_searchIndexes","_loadSearchIndex","_getSummary","_getItems","byCategories","load","message","code","categories","all","category","pageId","items","findIndex","prevIndex","nextIndex","filtered","indexUrl","searchIndex","summary","byId","hints","regexp","markedValue","markHints","pagesDetails","contentLoader","loadPages","transformParams","redirectTo","nav","getNearestFor","firstPage","at","firstCategory","loadFirstPage","renderPage","respondWithError","respondWithPage","main","sidebar","querystring","qs","buildPath","rawRoute","restrictions","questionMark","restriction","hasMissing","historyConstructor","routes","latestResponse","latestNavigation","cancelWith","cancelCallback","finishCallback","historyOptions","sideEffects","invisibleRedirects","asyncNavNotifiers","observers","oneTimers","resetCallbacks","cancelAndResetNavCallbacks","finishAndResetNavCallbacks","asyncNavComplete","emitImmediate","navigation","emit","emitted","splice","callOneTimersAndSideEffects","navigate","finalizeResponseAndEmit","pending","finish","pendingNav","action","previous","isAsyncRoute","cancel","cancelled","observe","initial","obs","can","details","pathname$1","finished","current","destroy","createRouter","major","confirmFn","utils","parseQuery","stringifyQuery","base","details_1","substring","hashIndex","rawQuery","queryIndex","keyed","firstChar","locationUtils","keygen","minor","confirmNavigation","info","allow","prevent","confirm","fromBrowser","providedState","replaceState","lastAction","responseHandler","createNavigation","nextAction","replaceNav","pushNav","prepare","to","navType","currentLocation","emitNavigation","cancelPending","navigateWith","browserHistory","pushState","reverting","popstate","navigator","ignorablePopstateEvent","diff","revert","go","num","mappedRoutes","prepared","prepared_1","prepareRoutes","buildRoutes","rawRoutes","controllers","buildController","controller","routesConfig","Home","Page","emptyRoot","hasBase","createBase","originalUrl","scrollRestoration","viewport","visualViewport","date","actualDate","Date","formatDate","ut","App","_route","_notificationsRoot","_menu","_isMobile","ready","_unwatch","_closeMenu","onUpdate","ql","matchMedia","notify","watchMedia","ctrlKey","shiftKey","keyCode","disconnectedCallback","unwatch","shadowRoot","_toggleMenu","toggle","close","notification","onClick","root","position","right","bottom","zIndex","width","createNotificationsRoot","_renderDrawerMenu","menu","_getLayout","AppRoot","theme","layout","gridCss","Footer","getFullYear","year","mdCss","Header","_isCompactSearch","_emitToggleMenu","bubbles","composed","_renderControls","_toggleSearch","_renderMenuToggler","changed","Link","active","_url","_unwatchRouter","_isActive","_getUrl","_navigate","isUrlChanged","some","_generateUrl","classList","preventDefault","Menu","_renderNav","navClass","heading","renderNavItem","_renderItemNav","expanded","ArticleDetails","article","createdAt","author","commentsCount","I18nElement","_unwatchLang","_locale","reload","requestUpdate","cName","setTitle","setMeta","defaultValue","head","getMetaTag","setRouteMeta","documentElement","translationExists","scrollToElement","getElementById","scrollIntoView","scrollTop","renderContent","_page","clickedTarget","closest","href","tryToNavigateElement","keywords","setPageMeta","scroll","scrollToSectionIn","pageCss","codeCss","PageNav","pageType","_linkTo","features","renderFeature","HomePage","btnCss","createElementInDocument","tag","domain","useXHR","useShadowDOM","onEvent","func","attachEvent","offEvent","detachEvent","widgetColorSchemes","light","dark","getColorSchemeMediaQuery","systemColorScheme","widgetColorScheme","getColorScheme","declarations","colorSchemes","sep","eq","entry","mark-github","heights","16","heart","eye","star","repo-forked","repo-template","issue-opened","download","octicon","icon","height","defaultHeight","svg","queues","onceToken","dispatchOnce","contentWindow","script","src","onloadend","readyState","regex","onceReadyStateChange","getElementsByTagName","ownerDocument","btn","className","rel","aria-label","widget","hostname","api","html_url","devicePixelRatio","ceilPixel","px","render$1","anchor","innerText","parseOptions","iframe","allowtransparency","scrolling","frameBorder","border","offsetWidth","offsetHeight","getBoundingClientRect","boundingClientRect","onceEvent","iframeURL","GithubButton","showCount","_collectOptions","replaceChild","SUGGESTION_TEMPLATES","dropdown","headings","ICON_SEARCH","ICON_ARROW","QuickSearch","suggestionsType","compact","toggler","_suggestions","_clickOutside","_search","timeout","timerId","clearTimeout","debounce","_setValue","_reset","contains","_updateValue","_emitIconClick","renderSuggestion","renderSuggestions","LangPicker","_changeLang","PAYMENT_OPTIONS","liqpay","image","PAYMENT_NAMES","OneTimeDonations","selected","_setSelected","option","renderPaymentOption","PagesByCategories","AppNotification","requestAnimationFrame","webkitRequestAnimationFrame","msPointerEnabled","r","move","u","panel","eventsEmitter","touch","side","easing","parseInt","duration","T","tolerance","M","padding","innerWidth","g","I","S","isOpen","X","C","touches","pageX","clientWidth","D","abs","K","clientX","MenuDrawer","_drawer","disabled","_scrollTop","_createDrawer","Slideout","on","pageYOffset","top","switchEnable","fetchVersions","VersionsSelect","_versions","_currentVersion","number","versions","reverse","_updateVersion","selectedVersion","OldVersionAlert","latestVersion","currentVersion","latestVersionUrl","alertCss","components","AppFooter","AppHeader","AppLink","AppMenu","isLocalhost","isSupportedServiceWorker","registerValidSW","swUrl","isRefreshing","serviceWorker","register","registration","onupdatefound","worker","onstatechange","onSuccess","notifyAboutNewWorker","installing","__isAppExecuted__","app","selector","define","bootstrap","contentType","unregister","checkValidServiceWorker"],"mappings":"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"}